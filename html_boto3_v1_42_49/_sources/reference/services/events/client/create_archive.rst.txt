:doc:`EventBridge <../../events>` / Client / create_archive

**************
create_archive
**************



.. py:method:: EventBridge.Client.create_archive(**kwargs)

  

  Creates an archive of events with the specified settings. When you create an archive, incoming events might not immediately start being sent to the archive. Allow a short period of time for changes to take effect. If you do not specify a pattern to filter events sent to the archive, all events are sent to the archive except replayed events. Replayed events are not sent to an archive.

   

  .. warning::

     

    If you have specified that EventBridge use a customer managed key for encrypting the source event bus, we strongly recommend you also specify a customer managed key for any archives for the event bus as well.

     

    For more information, see `Encrypting archives <https://docs.aws.amazon.com/eventbridge/latest/userguide/encryption-archives.html>`__ in the *Amazon EventBridge User Guide*.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/eventbridge-2015-10-07/CreateArchive>`_  


  **Request Syntax**
  ::

    response = client.create_archive(
        ArchiveName='string',
        EventSourceArn='string',
        Description='string',
        EventPattern='string',
        RetentionDays=123,
        KmsKeyIdentifier='string'
    )
    
  :type ArchiveName: string
  :param ArchiveName: **[REQUIRED]** 

    The name for the archive to create.

    

  
  :type EventSourceArn: string
  :param EventSourceArn: **[REQUIRED]** 

    The ARN of the event bus that sends events to the archive.

    

  
  :type Description: string
  :param Description: 

    A description for the archive.

    

  
  :type EventPattern: string
  :param EventPattern: 

    An event pattern to use to filter events sent to the archive.

    

  
  :type RetentionDays: integer
  :param RetentionDays: 

    The number of days to retain events for. Default value is 0. If set to 0, events are retained indefinitely

    

  
  :type KmsKeyIdentifier: string
  :param KmsKeyIdentifier: 

    The identifier of the KMS customer managed key for EventBridge to use, if you choose to use a customer managed key to encrypt this archive. The identifier can be the key Amazon Resource Name (ARN), KeyId, key alias, or key alias ARN.

     

    If you do not specify a customer managed key identifier, EventBridge uses an Amazon Web Services owned key to encrypt the archive.

     

    For more information, see `Identify and view keys <https://docs.aws.amazon.com/kms/latest/developerguide/viewing-keys.html>`__ in the *Key Management Service Developer Guide*.

     

    .. warning::

       

      If you have specified that EventBridge use a customer managed key for encrypting the source event bus, we strongly recommend you also specify a customer managed key for any archives for the event bus as well.

       

      For more information, see `Encrypting archives <https://docs.aws.amazon.com/eventbridge/latest/userguide/encryption-archives.html>`__ in the *Amazon EventBridge User Guide*.

      

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ArchiveArn': 'string',
          'State': 'ENABLED'|'DISABLED'|'CREATING'|'UPDATING'|'CREATE_FAILED'|'UPDATE_FAILED',
          'StateReason': 'string',
          'CreationTime': datetime(2015, 1, 1)
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ArchiveArn** *(string) --* 

        The ARN of the archive that was created.

        
      

      - **State** *(string) --* 

        The state of the archive that was created.

        
      

      - **StateReason** *(string) --* 

        The reason that the archive is in the state.

        
      

      - **CreationTime** *(datetime) --* 

        The time at which the archive was created.

        
  
  **Exceptions**
  
  *   :py:class:`EventBridge.Client.exceptions.ConcurrentModificationException`

  
  *   :py:class:`EventBridge.Client.exceptions.ResourceAlreadyExistsException`

  
  *   :py:class:`EventBridge.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`EventBridge.Client.exceptions.InternalException`

  
  *   :py:class:`EventBridge.Client.exceptions.LimitExceededException`

  
  *   :py:class:`EventBridge.Client.exceptions.InvalidEventPatternException`

  