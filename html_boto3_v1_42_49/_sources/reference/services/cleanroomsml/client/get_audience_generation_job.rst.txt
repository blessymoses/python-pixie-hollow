:doc:`CleanRoomsML <../../cleanroomsml>` / Client / get_audience_generation_job

***************************
get_audience_generation_job
***************************



.. py:method:: CleanRoomsML.Client.get_audience_generation_job(**kwargs)

  

  Returns information about an audience generation job.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/cleanroomsml-2023-09-06/GetAudienceGenerationJob>`_  


  **Request Syntax**
  ::

    response = client.get_audience_generation_job(
        audienceGenerationJobArn='string'
    )
    
  :type audienceGenerationJobArn: string
  :param audienceGenerationJobArn: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the audience generation job that you are interested in.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'createTime': datetime(2015, 1, 1),
          'updateTime': datetime(2015, 1, 1),
          'audienceGenerationJobArn': 'string',
          'name': 'string',
          'description': 'string',
          'status': 'CREATE_PENDING'|'CREATE_IN_PROGRESS'|'CREATE_FAILED'|'ACTIVE'|'DELETE_PENDING'|'DELETE_IN_PROGRESS'|'DELETE_FAILED',
          'statusDetails': {
              'statusCode': 'string',
              'message': 'string'
          },
          'configuredAudienceModelArn': 'string',
          'seedAudience': {
              'dataSource': {
                  's3Uri': 'string'
              },
              'roleArn': 'string',
              'sqlParameters': {
                  'queryString': 'string',
                  'analysisTemplateArn': 'string',
                  'parameters': {
                      'string': 'string'
                  }
              },
              'sqlComputeConfiguration': {
                  'worker': {
                      'type': 'CR.1X'|'CR.4X',
                      'number': 123,
                      'properties': {
                          'spark': {
                              'string': 'string'
                          }
                      }
                  }
              }
          },
          'includeSeedInOutput': True|False,
          'collaborationId': 'string',
          'metrics': {
              'relevanceMetrics': [
                  {
                      'audienceSize': {
                          'type': 'ABSOLUTE'|'PERCENTAGE',
                          'value': 123
                      },
                      'score': 123.0
                  },
              ],
              'recallMetric': 123.0
          },
          'startedBy': 'string',
          'tags': {
              'string': 'string'
          },
          'protectedQueryIdentifier': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **createTime** *(datetime) --* 

        The time at which the audience generation job was created.

        
      

      - **updateTime** *(datetime) --* 

        The most recent time at which the audience generation job was updated.

        
      

      - **audienceGenerationJobArn** *(string) --* 

        The Amazon Resource Name (ARN) of the audience generation job.

        
      

      - **name** *(string) --* 

        The name of the audience generation job.

        
      

      - **description** *(string) --* 

        The description of the audience generation job.

        
      

      - **status** *(string) --* 

        The status of the audience generation job.

        
      

      - **statusDetails** *(dict) --* 

        Details about the status of the audience generation job.

        
        

        - **statusCode** *(string) --* 

          The status code that was returned. The status code is intended for programmatic error handling. Clean Rooms ML will not change the status code for existing error conditions.

          
        

        - **message** *(string) --* 

          The error message that was returned. The message is intended for human consumption and can change at any time. Use the ``statusCode`` for programmatic error handling.

          
    
      

      - **configuredAudienceModelArn** *(string) --* 

        The Amazon Resource Name (ARN) of the configured audience model used for this audience generation job.

        
      

      - **seedAudience** *(dict) --* 

        The seed audience that was used for this audience generation job. This field will be null if the account calling the API is the account that started this audience generation job.

        
        

        - **dataSource** *(dict) --* 

          Defines the Amazon S3 bucket where the seed audience for the generating audience is stored. A valid data source is a JSON line file in the following format:

           

          ``{"user_id": "111111"}``

           

          ``{"user_id": "222222"}``

           

          ``...``

          
          

          - **s3Uri** *(string) --* 

            The Amazon S3 location URI.

            
      
        

        - **roleArn** *(string) --* 

          The ARN of the IAM role that can read the Amazon S3 bucket where the seed audience is stored.

          
        

        - **sqlParameters** *(dict) --* 

          The protected SQL query parameters.

          
          

          - **queryString** *(string) --* 

            The query string to be submitted.

            
          

          - **analysisTemplateArn** *(string) --* 

            The Amazon Resource Name (ARN) associated with the analysis template within a collaboration.

            
          

          - **parameters** *(dict) --* 

            The protected query SQL parameters.

            
            

            - *(string) --* 
              

              - *(string) --* 
        
      
      
        

        - **sqlComputeConfiguration** *(dict) --* 

          Provides configuration information for the instances that will perform the compute work.

          .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``worker``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


        
          

          - **worker** *(dict) --* 

            The worker instances that will perform the compute work.

            
            

            - **type** *(string) --* 

              The instance type of the compute workers that are used.

              
            

            - **number** *(integer) --* 

              The number of compute workers that are used.

              
            

            - **properties** *(dict) --* 

              The configuration properties for the worker compute environment. These properties allow you to customize the compute settings for your Clean Rooms workloads.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``spark``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                            'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


            
              

              - **spark** *(dict) --* 

                The Spark configuration properties for SQL workloads. This map contains key-value pairs that configure Apache Spark settings to optimize performance for your data processing jobs. You can specify up to 50 Spark properties, with each key being 1-200 characters and each value being 0-500 characters. These properties allow you to adjust compute capacity for large datasets and complex workloads.

                
                

                - *(string) --* 
                  

                  - *(string) --* 
            
          
          
        
      
    
      

      - **includeSeedInOutput** *(boolean) --* 

        Configure whether the seed users are included in the output audience. By default, Clean Rooms ML removes seed users from the output audience. If you specify ``TRUE``, the seed users will appear first in the output. Clean Rooms ML does not explicitly reveal whether a user was in the seed, but the recipient of the audience will know that the first ``minimumSeedSize`` count of users are from the seed.

        
      

      - **collaborationId** *(string) --* 

        The identifier of the collaboration that this audience generation job is associated with.

        
      

      - **metrics** *(dict) --* 

        The relevance scores for different audience sizes and the recall score of the generated audience.

        
        

        - **relevanceMetrics** *(list) --* 

          The relevance scores of the generated audience.

          
          

          - *(dict) --* 

            The relevance score of a generated audience.

            
            

            - **audienceSize** *(dict) --* 

              The size of the generated audience. Must match one of the sizes in the configured audience model.

              
              

              - **type** *(string) --* 

                Whether the audience size is defined in absolute terms or as a percentage. You can use the ``ABSOLUTE``  AudienceSize to configure out audience sizes using the count of identifiers in the output. You can use the ``Percentage``  AudienceSize to configure sizes in the range 1-100 percent.

                
              

              - **value** *(integer) --* 

                Specify an audience size value.

                
          
            

            - **score** *(float) --* 

              The relevance score of the generated audience.

              
        
      
        

        - **recallMetric** *(float) --* 

          The recall score of the generated audience. Recall is the percentage of the most similar users (by default, the most similar 20%) from a sample of the training data that are included in the seed audience by the audience generation job. Values range from 0-1, larger values indicate a better audience. A recall value approximately equal to the maximum bin size indicates that the audience model is equivalent to random selection.

          
    
      

      - **startedBy** *(string) --* 

        The AWS account that started this audience generation job.

        
      

      - **tags** *(dict) --* 

        The tags that are associated to this audience generation job.

        
        

        - *(string) --* 
          

          - *(string) --* 
    
  
      

      - **protectedQueryIdentifier** *(string) --* 

        The unique identifier of the protected query for this audience generation job.

        
  
  **Exceptions**
  
  *   :py:class:`CleanRoomsML.Client.exceptions.ValidationException`

  
  *   :py:class:`CleanRoomsML.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`CleanRoomsML.Client.exceptions.ResourceNotFoundException`

  