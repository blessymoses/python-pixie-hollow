:doc:`ChimeSDKVoice <../../chime-sdk-voice>` / Client / create_sip_rule

***************
create_sip_rule
***************



.. py:method:: ChimeSDKVoice.Client.create_sip_rule(**kwargs)

  

  Creates a SIP rule, which can be used to run a SIP media application as a target for a specific trigger type. For more information about SIP rules, see `Managing SIP media applications and rules <https://docs.aws.amazon.com/chime-sdk/latest/ag/manage-sip-applications.html>`__ in the *Amazon Chime SDK Administrator Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/chime-sdk-voice-2022-08-03/CreateSipRule>`_  


  **Request Syntax**
  ::

    response = client.create_sip_rule(
        Name='string',
        TriggerType='ToPhoneNumber'|'RequestUriHostname',
        TriggerValue='string',
        Disabled=True|False,
        TargetApplications=[
            {
                'SipMediaApplicationId': 'string',
                'Priority': 123,
                'AwsRegion': 'string'
            },
        ]
    )
    
  :type Name: string
  :param Name: **[REQUIRED]** 

    The name of the SIP rule.

    

  
  :type TriggerType: string
  :param TriggerType: **[REQUIRED]** 

    The type of trigger assigned to the SIP rule in ``TriggerValue``, currently ``RequestUriHostname`` or ``ToPhoneNumber``.

    

  
  :type TriggerValue: string
  :param TriggerValue: **[REQUIRED]** 

    If ``TriggerType`` is ``RequestUriHostname``, the value can be the outbound host name of a Voice Connector. If ``TriggerType`` is ``ToPhoneNumber``, the value can be a customer-owned phone number in the E164 format. The ``SipMediaApplication`` specified in the ``SipRule`` is triggered if the request URI in an incoming SIP request matches the ``RequestUriHostname``, or if the ``To`` header in the incoming SIP request matches the ``ToPhoneNumber`` value.

    

  
  :type Disabled: boolean
  :param Disabled: 

    Disables or enables a SIP rule. You must disable SIP rules before you can delete them.

    

  
  :type TargetApplications: list
  :param TargetApplications: 

    List of SIP media applications, with priority and AWS Region. Only one SIP application per AWS Region can be used.

    

  
    - *(dict) --* 

      A target SIP media application and other details, such as priority and AWS Region, to be specified in the SIP rule. Only one SIP rule per AWS Region can be provided.

      

    
      - **SipMediaApplicationId** *(string) --* 

        The ID of a rule's target SIP media application.

        

      
      - **Priority** *(integer) --* 

        The priority setting of a rule's target SIP media application.

        

      
      - **AwsRegion** *(string) --* 

        The AWS Region of a rule's target SIP media application.

        

      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'SipRule': {
              'SipRuleId': 'string',
              'Name': 'string',
              'Disabled': True|False,
              'TriggerType': 'ToPhoneNumber'|'RequestUriHostname',
              'TriggerValue': 'string',
              'TargetApplications': [
                  {
                      'SipMediaApplicationId': 'string',
                      'Priority': 123,
                      'AwsRegion': 'string'
                  },
              ],
              'CreatedTimestamp': datetime(2015, 1, 1),
              'UpdatedTimestamp': datetime(2015, 1, 1)
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **SipRule** *(dict) --* 

        The SIP rule information, including the rule ID, triggers, and target applications.

        
        

        - **SipRuleId** *(string) --* 

          A SIP rule's ID.

          
        

        - **Name** *(string) --* 

          A SIP rule's name.

          
        

        - **Disabled** *(boolean) --* 

          Indicates whether the SIP rule is enabled or disabled. You must disable a rule before you can delete it.

          
        

        - **TriggerType** *(string) --* 

          The type of trigger set for a SIP rule, either a phone number or a URI request host name.

          
        

        - **TriggerValue** *(string) --* 

          The value set for a SIP rule's trigger type. Either a phone number or a URI hostname.

          
        

        - **TargetApplications** *(list) --* 

          The target SIP media application and other details, such as priority and AWS Region, to be specified in the SIP rule. Only one SIP rule per AWS Region can be provided.

          
          

          - *(dict) --* 

            A target SIP media application and other details, such as priority and AWS Region, to be specified in the SIP rule. Only one SIP rule per AWS Region can be provided.

            
            

            - **SipMediaApplicationId** *(string) --* 

              The ID of a rule's target SIP media application.

              
            

            - **Priority** *(integer) --* 

              The priority setting of a rule's target SIP media application.

              
            

            - **AwsRegion** *(string) --* 

              The AWS Region of a rule's target SIP media application.

              
        
      
        

        - **CreatedTimestamp** *(datetime) --* 

          The time at which the SIP rule was created, in ISO 8601 format.

          
        

        - **UpdatedTimestamp** *(datetime) --* 

          The time at which the SIP rule was updated, in ISO 8601 format.

          
    
  
  **Exceptions**
  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.BadRequestException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.ForbiddenException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.UnauthorizedClientException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.ThrottledClientException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.ResourceLimitExceededException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.ConflictException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.ServiceUnavailableException`

  
  *   :py:class:`ChimeSDKVoice.Client.exceptions.ServiceFailureException`

  