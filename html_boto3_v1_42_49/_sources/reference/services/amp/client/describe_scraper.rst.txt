:doc:`PrometheusService <../../amp>` / Client / describe_scraper

****************
describe_scraper
****************



.. py:method:: PrometheusService.Client.describe_scraper(**kwargs)

  

  The ``DescribeScraper`` operation displays information about an existing scraper.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/amp-2020-08-01/DescribeScraper>`_  


  **Request Syntax**
  ::

    response = client.describe_scraper(
        scraperId='string'
    )
    
  :type scraperId: string
  :param scraperId: **[REQUIRED]** 

    The ID of the scraper to describe.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'scraper': {
              'alias': 'string',
              'scraperId': 'string',
              'arn': 'string',
              'roleArn': 'string',
              'status': {
                  'statusCode': 'CREATING'|'UPDATING'|'ACTIVE'|'DELETING'|'CREATION_FAILED'|'UPDATE_FAILED'|'DELETION_FAILED'
              },
              'createdAt': datetime(2015, 1, 1),
              'lastModifiedAt': datetime(2015, 1, 1),
              'tags': {
                  'string': 'string'
              },
              'statusReason': 'string',
              'scrapeConfiguration': {
                  'configurationBlob': b'bytes'
              },
              'source': {
                  'eksConfiguration': {
                      'clusterArn': 'string',
                      'securityGroupIds': [
                          'string',
                      ],
                      'subnetIds': [
                          'string',
                      ]
                  },
                  'vpcConfiguration': {
                      'securityGroupIds': [
                          'string',
                      ],
                      'subnetIds': [
                          'string',
                      ]
                  }
              },
              'destination': {
                  'ampConfiguration': {
                      'workspaceArn': 'string'
                  }
              },
              'roleConfiguration': {
                  'sourceRoleArn': 'string',
                  'targetRoleArn': 'string'
              }
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 

      Represents the output of a ``DescribeScraper`` operation.

      
      

      - **scraper** *(dict) --* 

        Contains details about the scraper.

        
        

        - **alias** *(string) --* 

          (Optional) A name associated with the scraper.

          
        

        - **scraperId** *(string) --* 

          The ID of the scraper. For example, ``s-example1-1234-abcd-5678-ef9012abcd34``.

          
        

        - **arn** *(string) --* 

          The Amazon Resource Name (ARN) of the scraper. For example, ``arn:aws:aps:<region>:123456798012:scraper/s-example1-1234-abcd-5678-ef9012abcd34``.

          
        

        - **roleArn** *(string) --* 

          The Amazon Resource Name (ARN) of the IAM role that provides permissions for the scraper to discover and collect metrics on your behalf.

           

          For example, ``arn:aws:iam::123456789012:role/service-role/AmazonGrafanaServiceRole-12example``.

          
        

        - **status** *(dict) --* 

          A structure that contains the current status of the scraper.

          
          

          - **statusCode** *(string) --* 

            The current status of the scraper.

            
      
        

        - **createdAt** *(datetime) --* 

          The date and time that the scraper was created.

          
        

        - **lastModifiedAt** *(datetime) --* 

          The date and time that the scraper was last modified.

          
        

        - **tags** *(dict) --* 

          (Optional) The list of tag keys and values associated with the scraper.

          
          

          - *(string) --* 

            The key of the tag. Must not begin with ``aws:``.

            
            

            - *(string) --* 

              The value of the tag.

              
      
    
        

        - **statusReason** *(string) --* 

          If there is a failure, the reason for the failure.

          
        

        - **scrapeConfiguration** *(dict) --* 

          The configuration in use by the scraper.

          .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``configurationBlob``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


        
          

          - **configurationBlob** *(bytes) --* 

            The base 64 encoded scrape configuration file.

            
      
        

        - **source** *(dict) --* 

          The Amazon EKS cluster from which the scraper collects metrics.

          .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``eksConfiguration``, ``vpcConfiguration``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


        
          

          - **eksConfiguration** *(dict) --* 

            The Amazon EKS cluster from which a scraper collects metrics.

            
            

            - **clusterArn** *(string) --* 

              ARN of the Amazon EKS cluster.

              
            

            - **securityGroupIds** *(list) --* 

              A list of the security group IDs for the Amazon EKS cluster VPC configuration.

              
              

              - *(string) --* 

                ID of a VPC security group.

                
          
            

            - **subnetIds** *(list) --* 

              A list of subnet IDs for the Amazon EKS cluster VPC configuration.

              
              

              - *(string) --* 

                ID of a VPC subnet.

                
          
        
          

          - **vpcConfiguration** *(dict) --* 

            The Amazon VPC configuration for the Prometheus collector when connecting to Amazon MSK clusters. This configuration enables secure, private network connectivity between the collector and your Amazon MSK cluster within your Amazon VPC.

            
            

            - **securityGroupIds** *(list) --* 

              The security group IDs that control network access for the Prometheus collector. These security groups must allow the collector to communicate with your Amazon MSK cluster on the required ports.

              
              

              - *(string) --* 

                ID of a VPC security group.

                
          
            

            - **subnetIds** *(list) --* 

              The subnet IDs where the Prometheus collector will be deployed. The subnets must be in the same Amazon VPC as your Amazon MSK cluster and have network connectivity to the cluster.

              
              

              - *(string) --* 

                ID of a VPC subnet.

                
          
        
      
        

        - **destination** *(dict) --* 

          The Amazon Managed Service for Prometheus workspace the scraper sends metrics to.

          .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``ampConfiguration``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


        
          

          - **ampConfiguration** *(dict) --* 

            The Amazon Managed Service for Prometheus workspace to send metrics to.

            
            

            - **workspaceArn** *(string) --* 

              ARN of the Amazon Managed Service for Prometheus workspace.

              
        
      
        

        - **roleConfiguration** *(dict) --* 

          This structure displays information about the IAM roles used for cross-account scraping configuration.

          
          

          - **sourceRoleArn** *(string) --* 

            The Amazon Resource Name (ARN) of the role used in the source account to enable cross-account scraping. For information about the contents of this policy, see `Cross-account setup <https://docs.aws.amazon.com/prometheus/latest/userguide/AMP-collector-how-to.html#cross-account-remote-write>`__.

            
          

          - **targetRoleArn** *(string) --* 

            The Amazon Resource Name (ARN) of the role used in the target account to enable cross-account scraping. For information about the contents of this policy, see `Cross-account setup <https://docs.aws.amazon.com/prometheus/latest/userguide/AMP-collector-how-to.html#cross-account-remote-write>`__.

            
      
    
  
  **Exceptions**
  
  *   :py:class:`PrometheusService.Client.exceptions.ThrottlingException`

  
  *   :py:class:`PrometheusService.Client.exceptions.ValidationException`

  
  *   :py:class:`PrometheusService.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`PrometheusService.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`PrometheusService.Client.exceptions.InternalServerException`

  