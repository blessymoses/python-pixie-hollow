:doc:`StorageGateway <../../storagegateway>` / Client / evict_files_failing_upload

**************************
evict_files_failing_upload
**************************



.. py:method:: StorageGateway.Client.evict_files_failing_upload(**kwargs)

  

  Starts a process that cleans the specified file share's cache of file entries that are failing upload to Amazon S3. This API operation reports success if the request is received with valid arguments, and there are no other cache clean operations currently in-progress for the specified file share. After a successful request, the cache clean operation occurs asynchronously and reports progress using CloudWatch logs and notifications.

   

  .. warning::

     

    If ``ForceRemove`` is set to ``True``, the cache clean operation will delete file data from the gateway which might otherwise be recoverable. We recommend using this operation only after all other methods to clear files failing upload have been exhausted, and if your business need outweighs the potential data loss.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/storagegateway-2013-06-30/EvictFilesFailingUpload>`_  


  **Request Syntax**
  ::

    response = client.evict_files_failing_upload(
        FileShareARN='string',
        ForceRemove=True|False
    )
    
  :type FileShareARN: string
  :param FileShareARN: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the file share for which you want to start the cache clean operation.

    

  
  :type ForceRemove: boolean
  :param ForceRemove: 

    Specifies whether cache entries with full or partial file data currently stored on the gateway will be forcibly removed by the cache clean operation.

     

    Valid arguments:

     

    
    * ``False`` - The cache clean operation skips cache entries failing upload if they are associated with data currently stored on the gateway. This preserves the cached data.
     
    * ``True`` - The cache clean operation removes cache entries failing upload even if they are associated with data currently stored on the gateway. This deletes the cached data. 

    .. warning::

      If ``ForceRemove`` is set to ``True``, the cache clean operation will delete file data from the gateway which might otherwise be recoverable.

    
    

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'NotificationId': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **NotificationId** *(string) --* 

        The randomly generated ID of the CloudWatch notification associated with the cache clean operation. This ID is in UUID format.

        
  
  **Exceptions**
  
  *   :py:class:`StorageGateway.Client.exceptions.InvalidGatewayRequestException`

  
  *   :py:class:`StorageGateway.Client.exceptions.InternalServerError`

  