:doc:`StorageGateway <../../storagegateway>` / Client / update_maintenance_start_time

*****************************
update_maintenance_start_time
*****************************



.. py:method:: StorageGateway.Client.update_maintenance_start_time(**kwargs)

  

  Updates a gateway's maintenance window schedule, with settings for monthly or weekly cadence, specific day and time to begin maintenance, and which types of updates to apply. Time configuration uses the gateway's time zone. You can pass values for a complete maintenance schedule, or update policy, or both. Previous values will persist for whichever setting you choose not to modify. If an incomplete or invalid maintenance schedule is passed, the entire request will be rejected with an error and no changes will occur.

   

  A complete maintenance schedule must include values for *both* ``MinuteOfHour`` and ``HourOfDay``, and *either* ``DayOfMonth`` *or* ``DayOfWeek``.

   

  .. note::

    

    We recommend keeping maintenance updates turned on, except in specific use cases where the brief disruptions caused by updating the gateway could critically impact your deployment.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/storagegateway-2013-06-30/UpdateMaintenanceStartTime>`_  


  **Request Syntax**
  ::

    response = client.update_maintenance_start_time(
        GatewayARN='string',
        HourOfDay=123,
        MinuteOfHour=123,
        DayOfWeek=123,
        DayOfMonth=123,
        SoftwareUpdatePreferences={
            'AutomaticUpdatePolicy': 'ALL_VERSIONS'|'EMERGENCY_VERSIONS_ONLY'
        }
    )
    
  :type GatewayARN: string
  :param GatewayARN: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the gateway. Use the  ListGateways operation to return a list of gateways for your account and Amazon Web Services Region.

    

  
  :type HourOfDay: integer
  :param HourOfDay: 

    The hour component of the maintenance start time represented as *hh*, where *hh* is the hour (00 to 23). The hour of the day is in the time zone of the gateway.

    

  
  :type MinuteOfHour: integer
  :param MinuteOfHour: 

    The minute component of the maintenance start time represented as *mm*, where *mm* is the minute (00 to 59). The minute of the hour is in the time zone of the gateway.

    

  
  :type DayOfWeek: integer
  :param DayOfWeek: 

    The day of the week component of the maintenance start time week represented as an ordinal number from 0 to 6, where 0 represents Sunday and 6 represents Saturday.

    

  
  :type DayOfMonth: integer
  :param DayOfMonth: 

    The day of the month component of the maintenance start time represented as an ordinal number from 1 to 28, where 1 represents the first day of the month. It is not possible to set the maintenance schedule to start on days 29 through 31.

    

  
  :type SoftwareUpdatePreferences: dict
  :param SoftwareUpdatePreferences: 

    A set of variables indicating the software update preferences for the gateway.

     

    Includes ``AutomaticUpdatePolicy`` field with the following inputs:

     

    ``ALL_VERSIONS`` - Enables regular gateway maintenance updates.

     

    ``EMERGENCY_VERSIONS_ONLY`` - Disables regular gateway maintenance updates. The gateway will still receive emergency version updates on rare occasions if necessary to remedy highly critical security or durability issues. You will be notified before an emergency version update is applied. These updates are applied during your gateway's scheduled maintenance window.

    

  
    - **AutomaticUpdatePolicy** *(string) --* 

      Indicates the automatic update policy for a gateway.

       

      ``ALL_VERSIONS`` - Enables regular gateway maintenance updates.

       

      ``EMERGENCY_VERSIONS_ONLY`` - Disables regular gateway maintenance updates. The gateway will still receive emergency version updates on rare occasions if necessary to remedy highly critical security or durability issues. You will be notified before an emergency version update is applied. These updates are applied during your gateway's scheduled maintenance window.

      

    
  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'GatewayARN': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 

      A JSON object containing the Amazon Resource Name (ARN) of the gateway whose maintenance start time is updated.

      
      

      - **GatewayARN** *(string) --* 

        The Amazon Resource Name (ARN) of the gateway. Use the  ListGateways operation to return a list of gateways for your account and Amazon Web Services Region.

        
  
  **Exceptions**
  
  *   :py:class:`StorageGateway.Client.exceptions.InvalidGatewayRequestException`

  
  *   :py:class:`StorageGateway.Client.exceptions.InternalServerError`

  

  **Examples**

  Updates a gateway's weekly maintenance start time information, including day and time of the week. The maintenance time is in your gateway's time zone.
  ::

    response = client.update_maintenance_start_time(
        DayOfWeek=2,
        GatewayARN='arn:aws:storagegateway:us-east-1:111122223333:gateway/sgw-12A3456B',
        HourOfDay=0,
        MinuteOfHour=30,
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'GatewayARN': 'arn:aws:storagegateway:us-east-1:111122223333:gateway/sgw-12A3456B',
        'ResponseMetadata': {
            '...': '...',
        },
    }

  