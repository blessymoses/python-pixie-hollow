:doc:`StorageGateway <../../storagegateway>` / Client / attach_volume

*************
attach_volume
*************



.. py:method:: StorageGateway.Client.attach_volume(**kwargs)

  

  Connects a volume to an iSCSI connection and then attaches the volume to the specified gateway. Detaching and attaching a volume enables you to recover your data from one gateway to a different gateway without creating a snapshot. It also makes it easier to move your volumes from an on-premises gateway to a gateway hosted on an Amazon EC2 instance.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/storagegateway-2013-06-30/AttachVolume>`_  


  **Request Syntax**
  ::

    response = client.attach_volume(
        GatewayARN='string',
        TargetName='string',
        VolumeARN='string',
        NetworkInterfaceId='string',
        DiskId='string'
    )
    
  :type GatewayARN: string
  :param GatewayARN: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the gateway that you want to attach the volume to.

    

  
  :type TargetName: string
  :param TargetName: 

    The name of the iSCSI target used by an initiator to connect to a volume and used as a suffix for the target ARN. For example, specifying ``TargetName`` as *myvolume* results in the target ARN of ``arn:aws:storagegateway:us-east-2:111122223333:gateway/sgw-12A3456B/target/iqn.1997-05.com.amazon:myvolume``. The target name must be unique across all volumes on a gateway.

     

    If you don't specify a value, Storage Gateway uses the value that was previously used for this volume as the new target name.

    

  
  :type VolumeARN: string
  :param VolumeARN: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the volume to attach to the specified gateway.

    

  
  :type NetworkInterfaceId: string
  :param NetworkInterfaceId: **[REQUIRED]** 

    The network interface of the gateway on which to expose the iSCSI target. Accepts IPv4 and IPv6 addresses. Use  DescribeGatewayInformation to get a list of the network interfaces available on a gateway.

     

    Valid Values: A valid IP address.

    

  
  :type DiskId: string
  :param DiskId: 

    The unique device ID or other distinguishing data that identifies the local disk used to create the volume. This value is only required when you are attaching a stored volume.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'VolumeARN': 'string',
          'TargetARN': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 

      AttachVolumeOutput

      
      

      - **VolumeARN** *(string) --* 

        The Amazon Resource Name (ARN) of the volume that was attached to the gateway.

        
      

      - **TargetARN** *(string) --* 

        The Amazon Resource Name (ARN) of the volume target, which includes the iSCSI name for the initiator that was used to connect to the target.

        
  
  **Exceptions**
  
  *   :py:class:`StorageGateway.Client.exceptions.InvalidGatewayRequestException`

  
  *   :py:class:`StorageGateway.Client.exceptions.InternalServerError`

  