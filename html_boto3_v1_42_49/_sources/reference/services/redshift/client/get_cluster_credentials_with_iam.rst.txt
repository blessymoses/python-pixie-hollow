:doc:`Redshift <../../redshift>` / Client / get_cluster_credentials_with_iam

********************************
get_cluster_credentials_with_iam
********************************



.. py:method:: Redshift.Client.get_cluster_credentials_with_iam(**kwargs)

  

  Returns a database user name and temporary password with temporary authorization to log in to an Amazon Redshift database. The database user is mapped 1:1 to the source Identity and Access Management (IAM) identity. For more information about IAM identities, see `IAM Identities (users, user groups, and roles) <https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html>`__ in the Amazon Web Services Identity and Access Management User Guide.

   

  The Identity and Access Management (IAM) identity that runs this operation must have an IAM policy attached that allows access to all necessary actions and resources. For more information about permissions, see `Using identity-based policies (IAM policies) <https://docs.aws.amazon.com/redshift/latest/mgmt/redshift-iam-access-control-identity-based.html>`__ in the Amazon Redshift Cluster Management Guide.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/redshift-2012-12-01/GetClusterCredentialsWithIAM>`_  


  **Request Syntax**
  ::

    response = client.get_cluster_credentials_with_iam(
        DbName='string',
        ClusterIdentifier='string',
        DurationSeconds=123,
        CustomDomainName='string'
    )
    
  :type DbName: string
  :param DbName: 

    The name of the database for which you are requesting credentials. If the database name is specified, the IAM policy must allow access to the resource ``dbname`` for the specified database name. If the database name is not specified, access to all databases is allowed.

    

  
  :type ClusterIdentifier: string
  :param ClusterIdentifier: 

    The unique identifier of the cluster that contains the database for which you are requesting credentials.

    

  
  :type DurationSeconds: integer
  :param DurationSeconds: 

    The number of seconds until the returned temporary password expires.

     

    Range: 900-3600. Default: 900.

    

  
  :type CustomDomainName: string
  :param CustomDomainName: 

    The custom domain name for the IAM message cluster credentials.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'DbUser': 'string',
          'DbPassword': 'string',
          'Expiration': datetime(2015, 1, 1),
          'NextRefreshTime': datetime(2015, 1, 1)
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **DbUser** *(string) --* 

        A database user name that you provide when you connect to a database. The database user is mapped 1:1 to the source IAM identity.

        
      

      - **DbPassword** *(string) --* 

        A temporary password that you provide when you connect to a database.

        
      

      - **Expiration** *(datetime) --* 

        The time (UTC) when the temporary password expires. After this timestamp, a log in with the temporary password fails.

        
      

      - **NextRefreshTime** *(datetime) --* 

        Reserved for future use.

        
  
  **Exceptions**
  
  *   :py:class:`Redshift.Client.exceptions.ClusterNotFoundFault`

  
  *   :py:class:`Redshift.Client.exceptions.UnsupportedOperationFault`

  