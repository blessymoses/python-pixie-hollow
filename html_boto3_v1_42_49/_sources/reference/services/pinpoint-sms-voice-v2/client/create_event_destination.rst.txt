:doc:`PinpointSMSVoiceV2 <../../pinpoint-sms-voice-v2>` / Client / create_event_destination

************************
create_event_destination
************************



.. py:method:: PinpointSMSVoiceV2.Client.create_event_destination(**kwargs)

  

  Creates a new event destination in a configuration set.

   

  An event destination is a location where you send message events. The event options are Amazon CloudWatch, Amazon Data Firehose, or Amazon SNS. For example, when a message is delivered successfully, you can send information about that event to an event destination, or send notifications to endpoints that are subscribed to an Amazon SNS topic.

   

  You can only create one event destination at a time. You must provide a value for a single event destination using either ``CloudWatchLogsDestination``, ``KinesisFirehoseDestination`` or ``SnsDestination``. If an event destination isn't provided then an exception is returned.

   

  Each configuration set can contain between 0 and 5 event destinations. Each event destination can contain a reference to a single destination, such as a CloudWatch or Firehose destination.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/pinpoint-sms-voice-v2-2022-03-31/CreateEventDestination>`_  


  **Request Syntax**
  ::

    response = client.create_event_destination(
        ConfigurationSetName='string',
        EventDestinationName='string',
        MatchingEventTypes=[
            'ALL'|'TEXT_ALL'|'TEXT_SENT'|'TEXT_PENDING'|'TEXT_QUEUED'|'TEXT_SUCCESSFUL'|'TEXT_DELIVERED'|'TEXT_INVALID'|'TEXT_INVALID_MESSAGE'|'TEXT_UNREACHABLE'|'TEXT_CARRIER_UNREACHABLE'|'TEXT_BLOCKED'|'TEXT_CARRIER_BLOCKED'|'TEXT_SPAM'|'TEXT_UNKNOWN'|'TEXT_TTL_EXPIRED'|'TEXT_PROTECT_BLOCKED'|'VOICE_ALL'|'VOICE_INITIATED'|'VOICE_RINGING'|'VOICE_ANSWERED'|'VOICE_COMPLETED'|'VOICE_BUSY'|'VOICE_NO_ANSWER'|'VOICE_FAILED'|'VOICE_TTL_EXPIRED'|'MEDIA_ALL'|'MEDIA_PENDING'|'MEDIA_QUEUED'|'MEDIA_SUCCESSFUL'|'MEDIA_DELIVERED'|'MEDIA_INVALID'|'MEDIA_INVALID_MESSAGE'|'MEDIA_UNREACHABLE'|'MEDIA_CARRIER_UNREACHABLE'|'MEDIA_BLOCKED'|'MEDIA_CARRIER_BLOCKED'|'MEDIA_SPAM'|'MEDIA_UNKNOWN'|'MEDIA_TTL_EXPIRED'|'MEDIA_FILE_INACCESSIBLE'|'MEDIA_FILE_TYPE_UNSUPPORTED'|'MEDIA_FILE_SIZE_EXCEEDED',
        ],
        CloudWatchLogsDestination={
            'IamRoleArn': 'string',
            'LogGroupArn': 'string'
        },
        KinesisFirehoseDestination={
            'IamRoleArn': 'string',
            'DeliveryStreamArn': 'string'
        },
        SnsDestination={
            'TopicArn': 'string'
        },
        ClientToken='string'
    )
    
  :type ConfigurationSetName: string
  :param ConfigurationSetName: **[REQUIRED]** 

    Either the name of the configuration set or the configuration set ARN to apply event logging to. The ConfigurateSetName and ConfigurationSetArn can be found using the  DescribeConfigurationSets action.

    

  
  :type EventDestinationName: string
  :param EventDestinationName: **[REQUIRED]** 

    The name that identifies the event destination.

    

  
  :type MatchingEventTypes: list
  :param MatchingEventTypes: **[REQUIRED]** 

    An array of event types that determine which events to log. If "ALL" is used, then End User Messaging SMS logs every event type.

     

    .. note::

      

      The ``TEXT_SENT`` event type is not supported.

      

    

  
    - *(string) --* 

    

  :type CloudWatchLogsDestination: dict
  :param CloudWatchLogsDestination: 

    An object that contains information about an event destination for logging to Amazon CloudWatch Logs.

    

  
    - **IamRoleArn** *(string) --* **[REQUIRED]** 

      The Amazon Resource Name (ARN) of an Identity and Access Management role that is able to write event data to an Amazon CloudWatch destination.

      

    
    - **LogGroupArn** *(string) --* **[REQUIRED]** 

      The name of the Amazon CloudWatch log group that you want to record events in.

      

    
  
  :type KinesisFirehoseDestination: dict
  :param KinesisFirehoseDestination: 

    An object that contains information about an event destination for logging to Amazon Data Firehose.

    

  
    - **IamRoleArn** *(string) --* **[REQUIRED]** 

      The ARN of an Identity and Access Management role that is able to write event data to an Amazon Data Firehose destination.

      

    
    - **DeliveryStreamArn** *(string) --* **[REQUIRED]** 

      The Amazon Resource Name (ARN) of the delivery stream.

      

    
  
  :type SnsDestination: dict
  :param SnsDestination: 

    An object that contains information about an event destination for logging to Amazon SNS.

    

  
    - **TopicArn** *(string) --* **[REQUIRED]** 

      The Amazon Resource Name (ARN) of the Amazon SNS topic that you want to publish events to.

      

    
  
  :type ClientToken: string
  :param ClientToken: 

    Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. If you don't specify a client token, a randomly generated token is used for the request to ensure idempotency.

    This field is autopopulated if not provided.

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ConfigurationSetArn': 'string',
          'ConfigurationSetName': 'string',
          'EventDestination': {
              'EventDestinationName': 'string',
              'Enabled': True|False,
              'MatchingEventTypes': [
                  'ALL'|'TEXT_ALL'|'TEXT_SENT'|'TEXT_PENDING'|'TEXT_QUEUED'|'TEXT_SUCCESSFUL'|'TEXT_DELIVERED'|'TEXT_INVALID'|'TEXT_INVALID_MESSAGE'|'TEXT_UNREACHABLE'|'TEXT_CARRIER_UNREACHABLE'|'TEXT_BLOCKED'|'TEXT_CARRIER_BLOCKED'|'TEXT_SPAM'|'TEXT_UNKNOWN'|'TEXT_TTL_EXPIRED'|'TEXT_PROTECT_BLOCKED'|'VOICE_ALL'|'VOICE_INITIATED'|'VOICE_RINGING'|'VOICE_ANSWERED'|'VOICE_COMPLETED'|'VOICE_BUSY'|'VOICE_NO_ANSWER'|'VOICE_FAILED'|'VOICE_TTL_EXPIRED'|'MEDIA_ALL'|'MEDIA_PENDING'|'MEDIA_QUEUED'|'MEDIA_SUCCESSFUL'|'MEDIA_DELIVERED'|'MEDIA_INVALID'|'MEDIA_INVALID_MESSAGE'|'MEDIA_UNREACHABLE'|'MEDIA_CARRIER_UNREACHABLE'|'MEDIA_BLOCKED'|'MEDIA_CARRIER_BLOCKED'|'MEDIA_SPAM'|'MEDIA_UNKNOWN'|'MEDIA_TTL_EXPIRED'|'MEDIA_FILE_INACCESSIBLE'|'MEDIA_FILE_TYPE_UNSUPPORTED'|'MEDIA_FILE_SIZE_EXCEEDED',
              ],
              'CloudWatchLogsDestination': {
                  'IamRoleArn': 'string',
                  'LogGroupArn': 'string'
              },
              'KinesisFirehoseDestination': {
                  'IamRoleArn': 'string',
                  'DeliveryStreamArn': 'string'
              },
              'SnsDestination': {
                  'TopicArn': 'string'
              }
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ConfigurationSetArn** *(string) --* 

        The ARN of the configuration set.

        
      

      - **ConfigurationSetName** *(string) --* 

        The name of the configuration set.

        
      

      - **EventDestination** *(dict) --* 

        The details of the destination where events are logged.

        
        

        - **EventDestinationName** *(string) --* 

          The name of the EventDestination.

          
        

        - **Enabled** *(boolean) --* 

          When set to true events will be logged.

          
        

        - **MatchingEventTypes** *(list) --* 

          An array of event types that determine which events to log.

           

          .. note::

            

            The ``TEXT_SENT`` event type is not supported.

            

          
          

          - *(string) --* 
      
        

        - **CloudWatchLogsDestination** *(dict) --* 

          An object that contains information about an event destination that sends logging events to Amazon CloudWatch logs.

          
          

          - **IamRoleArn** *(string) --* 

            The Amazon Resource Name (ARN) of an Identity and Access Management role that is able to write event data to an Amazon CloudWatch destination.

            
          

          - **LogGroupArn** *(string) --* 

            The name of the Amazon CloudWatch log group that you want to record events in.

            
      
        

        - **KinesisFirehoseDestination** *(dict) --* 

          An object that contains information about an event destination for logging to Amazon Data Firehose.

          
          

          - **IamRoleArn** *(string) --* 

            The ARN of an Identity and Access Management role that is able to write event data to an Amazon Data Firehose destination.

            
          

          - **DeliveryStreamArn** *(string) --* 

            The Amazon Resource Name (ARN) of the delivery stream.

            
      
        

        - **SnsDestination** *(dict) --* 

          An object that contains information about an event destination that sends logging events to Amazon SNS.

          
          

          - **TopicArn** *(string) --* 

            The Amazon Resource Name (ARN) of the Amazon SNS topic that you want to publish events to.

            
      
    
  
  **Exceptions**
  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ServiceQuotaExceededException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ThrottlingException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ValidationException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ConflictException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.InternalServerException`

  