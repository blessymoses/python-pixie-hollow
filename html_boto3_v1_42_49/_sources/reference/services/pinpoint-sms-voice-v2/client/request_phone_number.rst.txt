:doc:`PinpointSMSVoiceV2 <../../pinpoint-sms-voice-v2>` / Client / request_phone_number

********************
request_phone_number
********************



.. py:method:: PinpointSMSVoiceV2.Client.request_phone_number(**kwargs)

  

  Request an origination phone number for use in your account. For more information on phone number request see `Request a phone number <https://docs.aws.amazon.com/sms-voice/latest/userguide/phone-numbers-request.html>`__ in the *End User Messaging SMS User Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/pinpoint-sms-voice-v2-2022-03-31/RequestPhoneNumber>`_  


  **Request Syntax**
  ::

    response = client.request_phone_number(
        IsoCountryCode='string',
        MessageType='TRANSACTIONAL'|'PROMOTIONAL',
        NumberCapabilities=[
            'SMS'|'VOICE'|'MMS',
        ],
        NumberType='LONG_CODE'|'TOLL_FREE'|'TEN_DLC'|'SIMULATOR',
        OptOutListName='string',
        PoolId='string',
        RegistrationId='string',
        InternationalSendingEnabled=True|False,
        DeletionProtectionEnabled=True|False,
        Tags=[
            {
                'Key': 'string',
                'Value': 'string'
            },
        ],
        ClientToken='string'
    )
    
  :type IsoCountryCode: string
  :param IsoCountryCode: **[REQUIRED]** 

    The two-character code, in ISO 3166-1 alpha-2 format, for the country or region.

    

  
  :type MessageType: string
  :param MessageType: **[REQUIRED]** 

    The type of message. Valid values are ``TRANSACTIONAL`` for messages that are critical or time-sensitive and ``PROMOTIONAL`` for messages that aren't critical or time-sensitive.

    

  
  :type NumberCapabilities: list
  :param NumberCapabilities: **[REQUIRED]** 

    Indicates if the phone number will be used for text messages, voice messages, or both.

    

  
    - *(string) --* 

    

  :type NumberType: string
  :param NumberType: **[REQUIRED]** 

    The type of phone number to request.

     

    When you request a ``SIMULATOR`` phone number, you must set **MessageType** as ``TRANSACTIONAL``.

    

  
  :type OptOutListName: string
  :param OptOutListName: 

    The name of the OptOutList to associate with the phone number. You can use the OptOutListName or OptOutListArn.

     

    .. warning::

       

      If you are using a shared End User Messaging SMS resource then you must use the full Amazon Resource Name(ARN).

      

    

  
  :type PoolId: string
  :param PoolId: 

    The pool to associated with the phone number. You can use the PoolId or PoolArn.

     

    .. warning::

       

      If you are using a shared End User Messaging SMS resource then you must use the full Amazon Resource Name(ARN).

      

    

  
  :type RegistrationId: string
  :param RegistrationId: 

    Use this field to attach your phone number for an external registration process.

    

  
  :type InternationalSendingEnabled: boolean
  :param InternationalSendingEnabled: 

    By default this is set to false. When set to true the international sending of phone number is Enabled.

    

  
  :type DeletionProtectionEnabled: boolean
  :param DeletionProtectionEnabled: 

    By default this is set to false. When set to true the phone number can't be deleted.

    

  
  :type Tags: list
  :param Tags: 

    An array of tags (key and value pairs) to associate with the requested phone number.

    

  
    - *(dict) --* 

      The list of tags to be added to the specified topic.

      

    
      - **Key** *(string) --* **[REQUIRED]** 

        The key identifier, or name, of the tag.

        

      
      - **Value** *(string) --* **[REQUIRED]** 

        The string value associated with the key of the tag.

        

      
    

  :type ClientToken: string
  :param ClientToken: 

    Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. If you don't specify a client token, a randomly generated token is used for the request to ensure idempotency.

    This field is autopopulated if not provided.

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'PhoneNumberArn': 'string',
          'PhoneNumberId': 'string',
          'PhoneNumber': 'string',
          'Status': 'PENDING'|'ACTIVE'|'ASSOCIATING'|'DISASSOCIATING'|'DELETED',
          'IsoCountryCode': 'string',
          'MessageType': 'TRANSACTIONAL'|'PROMOTIONAL',
          'NumberCapabilities': [
              'SMS'|'VOICE'|'MMS',
          ],
          'NumberType': 'LONG_CODE'|'TOLL_FREE'|'TEN_DLC'|'SIMULATOR',
          'MonthlyLeasingPrice': 'string',
          'TwoWayEnabled': True|False,
          'TwoWayChannelArn': 'string',
          'TwoWayChannelRole': 'string',
          'SelfManagedOptOutsEnabled': True|False,
          'OptOutListName': 'string',
          'InternationalSendingEnabled': True|False,
          'DeletionProtectionEnabled': True|False,
          'PoolId': 'string',
          'RegistrationId': 'string',
          'Tags': [
              {
                  'Key': 'string',
                  'Value': 'string'
              },
          ],
          'CreatedTimestamp': datetime(2015, 1, 1)
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **PhoneNumberArn** *(string) --* 

        The Amazon Resource Name (ARN) of the requested phone number.

        
      

      - **PhoneNumberId** *(string) --* 

        The unique identifier of the new phone number.

        
      

      - **PhoneNumber** *(string) --* 

        The new phone number that was requested.

        
      

      - **Status** *(string) --* 

        The current status of the request.

        
      

      - **IsoCountryCode** *(string) --* 

        The two-character code, in ISO 3166-1 alpha-2 format, for the country or region.

        
      

      - **MessageType** *(string) --* 

        The type of message. Valid values are TRANSACTIONAL for messages that are critical or time-sensitive and PROMOTIONAL for messages that aren't critical or time-sensitive.

        
      

      - **NumberCapabilities** *(list) --* 

        Indicates if the phone number will be used for text messages, voice messages or both.

        
        

        - *(string) --* 
    
      

      - **NumberType** *(string) --* 

        The type of number that was released.

        
      

      - **MonthlyLeasingPrice** *(string) --* 

        The monthly price, in US dollars, to lease the phone number.

        
      

      - **TwoWayEnabled** *(boolean) --* 

        By default this is set to false. When set to true you can receive incoming text messages from your end recipients.

        
      

      - **TwoWayChannelArn** *(string) --* 

        The ARN used to identify the two way channel.

        
      

      - **TwoWayChannelRole** *(string) --* 

        An optional IAM Role Arn for a service to assume, to be able to post inbound SMS messages.

        
      

      - **SelfManagedOptOutsEnabled** *(boolean) --* 

        By default this is set to false. When set to false and an end recipient sends a message that begins with HELP or STOP to one of your dedicated numbers, End User Messaging SMS automatically replies with a customizable message and adds the end recipient to the OptOutList. When set to true you're responsible for responding to HELP and STOP requests. You're also responsible for tracking and honoring opt-out requests.

        
      

      - **OptOutListName** *(string) --* 

        The name of the OptOutList that is associated with the requested phone number.

        
      

      - **InternationalSendingEnabled** *(boolean) --* 

        By default this is set to false. When set to true the international sending of phone number is Enabled.

        
      

      - **DeletionProtectionEnabled** *(boolean) --* 

        By default this is set to false. When set to true the phone number can't be deleted.

        
      

      - **PoolId** *(string) --* 

        The unique identifier of the pool associated with the phone number

        
      

      - **RegistrationId** *(string) --* 

        The unique identifier for the registration.

        
      

      - **Tags** *(list) --* 

        An array of key and value pair tags that are associated with the phone number.

        
        

        - *(dict) --* 

          The list of tags to be added to the specified topic.

          
          

          - **Key** *(string) --* 

            The key identifier, or name, of the tag.

            
          

          - **Value** *(string) --* 

            The string value associated with the key of the tag.

            
      
    
      

      - **CreatedTimestamp** *(datetime) --* 

        The time when the phone number was created, in `UNIX epoch time <https://www.epochconverter.com/>`__ format.

        
  
  **Exceptions**
  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ServiceQuotaExceededException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ThrottlingException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ValidationException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.ConflictException`

  
  *   :py:class:`PinpointSMSVoiceV2.Client.exceptions.InternalServerException`

  