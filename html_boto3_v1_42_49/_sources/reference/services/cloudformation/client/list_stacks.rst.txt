:doc:`CloudFormation <../../cloudformation>` / Client / list_stacks

***********
list_stacks
***********



.. py:method:: CloudFormation.Client.list_stacks(**kwargs)

  

  Returns the summary information for stacks whose status matches the specified ``StackStatusFilter``. Summary information for stacks that have been deleted is kept for 90 days after the stack is deleted. If no ``StackStatusFilter`` is specified, summary information for all stacks is returned (including existing stacks and stacks that have been deleted).

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/cloudformation-2010-05-15/ListStacks>`_  


  **Request Syntax**
  ::

    response = client.list_stacks(
        NextToken='string',
        StackStatusFilter=[
            'CREATE_IN_PROGRESS'|'CREATE_FAILED'|'CREATE_COMPLETE'|'ROLLBACK_IN_PROGRESS'|'ROLLBACK_FAILED'|'ROLLBACK_COMPLETE'|'DELETE_IN_PROGRESS'|'DELETE_FAILED'|'DELETE_COMPLETE'|'UPDATE_IN_PROGRESS'|'UPDATE_COMPLETE_CLEANUP_IN_PROGRESS'|'UPDATE_COMPLETE'|'UPDATE_FAILED'|'UPDATE_ROLLBACK_IN_PROGRESS'|'UPDATE_ROLLBACK_FAILED'|'UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS'|'UPDATE_ROLLBACK_COMPLETE'|'REVIEW_IN_PROGRESS'|'IMPORT_IN_PROGRESS'|'IMPORT_COMPLETE'|'IMPORT_ROLLBACK_IN_PROGRESS'|'IMPORT_ROLLBACK_FAILED'|'IMPORT_ROLLBACK_COMPLETE',
        ]
    )
    
  :type NextToken: string
  :param NextToken: 

    The token for the next set of items to return. (You received this token from a previous call.)

    

  
  :type StackStatusFilter: list
  :param StackStatusFilter: 

    Stack status to use as a filter. Specify one or more stack status codes to list only stacks with the specified status codes. For a complete list of stack status codes, see the ``StackStatus`` parameter of the  Stack data type.

    

  
    - *(string) --* 

    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'StackSummaries': [
              {
                  'StackId': 'string',
                  'StackName': 'string',
                  'TemplateDescription': 'string',
                  'CreationTime': datetime(2015, 1, 1),
                  'LastUpdatedTime': datetime(2015, 1, 1),
                  'DeletionTime': datetime(2015, 1, 1),
                  'StackStatus': 'CREATE_IN_PROGRESS'|'CREATE_FAILED'|'CREATE_COMPLETE'|'ROLLBACK_IN_PROGRESS'|'ROLLBACK_FAILED'|'ROLLBACK_COMPLETE'|'DELETE_IN_PROGRESS'|'DELETE_FAILED'|'DELETE_COMPLETE'|'UPDATE_IN_PROGRESS'|'UPDATE_COMPLETE_CLEANUP_IN_PROGRESS'|'UPDATE_COMPLETE'|'UPDATE_FAILED'|'UPDATE_ROLLBACK_IN_PROGRESS'|'UPDATE_ROLLBACK_FAILED'|'UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS'|'UPDATE_ROLLBACK_COMPLETE'|'REVIEW_IN_PROGRESS'|'IMPORT_IN_PROGRESS'|'IMPORT_COMPLETE'|'IMPORT_ROLLBACK_IN_PROGRESS'|'IMPORT_ROLLBACK_FAILED'|'IMPORT_ROLLBACK_COMPLETE',
                  'StackStatusReason': 'string',
                  'ParentId': 'string',
                  'RootId': 'string',
                  'DriftInformation': {
                      'StackDriftStatus': 'DRIFTED'|'IN_SYNC'|'UNKNOWN'|'NOT_CHECKED',
                      'LastCheckTimestamp': datetime(2015, 1, 1)
                  },
                  'LastOperations': [
                      {
                          'OperationType': 'CREATE_STACK'|'UPDATE_STACK'|'DELETE_STACK'|'CONTINUE_ROLLBACK'|'ROLLBACK'|'CREATE_CHANGESET',
                          'OperationId': 'string'
                      },
                  ]
              },
          ],
          'NextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 

      The output for  ListStacks action.

      
      

      - **StackSummaries** *(list) --* 

        A list of ``StackSummary`` structures that contains information about the specified stacks.

        
        

        - *(dict) --* 

          The ``StackSummary`` Data Type

          
          

          - **StackId** *(string) --* 

            Unique stack identifier.

            
          

          - **StackName** *(string) --* 

            The name associated with the stack.

            
          

          - **TemplateDescription** *(string) --* 

            The template description of the template used to create the stack.

            
          

          - **CreationTime** *(datetime) --* 

            The time the stack was created.

            
          

          - **LastUpdatedTime** *(datetime) --* 

            The time the stack was last updated. This field will only be returned if the stack has been updated at least once.

            
          

          - **DeletionTime** *(datetime) --* 

            The time the stack was deleted.

            
          

          - **StackStatus** *(string) --* 

            The current status of the stack.

            
          

          - **StackStatusReason** *(string) --* 

            Success/Failure message associated with the stack status.

            
          

          - **ParentId** *(string) --* 

            For nested stacks, the stack ID of the direct parent of this stack. For the first level of nested stacks, the root stack is also the parent stack.

             

            For more information, see `Nested stacks <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-nested-stacks.html>`__ in the *CloudFormation User Guide*.

            
          

          - **RootId** *(string) --* 

            For nested stacks, the stack ID of the top-level stack to which the nested stack ultimately belongs.

             

            For more information, see `Nested stacks <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-nested-stacks.html>`__ in the *CloudFormation User Guide*.

            
          

          - **DriftInformation** *(dict) --* 

            Summarizes information about whether a stack's actual configuration differs, or has *drifted*, from its expected configuration, as defined in the stack template and any values specified as template parameters. For more information, see `Detect unmanaged configuration changes to stacks and resources with drift detection <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html>`__.

            
            

            - **StackDriftStatus** *(string) --* 

              Status of the stack's actual configuration compared to its expected template configuration.

               

              
              * ``DRIFTED``: The stack differs from its expected template configuration. A stack is considered to have drifted if one or more of its resources have drifted.
               
              * ``NOT_CHECKED``: CloudFormation hasn't checked if the stack differs from its expected template configuration.
               
              * ``IN_SYNC``: The stack's actual configuration matches its expected template configuration.
               
              * ``UNKNOWN``: CloudFormation could not run drift detection for a resource in the stack.
              

              
            

            - **LastCheckTimestamp** *(datetime) --* 

              Most recent time when a drift detection operation was initiated on the stack, or any of its individual resources that support drift detection.

              
        
          

          - **LastOperations** *(list) --* 

            Information about the most recent operations performed on this stack.

            
            

            - *(dict) --* 

              Contains information about a CloudFormation operation.

              
              

              - **OperationType** *(string) --* 

                The type of operation.

                
              

              - **OperationId** *(string) --* 

                The unique identifier for the operation.

                
          
        
      
    
      

      - **NextToken** *(string) --* 

        If the output exceeds 1 MB in size, a string that identifies the next page of stacks. If no additional page exists, this value is null.

        
  