:doc:`CloudFormation <../../cloudformation>` / Client / describe_stack_resource_drifts

******************************
describe_stack_resource_drifts
******************************



.. py:method:: CloudFormation.Client.describe_stack_resource_drifts(**kwargs)

  

  Returns drift information for the resources that have been checked for drift in the specified stack. This includes actual and expected configuration values for resources where CloudFormation detects configuration drift.

   

  For a given stack, there will be one ``StackResourceDrift`` for each stack resource that has been checked for drift. Resources that haven't yet been checked for drift aren't included. Resources that don't currently support drift detection aren't checked, and so not included. For a list of resources that support drift detection, see `Resource type support for imports and drift detection <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html>`__.

   

  Use  DetectStackResourceDrift to detect drift on individual resources, or  DetectStackDrift to detect drift on all supported resources for a given stack.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/cloudformation-2010-05-15/DescribeStackResourceDrifts>`_  


  **Request Syntax**
  ::

    response = client.describe_stack_resource_drifts(
        StackName='string',
        StackResourceDriftStatusFilters=[
            'IN_SYNC'|'MODIFIED'|'DELETED'|'NOT_CHECKED'|'UNKNOWN'|'UNSUPPORTED',
        ],
        NextToken='string',
        MaxResults=123
    )
    
  :type StackName: string
  :param StackName: **[REQUIRED]** 

    The name of the stack for which you want drift information.

    

  
  :type StackResourceDriftStatusFilters: list
  :param StackResourceDriftStatusFilters: 

    The resource drift status values to use as filters for the resource drift results returned.

     

    
    * ``DELETED``: The resource differs from its expected template configuration in that the resource has been deleted.
     
    * ``MODIFIED``: One or more resource properties differ from their expected template values.
     
    * ``IN_SYNC``: The resource's actual configuration matches its expected template configuration.
     
    * ``NOT_CHECKED``: CloudFormation doesn't currently return this value.
     
    * ``UNKNOWN``: CloudFormation could not run drift detection for the resource.
    

    

  
    - *(string) --* 

    

  :type NextToken: string
  :param NextToken: 

    The token for the next set of items to return. (You received this token from a previous call.)

    

  
  :type MaxResults: integer
  :param MaxResults: 

    The maximum number of results to be returned with a single call. If the number of available results exceeds this maximum, the response includes a ``NextToken`` value that you can assign to the ``NextToken`` request parameter to get the next set of results.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'StackResourceDrifts': [
              {
                  'StackId': 'string',
                  'LogicalResourceId': 'string',
                  'PhysicalResourceId': 'string',
                  'PhysicalResourceIdContext': [
                      {
                          'Key': 'string',
                          'Value': 'string'
                      },
                  ],
                  'ResourceType': 'string',
                  'ExpectedProperties': 'string',
                  'ActualProperties': 'string',
                  'PropertyDifferences': [
                      {
                          'PropertyPath': 'string',
                          'ExpectedValue': 'string',
                          'ActualValue': 'string',
                          'DifferenceType': 'ADD'|'REMOVE'|'NOT_EQUAL'
                      },
                  ],
                  'StackResourceDriftStatus': 'IN_SYNC'|'MODIFIED'|'DELETED'|'NOT_CHECKED'|'UNKNOWN'|'UNSUPPORTED',
                  'Timestamp': datetime(2015, 1, 1),
                  'ModuleInfo': {
                      'TypeHierarchy': 'string',
                      'LogicalIdHierarchy': 'string'
                  },
                  'DriftStatusReason': 'string'
              },
          ],
          'NextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **StackResourceDrifts** *(list) --* 

        Drift information for the resources that have been checked for drift in the specified stack. This includes actual and expected configuration values for resources where CloudFormation detects drift.

         

        For a given stack, there will be one ``StackResourceDrift`` for each stack resource that has been checked for drift. Resources that haven't yet been checked for drift aren't included. Resources that do not currently support drift detection aren't checked, and so not included. For a list of resources that support drift detection, see `Resource type support for imports and drift detection <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html>`__.

        
        

        - *(dict) --* 

          Contains the drift information for a resource that has been checked for drift. This includes actual and expected property values for resources in which CloudFormation has detected drift. Only resource properties explicitly defined in the stack template are checked for drift. For more information, see `Detect unmanaged configuration changes to stacks and resources with drift detection <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html>`__.

           

          Resources that don't currently support drift detection can't be checked. For a list of resources that support drift detection, see `Resource type support for imports and drift detection <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html>`__.

           

          Use  DetectStackResourceDrift to detect drift on individual resources, or  DetectStackDrift to detect drift on all resources in a given stack that support drift detection.

          
          

          - **StackId** *(string) --* 

            The ID of the stack.

            
          

          - **LogicalResourceId** *(string) --* 

            The logical name of the resource specified in the template.

            
          

          - **PhysicalResourceId** *(string) --* 

            The name or unique identifier that corresponds to a physical instance ID of a resource supported by CloudFormation.

            
          

          - **PhysicalResourceIdContext** *(list) --* 

            Context information that enables CloudFormation to uniquely identify a resource. CloudFormation uses context key-value pairs in cases where a resource's logical and physical IDs aren't enough to uniquely identify that resource. Each context key-value pair specifies a unique resource that contains the targeted resource.

            
            

            - *(dict) --* 

              Context information that enables CloudFormation to uniquely identify a resource. CloudFormation uses context key-value pairs in cases where a resource's logical and physical IDs aren't enough to uniquely identify that resource. Each context key-value pair specifies a resource that contains the targeted resource.

              
              

              - **Key** *(string) --* 

                The resource context key.

                
              

              - **Value** *(string) --* 

                The resource context value.

                
          
        
          

          - **ResourceType** *(string) --* 

            The type of the resource.

            
          

          - **ExpectedProperties** *(string) --* 

            A JSON structure that contains the expected property values of the stack resource, as defined in the stack template and any values specified as template parameters.

             

            For resources whose ``StackResourceDriftStatus`` is ``DELETED``, this structure will not be present.

            
          

          - **ActualProperties** *(string) --* 

            A JSON structure that contains the actual property values of the stack resource.

             

            For resources whose ``StackResourceDriftStatus`` is ``DELETED``, this structure will not be present.

            
          

          - **PropertyDifferences** *(list) --* 

            A collection of the resource properties whose actual values differ from their expected values. These will be present only for resources whose ``StackResourceDriftStatus`` is ``MODIFIED``.

            
            

            - *(dict) --* 

              Information about a resource property whose actual value differs from its expected value, as defined in the stack template and any values specified as template parameters. These will be present only for resources whose ``StackResourceDriftStatus`` is ``MODIFIED``. For more information, see `Detect unmanaged configuration changes to stacks and resources with drift detection <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html>`__.

              
              

              - **PropertyPath** *(string) --* 

                The fully-qualified path to the resource property.

                
              

              - **ExpectedValue** *(string) --* 

                The expected property value of the resource property, as defined in the stack template and any values specified as template parameters.

                
              

              - **ActualValue** *(string) --* 

                The actual property value of the resource property.

                
              

              - **DifferenceType** *(string) --* 

                The type of property difference.

                 

                
                * ``ADD``: A value has been added to a resource property that's an array or list data type.
                 
                * ``REMOVE``: The property has been removed from the current resource configuration.
                 
                * ``NOT_EQUAL``: The current property value differs from its expected value (as defined in the stack template and any values specified as template parameters).
                

                
          
        
          

          - **StackResourceDriftStatus** *(string) --* 

            Status of the resource's actual configuration compared to its expected configuration.

             

            
            * ``DELETED``: The resource differs from its expected template configuration because the resource has been deleted.
             
            * ``MODIFIED``: One or more resource properties differ from their expected values (as defined in the stack template and any values specified as template parameters).
             
            * ``IN_SYNC``: The resource's actual configuration matches its expected template configuration.
             
            * ``NOT_CHECKED``: CloudFormation does not currently return this value.
             
            * ``UNKNOWN``: CloudFormation could not run drift detection for the resource. See the ``DriftStatusReason`` for details.
            

            
          

          - **Timestamp** *(datetime) --* 

            Time at which CloudFormation performed drift detection on the stack resource.

            
          

          - **ModuleInfo** *(dict) --* 

            Contains information about the module from which the resource was created, if the resource was created from a module included in the stack template.

            
            

            - **TypeHierarchy** *(string) --* 

              A concatenated list of the module type or types that contains the resource. Module types are listed starting with the inner-most nested module, and separated by ``/``.

               

              In the following example, the resource was created from a module of type ``AWS::First::Example::MODULE``, that's nested inside a parent module of type ``AWS::Second::Example::MODULE``.

               

              ``AWS::First::Example::MODULE/AWS::Second::Example::MODULE``

              
            

            - **LogicalIdHierarchy** *(string) --* 

              A concatenated list of the logical IDs of the module or modules that contains the resource. Modules are listed starting with the inner-most nested module, and separated by ``/``.

               

              In the following example, the resource was created from a module, ``moduleA``, that's nested inside a parent module, ``moduleB``.

               

              ``moduleA/moduleB``

               

              For more information, see `Reference module resources in CloudFormation templates <https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/module-ref-resources.html>`__ in the *CloudFormation User Guide*.

              
        
          

          - **DriftStatusReason** *(string) --* 

            The reason for the drift status.

            
      
    
      

      - **NextToken** *(string) --* 

        If the request doesn't return all the remaining results, ``NextToken`` is set to a token. To retrieve the next set of results, call ``DescribeStackResourceDrifts`` again and assign that token to the request object's ``NextToken`` parameter. If the request returns all results, ``NextToken`` is set to ``null``.

        
  