:doc:`CloudWatchLogs <../../logs>` / Client / put_delivery_destination_policy

*******************************
put_delivery_destination_policy
*******************************



.. py:method:: CloudWatchLogs.Client.put_delivery_destination_policy(**kwargs)

  

  Creates and assigns an IAM policy that grants permissions to CloudWatch Logs to deliver logs cross-account to a specified destination in this account. To configure the delivery of logs from an Amazon Web Services service in another account to a logs delivery destination in the current account, you must do the following:

   

  
  * Create a delivery source, which is a logical object that represents the resource that is actually sending the logs. For more information, see `PutDeliverySource <https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_PutDeliverySource.html>`__.
   
  * Create a *delivery destination*, which is a logical object that represents the actual delivery destination. For more information, see `PutDeliveryDestination <https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_PutDeliveryDestination.html>`__.
   
  * Use this operation in the destination account to assign an IAM policy to the destination. This policy allows delivery to that destination.
   
  * Create a *delivery* by pairing exactly one delivery source and one delivery destination. For more information, see `CreateDelivery <https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_CreateDelivery.html>`__.
  

   

  Only some Amazon Web Services services support being configured as a delivery source. These services are listed as **Supported [V2 Permissions]** in the table at `Enabling logging from Amazon Web Services services. <https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AWS-logs-and-resource-policy.html>`__

   

  The contents of the policy must include two statements. One statement enables general logs delivery, and the other allows delivery to the chosen destination. See the examples for the needed policies.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/logs-2014-03-28/PutDeliveryDestinationPolicy>`_  


  **Request Syntax**
  ::

    response = client.put_delivery_destination_policy(
        deliveryDestinationName='string',
        deliveryDestinationPolicy='string'
    )
    
  :type deliveryDestinationName: string
  :param deliveryDestinationName: **[REQUIRED]** 

    The name of the delivery destination to assign this policy to.

    

  
  :type deliveryDestinationPolicy: string
  :param deliveryDestinationPolicy: **[REQUIRED]** 

    The contents of the policy.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'policy': {
              'deliveryDestinationPolicy': 'string'
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **policy** *(dict) --* 

        The contents of the policy that you just created.

        
        

        - **deliveryDestinationPolicy** *(string) --* 

          The contents of the delivery destination policy.

          
    
  
  **Exceptions**
  
  *   :py:class:`CloudWatchLogs.Client.exceptions.ServiceUnavailableException`

  
  *   :py:class:`CloudWatchLogs.Client.exceptions.ValidationException`

  
  *   :py:class:`CloudWatchLogs.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`CloudWatchLogs.Client.exceptions.ConflictException`

  