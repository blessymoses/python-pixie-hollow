:doc:`IoT <../../iot>` / Client / create_policy_version

*********************
create_policy_version
*********************



.. py:method:: IoT.Client.create_policy_version(**kwargs)

  

  Creates a new version of the specified IoT policy. To update a policy, create a new policy version. A managed policy can have up to five versions. If the policy has five versions, you must use  DeletePolicyVersion to delete an existing version before you create a new one.

   

  Optionally, you can set the new version as the policy's default version. The default version is the operative version (that is, the version that is in effect for the certificates to which the policy is attached).

   

  Requires permission to access the `CreatePolicyVersion <https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsiot.html#awsiot-actions-as-permissions>`__ action.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/iot-2015-05-28/CreatePolicyVersion>`_  


  **Request Syntax**
  ::

    response = client.create_policy_version(
        policyName='string',
        policyDocument='string',
        setAsDefault=True|False
    )
    
  :type policyName: string
  :param policyName: **[REQUIRED]** 

    The policy name.

    

  
  :type policyDocument: string
  :param policyDocument: **[REQUIRED]** 

    The JSON document that describes the policy. Minimum length of 1. Maximum length of 2048, excluding whitespace.

    

  
  :type setAsDefault: boolean
  :param setAsDefault: 

    Specifies whether the policy version is set as the default. When this parameter is true, the new policy version becomes the operative version (that is, the version that is in effect for the certificates to which the policy is attached).

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'policyArn': 'string',
          'policyDocument': 'string',
          'policyVersionId': 'string',
          'isDefaultVersion': True|False
      }
      
    **Response Structure**

    

    - *(dict) --* 

      The output of the CreatePolicyVersion operation.

      
      

      - **policyArn** *(string) --* 

        The policy ARN.

        
      

      - **policyDocument** *(string) --* 

        The JSON document that describes the policy.

        
      

      - **policyVersionId** *(string) --* 

        The policy version ID.

        
      

      - **isDefaultVersion** *(boolean) --* 

        Specifies whether the policy version is the default.

        
  
  **Exceptions**
  
  *   :py:class:`IoT.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`IoT.Client.exceptions.MalformedPolicyException`

  
  *   :py:class:`IoT.Client.exceptions.VersionsLimitExceededException`

  
  *   :py:class:`IoT.Client.exceptions.InvalidRequestException`

  
  *   :py:class:`IoT.Client.exceptions.ThrottlingException`

  
  *   :py:class:`IoT.Client.exceptions.UnauthorizedException`

  
  *   :py:class:`IoT.Client.exceptions.ServiceUnavailableException`

  
  *   :py:class:`IoT.Client.exceptions.InternalFailureException`

  