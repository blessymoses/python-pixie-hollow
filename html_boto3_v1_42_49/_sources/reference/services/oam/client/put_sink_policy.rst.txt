:doc:`CloudWatchObservabilityAccessManager <../../oam>` / Client / put_sink_policy

***************
put_sink_policy
***************



.. py:method:: CloudWatchObservabilityAccessManager.Client.put_sink_policy(**kwargs)

  

  Creates or updates the resource policy that grants permissions to source accounts to link to the monitoring account sink. When you create a sink policy, you can grant permissions to all accounts in an organization or to individual accounts.

   

  You can also use a sink policy to limit the types of data that is shared. The six types of services with their respective resource types that you can allow or deny are:

   

  
  * **Metrics** - Specify with ``AWS::CloudWatch::Metric``
   
  * **Log groups** - Specify with ``AWS::Logs::LogGroup``
   
  * **Traces** - Specify with ``AWS::XRay::Trace``
   
  * **Application Insights - Applications** - Specify with ``AWS::ApplicationInsights::Application``
   
  * **Internet Monitor** - Specify with ``AWS::InternetMonitor::Monitor``
   
  * **Application Signals** - Specify with ``AWS::ApplicationSignals::Service`` and ``AWS::ApplicationSignals::ServiceLevelObjective``
  

   

  See the examples in this section to see how to specify permitted source accounts and data types.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/oam-2022-06-10/PutSinkPolicy>`_  


  **Request Syntax**
  ::

    response = client.put_sink_policy(
        Policy='string',
        SinkIdentifier='string'
    )
    
  :type Policy: string
  :param Policy: **[REQUIRED]** 

    The JSON policy to use. If you are updating an existing policy, the entire existing policy is replaced by what you specify here.

     

    The policy must be in JSON string format with quotation marks escaped and no newlines.

     

    For examples of different types of policies, see the **Examples** section on this page.

    

  
  :type SinkIdentifier: string
  :param SinkIdentifier: **[REQUIRED]** 

    The ARN of the sink to attach this policy to.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Policy': 'string',
          'SinkArn': 'string',
          'SinkId': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Policy** *(string) --* 

        The policy that you specified.

        
      

      - **SinkArn** *(string) --* 

        The ARN of the sink.

        
      

      - **SinkId** *(string) --* 

        The random ID string that Amazon Web Services generated as part of the sink ARN.

        
  
  **Exceptions**
  
  *   :py:class:`CloudWatchObservabilityAccessManager.Client.exceptions.InternalServiceFault`

  
  *   :py:class:`CloudWatchObservabilityAccessManager.Client.exceptions.MissingRequiredParameterException`

  
  *   :py:class:`CloudWatchObservabilityAccessManager.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`CloudWatchObservabilityAccessManager.Client.exceptions.ResourceNotFoundException`

  