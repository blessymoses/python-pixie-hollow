:doc:`BillingandCostManagementDataExports <../../bcm-data-exports>` / Client / create_export

*************
create_export
*************



.. py:method:: BillingandCostManagementDataExports.Client.create_export(**kwargs)

  

  Creates a data export and specifies the data query, the delivery preference, and any optional resource tags.

   

  A ``DataQuery`` consists of both a ``QueryStatement`` and ``TableConfigurations``.

   

  The ``QueryStatement`` is an SQL statement. Data Exports only supports a limited subset of the SQL syntax. For more information on the SQL syntax that is supported, see `Data query <https://docs.aws.amazon.com/cur/latest/userguide/de-data-query.html>`__. To view the available tables and columns, see the `Data Exports table dictionary <https://docs.aws.amazon.com/cur/latest/userguide/de-table-dictionary.html>`__.

   

  The ``TableConfigurations`` is a collection of specified ``TableProperties`` for the table being queried in the ``QueryStatement``. TableProperties are additional configurations you can provide to change the data and schema of a table. Each table can have different TableProperties. However, tables are not required to have any TableProperties. Each table property has a default value that it assumes if not specified. For more information on table configurations, see `Data query <https://docs.aws.amazon.com/cur/latest/userguide/de-data-query.html>`__. To view the table properties available for each table, see the `Data Exports table dictionary <https://docs.aws.amazon.com/cur/latest/userguide/de-table-dictionary.html>`__ or use the ``ListTables`` API to get a response of all tables and their available properties.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/bcm-data-exports-2023-11-26/CreateExport>`_  


  **Request Syntax**
  ::

    response = client.create_export(
        Export={
            'DataQuery': {
                'QueryStatement': 'string',
                'TableConfigurations': {
                    'string': {
                        'string': 'string'
                    }
                }
            },
            'Description': 'string',
            'DestinationConfigurations': {
                'S3Destination': {
                    'S3Bucket': 'string',
                    'S3OutputConfigurations': {
                        'Compression': 'GZIP'|'PARQUET',
                        'Format': 'TEXT_OR_CSV'|'PARQUET',
                        'OutputType': 'CUSTOM',
                        'Overwrite': 'CREATE_NEW_REPORT'|'OVERWRITE_REPORT'
                    },
                    'S3Prefix': 'string',
                    'S3Region': 'string'
                }
            },
            'ExportArn': 'string',
            'Name': 'string',
            'RefreshCadence': {
                'Frequency': 'SYNCHRONOUS'
            }
        },
        ResourceTags=[
            {
                'Key': 'string',
                'Value': 'string'
            },
        ]
    )
    
  :type Export: dict
  :param Export: **[REQUIRED]** 

    The details of the export, including data query, name, description, and destination configuration.

    

  
    - **DataQuery** *(dict) --* **[REQUIRED]** 

      The data query for this specific data export.

      

    
      - **QueryStatement** *(string) --* **[REQUIRED]** 

        The query statement.

        

      
      - **TableConfigurations** *(dict) --* 

        The table configuration.

        

      
        - *(string) --* 

        
          - *(dict) --* 

          
            - *(string) --* 

            
              - *(string) --* 

              
        
      
    
  
    
    - **Description** *(string) --* 

      The description for this specific data export.

      

    
    - **DestinationConfigurations** *(dict) --* **[REQUIRED]** 

      The destination configuration for this specific data export.

      

    
      - **S3Destination** *(dict) --* **[REQUIRED]** 

        An object that describes the destination of the data exports file.

        

      
        - **S3Bucket** *(string) --* **[REQUIRED]** 

          The name of the Amazon S3 bucket used as the destination of a data export file.

          

        
        - **S3OutputConfigurations** *(dict) --* **[REQUIRED]** 

          The output configuration for the data export.

          

        
          - **Compression** *(string) --* **[REQUIRED]** 

            The compression type for the data export.

            

          
          - **Format** *(string) --* **[REQUIRED]** 

            The file format for the data export.

            

          
          - **OutputType** *(string) --* **[REQUIRED]** 

            The output type for the data export.

            

          
          - **Overwrite** *(string) --* **[REQUIRED]** 

            The rule to follow when generating a version of the data export file. You have the choice to overwrite the previous version or to be delivered in addition to the previous versions. Overwriting exports can save on Amazon S3 storage costs. Creating new export versions allows you to track the changes in cost and usage data over time.

            

          
        
        - **S3Prefix** *(string) --* **[REQUIRED]** 

          The S3 path prefix you want prepended to the name of your data export.

          

        
        - **S3Region** *(string) --* **[REQUIRED]** 

          The S3 bucket Region.

          

        
      
    
    - **ExportArn** *(string) --* 

      The Amazon Resource Name (ARN) for this export.

      

    
    - **Name** *(string) --* **[REQUIRED]** 

      The name of this specific data export.

      

    
    - **RefreshCadence** *(dict) --* **[REQUIRED]** 

      The cadence for Amazon Web Services to update the export in your S3 bucket.

      

    
      - **Frequency** *(string) --* **[REQUIRED]** 

        The frequency that data exports are updated. The export refreshes each time the source data updates, up to three times daily.

        

      
    
  
  :type ResourceTags: list
  :param ResourceTags: 

    An optional list of tags to associate with the specified export. Each tag consists of a key and a value, and each key must be unique for the resource.

    

  
    - *(dict) --* 

      The tag structure that contains a tag key and value.

      

    
      - **Key** *(string) --* **[REQUIRED]** 

        The key that's associated with the tag.

        

      
      - **Value** *(string) --* **[REQUIRED]** 

        The value that's associated with the tag.

        

      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ExportArn': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ExportArn** *(string) --* 

        The Amazon Resource Name (ARN) for this export.

        
  
  **Exceptions**
  
  *   :py:class:`BillingandCostManagementDataExports.Client.exceptions.ServiceQuotaExceededException`

  
  *   :py:class:`BillingandCostManagementDataExports.Client.exceptions.InternalServerException`

  
  *   :py:class:`BillingandCostManagementDataExports.Client.exceptions.ThrottlingException`

  
  *   :py:class:`BillingandCostManagementDataExports.Client.exceptions.ValidationException`

  