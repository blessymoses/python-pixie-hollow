:doc:`SecretsManager <../../secretsmanager>` / Paginator / ListSecrets

***********
ListSecrets
***********



.. py:class:: SecretsManager.Paginator.ListSecrets

  ::

    
    paginator = client.get_paginator('list_secrets')

  
  

  .. py:method:: paginate(**kwargs)

    Creates an iterator that will paginate through responses from :py:meth:`SecretsManager.Client.list_secrets`.

    See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/secretsmanager-2017-10-17/ListSecrets>`_    


    **Request Syntax**
    ::

      response_iterator = paginator.paginate(
          IncludePlannedDeletion=True|False,
          Filters=[
              {
                  'Key': 'description'|'name'|'tag-key'|'tag-value'|'primary-region'|'owning-service'|'all',
                  'Values': [
                      'string',
                  ]
              },
          ],
          SortOrder='asc'|'desc',
          SortBy='created-date'|'last-accessed-date'|'last-changed-date'|'name',
          PaginationConfig={
              'MaxItems': 123,
              'PageSize': 123,
              'StartingToken': 'string'
          }
      )
      
    :type IncludePlannedDeletion: boolean
    :param IncludePlannedDeletion: 

      Specifies whether to include secrets scheduled for deletion. By default, secrets scheduled for deletion aren't included.

      

    
    :type Filters: list
    :param Filters: 

      The filters to apply to the list of secrets.

      

    
      - *(dict) --* 

        Allows you to add filters when you use the search function in Secrets Manager. For more information, see `Find secrets in Secrets Manager <https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_search-secret.html>`__.

        

      
        - **Key** *(string) --* 

          The following are keys you can use:

           

          
          * **description**: Prefix match, not case-sensitive.
           
          * **name**: Prefix match, case-sensitive.
           
          * **tag-key**: Prefix match, case-sensitive.
           
          * **tag-value**: Prefix match, case-sensitive.
           
          * **primary-region**: Prefix match, case-sensitive.
           
          * **owning-service**: Prefix match, case-sensitive.
           
          * **all**: Breaks the filter value string into words and then searches all attributes for matches. Not case-sensitive.
          

          

        
        - **Values** *(list) --* 

          The keyword to filter for.

           

          You can prefix your search value with an exclamation mark ( ``!``) in order to perform negation filters.

          

        
          - *(string) --* 

          
      
      
  
    :type SortOrder: string
    :param SortOrder: 

      Secrets are listed by ``CreatedDate``.

      

    
    :type SortBy: string
    :param SortBy: 

      If not specified, secrets are listed by ``CreatedDate``.

      

    
    :type PaginationConfig: dict
    :param PaginationConfig: 

      A dictionary that provides parameters to control pagination.

      

    
      - **MaxItems** *(integer) --* 

        The total number of items to return. If the total number of items available is more than the value specified in max-items then a ``NextToken`` will be provided in the output that you can use to resume pagination.

        

      
      - **PageSize** *(integer) --* 

        The size of each page.

        

      
      - **StartingToken** *(string) --* 

        A token to specify where to start paginating. This is the ``NextToken`` from a previous response.

        

      
    
    
    :rtype: dict
    :returns: 
      
      **Response Syntax**

      
      ::

        {
            'SecretList': [
                {
                    'ARN': 'string',
                    'Name': 'string',
                    'Type': 'string',
                    'Description': 'string',
                    'KmsKeyId': 'string',
                    'RotationEnabled': True|False,
                    'RotationLambdaARN': 'string',
                    'RotationRules': {
                        'AutomaticallyAfterDays': 123,
                        'Duration': 'string',
                        'ScheduleExpression': 'string'
                    },
                    'ExternalSecretRotationMetadata': [
                        {
                            'Key': 'string',
                            'Value': 'string'
                        },
                    ],
                    'ExternalSecretRotationRoleArn': 'string',
                    'LastRotatedDate': datetime(2015, 1, 1),
                    'LastChangedDate': datetime(2015, 1, 1),
                    'LastAccessedDate': datetime(2015, 1, 1),
                    'DeletedDate': datetime(2015, 1, 1),
                    'NextRotationDate': datetime(2015, 1, 1),
                    'Tags': [
                        {
                            'Key': 'string',
                            'Value': 'string'
                        },
                    ],
                    'SecretVersionsToStages': {
                        'string': [
                            'string',
                        ]
                    },
                    'OwningService': 'string',
                    'CreatedDate': datetime(2015, 1, 1),
                    'PrimaryRegion': 'string'
                },
            ],
            
        }
        
      **Response Structure**

      

      - *(dict) --* 
        

        - **SecretList** *(list) --* 

          A list of the secrets in the account.

          
          

          - *(dict) --* 

            A structure that contains the details about a secret. It does not include the encrypted ``SecretString`` and ``SecretBinary`` values. To get those values, use `GetSecretValue <https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_GetSecretValue.html>`__ .

            
            

            - **ARN** *(string) --* 

              The Amazon Resource Name (ARN) of the secret.

              
            

            - **Name** *(string) --* 

              The friendly name of the secret.

              
            

            - **Type** *(string) --* 

              The exact string that identifies the third-party partner that holds the external secret. For more information, see `Managed external secret partners <https://docs.aws.amazon.com/secretsmanager/latest/userguide/mes-partners.html>`__.

              
            

            - **Description** *(string) --* 

              The user-provided description of the secret.

              
            

            - **KmsKeyId** *(string) --* 

              The ARN of the KMS key that Secrets Manager uses to encrypt the secret value. If the secret is encrypted with the Amazon Web Services managed key ``aws/secretsmanager``, this field is omitted.

              
            

            - **RotationEnabled** *(boolean) --* 

              Indicates whether automatic, scheduled rotation is enabled for this secret.

              
            

            - **RotationLambdaARN** *(string) --* 

              The ARN of an Amazon Web Services Lambda function invoked by Secrets Manager to rotate and expire the secret either automatically per the schedule or manually by a call to `RotateSecret <https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_RotateSecret.html>`__.

              
            

            - **RotationRules** *(dict) --* 

              A structure that defines the rotation configuration for the secret.

              
              

              - **AutomaticallyAfterDays** *(integer) --* 

                The number of days between rotations of the secret. You can use this value to check that your secret meets your compliance guidelines for how often secrets must be rotated. If you use this field to set the rotation schedule, Secrets Manager calculates the next rotation date based on the previous rotation. Manually updating the secret value by calling ``PutSecretValue`` or ``UpdateSecret`` is considered a valid rotation.

                 

                In ``DescribeSecret`` and ``ListSecrets``, this value is calculated from the rotation schedule after every successful rotation. In ``RotateSecret``, you can set the rotation schedule in ``RotationRules`` with ``AutomaticallyAfterDays`` or ``ScheduleExpression``, but not both. To set a rotation schedule in hours, use ``ScheduleExpression``.

                
              

              - **Duration** *(string) --* 

                The length of the rotation window in hours, for example ``3h`` for a three hour window. Secrets Manager rotates your secret at any time during this window. The window must not extend into the next rotation window or the next UTC day. The window starts according to the ``ScheduleExpression``. If you don't specify a ``Duration``, for a ``ScheduleExpression`` in hours, the window automatically closes after one hour. For a ``ScheduleExpression`` in days, the window automatically closes at the end of the UTC day. For more information, including examples, see `Schedule expressions in Secrets Manager rotation <https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotate-secrets_schedule.html>`__ in the *Secrets Manager Users Guide*.

                
              

              - **ScheduleExpression** *(string) --* 

                A ``cron()`` or ``rate()`` expression that defines the schedule for rotating your secret. Secrets Manager rotation schedules use UTC time zone. Secrets Manager rotates your secret any time during a rotation window.

                 

                Secrets Manager ``rate()`` expressions represent the interval in hours or days that you want to rotate your secret, for example ``rate(12 hours)`` or ``rate(10 days)``. You can rotate a secret as often as every four hours. If you use a ``rate()`` expression, the rotation window starts at midnight. For a rate in hours, the default rotation window closes after one hour. For a rate in days, the default rotation window closes at the end of the day. You can set the ``Duration`` to change the rotation window. The rotation window must not extend into the next UTC day or into the next rotation window.

                 

                You can use a ``cron()`` expression to create a rotation schedule that is more detailed than a rotation interval. For more information, including examples, see `Schedule expressions in Secrets Manager rotation <https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotate-secrets_schedule.html>`__ in the *Secrets Manager Users Guide*. For a cron expression that represents a schedule in hours, the default rotation window closes after one hour. For a cron expression that represents a schedule in days, the default rotation window closes at the end of the day. You can set the ``Duration`` to change the rotation window. The rotation window must not extend into the next UTC day or into the next rotation window.

                
          
            

            - **ExternalSecretRotationMetadata** *(list) --* 

              The metadata needed to successfully rotate a managed external secret. A list of key value pairs in JSON format specified by the partner. For more information about the required information, see `Managed external secrets partners <https://docs.aws.amazon.com/secretsmanager/latest/userguide/mes-partners.html>`__.

              
              

              - *(dict) --* 

                The metadata needed to successfully rotate a managed external secret. A list of key value pairs in JSON format specified by the partner. For more information, see `Managed external secret partners <https://docs.aws.amazon.com/secretsmanager/latest/userguide/mes-partners.html>`__.

                
                

                - **Key** *(string) --* 

                  The key that identifies the item.

                  
                

                - **Value** *(string) --* 

                  The value of the specified item.

                  
            
          
            

            - **ExternalSecretRotationRoleArn** *(string) --* 

              The role that Secrets Manager assumes to call APIs required to perform the rotation. For more information about the required information, see `Managed external secrets partners <https://docs.aws.amazon.com/secretsmanager/latest/userguide/mes-partners.html>`__.

              
            

            - **LastRotatedDate** *(datetime) --* 

              The most recent date and time that the Secrets Manager rotation process was successfully completed. This value is null if the secret hasn't ever rotated.

              
            

            - **LastChangedDate** *(datetime) --* 

              The last date and time that this secret was modified in any way.

              
            

            - **LastAccessedDate** *(datetime) --* 

              The date that the secret was last accessed in the Region. This field is omitted if the secret has never been retrieved in the Region.

              
            

            - **DeletedDate** *(datetime) --* 

              The date and time the deletion of the secret occurred. Not present on active secrets. The secret can be recovered until the number of days in the recovery window has passed, as specified in the ``RecoveryWindowInDays`` parameter of the `DeleteSecret <https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_DeleteSecret.html>`__ operation.

              
            

            - **NextRotationDate** *(datetime) --* 

              The next rotation is scheduled to occur on or before this date. If the secret isn't configured for rotation or rotation has been disabled, Secrets Manager returns null.

              
            

            - **Tags** *(list) --* 

              The list of user-defined tags associated with the secret. To add tags to a secret, use `TagResource <https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_TagResource.html>`__. To remove tags, use `UntagResource <https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_UntagResource.html>`__.

              
              

              - *(dict) --* 

                A structure that contains information about a tag.

                
                

                - **Key** *(string) --* 

                  The key identifier, or name, of the tag.

                  
                

                - **Value** *(string) --* 

                  The string value associated with the key of the tag.

                  
            
          
            

            - **SecretVersionsToStages** *(dict) --* 

              A list of all of the currently assigned ``SecretVersionStage`` staging labels and the ``SecretVersionId`` attached to each one. Staging labels are used to keep track of the different versions during the rotation process.

               

              .. note::

                

                A version that does not have any ``SecretVersionStage`` is considered deprecated and subject to deletion. Such versions are not included in this list.

                

              
              

              - *(string) --* 
                

                - *(list) --* 
                  

                  - *(string) --* 
              
          
        
            

            - **OwningService** *(string) --* 

              Returns the name of the service that created the secret.

              
            

            - **CreatedDate** *(datetime) --* 

              The date and time when a secret was created.

              
            

            - **PrimaryRegion** *(string) --* 

              The Region where Secrets Manager originated the secret.

              
        
      
    