:doc:`S3Tables <../../s3tables>` / Client / put_table_replication

*********************
put_table_replication
*********************



.. py:method:: S3Tables.Client.put_table_replication(**kwargs)

  

  Creates or updates the replication configuration for a specific table. This operation allows you to define table-level replication independently of bucket-level replication, providing granular control over which tables are replicated and where.

    Permissions  

  
  * You must have the ``s3tables:PutTableReplication`` permission to use this operation. The IAM role specified in the configuration must have permissions to read from the source table and write to all destination tables.
   
  * You must also have the following permissions: 

    
    * ``s3tables:GetTable`` permission on the source table being replicated.
     
    * ``s3tables:CreateTable`` permission for the destination.
     
    * ``s3tables:CreateNamespace`` permission for the destination.
     
    * ``s3tables:GetTableMaintenanceConfig`` permission for the source table.
     
    * ``s3tables:PutTableMaintenanceConfig`` permission for the destination table.
    

  
   
  * You must have ``iam:PassRole`` permission with condition allowing roles to be passed to ``replication.s3tables.amazonaws.com``.
  

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/s3tables-2018-05-10/PutTableReplication>`_  


  **Request Syntax**
  ::

    response = client.put_table_replication(
        tableArn='string',
        versionToken='string',
        configuration={
            'role': 'string',
            'rules': [
                {
                    'destinations': [
                        {
                            'destinationTableBucketARN': 'string'
                        },
                    ]
                },
            ]
        }
    )
    
  :type tableArn: string
  :param tableArn: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the source table.

    

  
  :type versionToken: string
  :param versionToken: 

    A version token from a previous GetTableReplication call. Use this token to ensure you're updating the expected version of the configuration.

    

  
  :type configuration: dict
  :param configuration: **[REQUIRED]** 

    The replication configuration to apply to the table, including the IAM role and replication rules.

    

  
    - **role** *(string) --* **[REQUIRED]** 

      The Amazon Resource Name (ARN) of the IAM role that S3 Tables assumes to replicate the table on your behalf.

      

    
    - **rules** *(list) --* **[REQUIRED]** 

      An array of replication rules that define where this table should be replicated.

      

    
      - *(dict) --* 

        Defines a rule for replicating a table to one or more destination tables.

        

      
        - **destinations** *(list) --* **[REQUIRED]** 

          An array of destination table buckets where this table should be replicated.

          

        
          - *(dict) --* 

            Specifies a destination table bucket for replication.

            

          
            - **destinationTableBucketARN** *(string) --* **[REQUIRED]** 

              The Amazon Resource Name (ARN) of the destination table bucket where tables will be replicated.

              

            
          
      
      
  
  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'versionToken': 'string',
          'status': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **versionToken** *(string) --* 

        A new version token representing the updated replication configuration.

        
      

      - **status** *(string) --* 

        The status of the replication configuration operation.

        
  
  **Exceptions**
  
  *   :py:class:`S3Tables.Client.exceptions.InternalServerErrorException`

  
  *   :py:class:`S3Tables.Client.exceptions.ForbiddenException`

  
  *   :py:class:`S3Tables.Client.exceptions.NotFoundException`

  
  *   :py:class:`S3Tables.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`S3Tables.Client.exceptions.TooManyRequestsException`

  
  *   :py:class:`S3Tables.Client.exceptions.ConflictException`

  
  *   :py:class:`S3Tables.Client.exceptions.BadRequestException`

  