:doc:`EBS <../../ebs>` / Client / complete_snapshot

*****************
complete_snapshot
*****************



.. py:method:: EBS.Client.complete_snapshot(**kwargs)

  

  Seals and completes the snapshot after all of the required blocks of data have been written to it. Completing the snapshot changes the status to ``completed``. You cannot write new blocks to a snapshot after it has been completed.

   

  .. note::

    

    You should always retry requests that receive server ( ``5xx``) error responses, and ``ThrottlingException`` and ``RequestThrottledException`` client error responses. For more information see `Error retries <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/error-retries.html>`__ in the *Amazon Elastic Compute Cloud User Guide*.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ebs-2019-11-02/CompleteSnapshot>`_  


  **Request Syntax**
  ::

    response = client.complete_snapshot(
        SnapshotId='string',
        ChangedBlocksCount=123,
        Checksum='string',
        ChecksumAlgorithm='SHA256',
        ChecksumAggregationMethod='LINEAR'
    )
    
  :type SnapshotId: string
  :param SnapshotId: **[REQUIRED]** 

    The ID of the snapshot.

    

  
  :type ChangedBlocksCount: integer
  :param ChangedBlocksCount: **[REQUIRED]** 

    The number of blocks that were written to the snapshot.

    

  
  :type Checksum: string
  :param Checksum: 

    An aggregated Base-64 SHA256 checksum based on the checksums of each written block.

     

    To generate the aggregated checksum using the linear aggregation method, arrange the checksums for each written block in ascending order of their block index, concatenate them to form a single string, and then generate the checksum on the entire string using the SHA256 algorithm.

    

  
  :type ChecksumAlgorithm: string
  :param ChecksumAlgorithm: 

    The algorithm used to generate the checksum. Currently, the only supported algorithm is ``SHA256``.

    

  
  :type ChecksumAggregationMethod: string
  :param ChecksumAggregationMethod: 

    The aggregation method used to generate the checksum. Currently, the only supported aggregation method is ``LINEAR``.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Status': 'completed'|'pending'|'error'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Status** *(string) --* 

        The status of the snapshot.

        
  
  **Exceptions**
  
  *   :py:class:`EBS.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`EBS.Client.exceptions.ValidationException`

  
  *   :py:class:`EBS.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`EBS.Client.exceptions.RequestThrottledException`

  
  *   :py:class:`EBS.Client.exceptions.ServiceQuotaExceededException`

  
  *   :py:class:`EBS.Client.exceptions.InternalServerException`

  