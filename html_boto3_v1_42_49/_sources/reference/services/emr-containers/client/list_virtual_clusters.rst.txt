:doc:`EMRContainers <../../emr-containers>` / Client / list_virtual_clusters

*********************
list_virtual_clusters
*********************



.. py:method:: EMRContainers.Client.list_virtual_clusters(**kwargs)

  

  Lists information about the specified virtual cluster. Virtual cluster is a managed entity on Amazon EMR on EKS. You can create, describe, list and delete virtual clusters. They do not consume any additional resource in your system. A single virtual cluster maps to a single Kubernetes namespace. Given this relationship, you can model virtual clusters the same way you model Kubernetes namespaces to meet your requirements.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/emr-containers-2020-10-01/ListVirtualClusters>`_  


  **Request Syntax**
  ::

    response = client.list_virtual_clusters(
        containerProviderId='string',
        containerProviderType='EKS',
        createdAfter=datetime(2015, 1, 1),
        createdBefore=datetime(2015, 1, 1),
        states=[
            'RUNNING'|'TERMINATING'|'TERMINATED'|'ARRESTED',
        ],
        maxResults=123,
        nextToken='string',
        eksAccessEntryIntegrated=True|False
    )
    
  :type containerProviderId: string
  :param containerProviderId: 

    The container provider ID of the virtual cluster.

    

  
  :type containerProviderType: string
  :param containerProviderType: 

    The container provider type of the virtual cluster. Amazon EKS is the only supported type as of now.

    

  
  :type createdAfter: datetime
  :param createdAfter: 

    The date and time after which the virtual clusters are created.

    

  
  :type createdBefore: datetime
  :param createdBefore: 

    The date and time before which the virtual clusters are created.

    

  
  :type states: list
  :param states: 

    The states of the requested virtual clusters.

    

  
    - *(string) --* 

    

  :type maxResults: integer
  :param maxResults: 

    The maximum number of virtual clusters that can be listed.

    

  
  :type nextToken: string
  :param nextToken: 

    The token for the next set of virtual clusters to return.

    

  
  :type eksAccessEntryIntegrated: boolean
  :param eksAccessEntryIntegrated: 

    Optional Boolean that specifies whether the operation should return the virtual clusters that have the access entry integration enabled or disabled. If not specified, the operation returns all applicable virtual clusters.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'virtualClusters': [
              {
                  'id': 'string',
                  'name': 'string',
                  'arn': 'string',
                  'state': 'RUNNING'|'TERMINATING'|'TERMINATED'|'ARRESTED',
                  'containerProvider': {
                      'type': 'EKS',
                      'id': 'string',
                      'info': {
                          'eksInfo': {
                              'namespace': 'string',
                              'nodeLabel': 'string'
                          }
                      }
                  },
                  'createdAt': datetime(2015, 1, 1),
                  'tags': {
                      'string': 'string'
                  },
                  'securityConfigurationId': 'string'
              },
          ],
          'nextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **virtualClusters** *(list) --* 

        This output lists the specified virtual clusters.

        
        

        - *(dict) --* 

          This entity describes a virtual cluster. A virtual cluster is a Kubernetes namespace that Amazon EMR is registered with. Amazon EMR uses virtual clusters to run jobs and host endpoints. Multiple virtual clusters can be backed by the same physical cluster. However, each virtual cluster maps to one namespace on an Amazon EKS cluster. Virtual clusters do not create any active resources that contribute to your bill or that require lifecycle management outside the service.

          
          

          - **id** *(string) --* 

            The ID of the virtual cluster.

            
          

          - **name** *(string) --* 

            The name of the virtual cluster.

            
          

          - **arn** *(string) --* 

            The ARN of the virtual cluster.

            
          

          - **state** *(string) --* 

            The state of the virtual cluster.

            
          

          - **containerProvider** *(dict) --* 

            The container provider of the virtual cluster.

            
            

            - **type** *(string) --* 

              The type of the container provider. Amazon EKS is the only supported type as of now.

              
            

            - **id** *(string) --* 

              The ID of the container cluster.

              
            

            - **info** *(dict) --* 

              The information about the container cluster.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``eksInfo``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                            'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


            
              

              - **eksInfo** *(dict) --* 

                The information about the Amazon EKS cluster.

                
                

                - **namespace** *(string) --* 

                  The namespaces of the Amazon EKS cluster.

                  
                

                - **nodeLabel** *(string) --* 

                  The nodeLabel of the nodes where the resources of this virtual cluster can get scheduled. It requires relevant scaling and policy engine addons.

                  
            
          
        
          

          - **createdAt** *(datetime) --* 

            The date and time when the virtual cluster is created.

            
          

          - **tags** *(dict) --* 

            The assigned tags of the virtual cluster.

            
            

            - *(string) --* 
              

              - *(string) --* 
        
      
          

          - **securityConfigurationId** *(string) --* 

            The ID of the security configuration.

            
      
    
      

      - **nextToken** *(string) --* 

        This output displays the token for the next set of virtual clusters.

        
  
  **Exceptions**
  
  *   :py:class:`EMRContainers.Client.exceptions.ValidationException`

  
  *   :py:class:`EMRContainers.Client.exceptions.InternalServerException`

  