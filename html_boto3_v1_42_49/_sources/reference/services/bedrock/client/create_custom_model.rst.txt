:doc:`Bedrock <../../bedrock>` / Client / create_custom_model

*******************
create_custom_model
*******************



.. py:method:: Bedrock.Client.create_custom_model(**kwargs)

  

  Creates a new custom model in Amazon Bedrock. After the model is active, you can use it for inference.

   

  To use the model for inference, you must purchase Provisioned Throughput for it. You can't use On-demand inference with these custom models. For more information about Provisioned Throughput, see `Provisioned Throughput <https://docs.aws.amazon.com/bedrock/latest/userguide/prov-throughput.html>`__.

   

  The model appears in ``ListCustomModels`` with a ``customizationType`` of ``imported``. To track the status of the new model, you use the ``GetCustomModel`` API operation. The model can be in the following states:

   

  
  * ``Creating`` - Initial state during validation and registration
   
  * ``Active`` - Model is ready for use in inference
   
  * ``Failed`` - Creation process encountered an error
  

   

  **Related APIs**

   

  
  * `GetCustomModel <https://docs.aws.amazon.com/bedrock/latest/APIReference/API_GetCustomModel.html>`__
   
  * `ListCustomModels <https://docs.aws.amazon.com/bedrock/latest/APIReference/API_ListCustomModels.html>`__
   
  * `DeleteCustomModel <https://docs.aws.amazon.com/bedrock/latest/APIReference/API_DeleteCustomModel.html>`__
  

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/bedrock-2023-04-20/CreateCustomModel>`_  


  **Request Syntax**
  ::

    response = client.create_custom_model(
        modelName='string',
        modelSourceConfig={
            's3DataSource': {
                's3Uri': 'string'
            }
        },
        modelKmsKeyArn='string',
        roleArn='string',
        modelTags=[
            {
                'key': 'string',
                'value': 'string'
            },
        ],
        clientRequestToken='string'
    )
    
  :type modelName: string
  :param modelName: **[REQUIRED]** 

    A unique name for the custom model.

    

  
  :type modelSourceConfig: dict
  :param modelSourceConfig: **[REQUIRED]** 

    The data source for the model. The Amazon S3 URI in the model source must be for the Amazon-managed Amazon S3 bucket containing your model artifacts.

    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``s3DataSource``. 

  
    - **s3DataSource** *(dict) --* 

      The Amazon S3 data source of the model to import.

      

    
      - **s3Uri** *(string) --* **[REQUIRED]** 

        The URI of the Amazon S3 data source.

        

      
    
  
  :type modelKmsKeyArn: string
  :param modelKmsKeyArn: 

    The Amazon Resource Name (ARN) of the customer managed KMS key to encrypt the custom model. If you don't provide a KMS key, Amazon Bedrock uses an Amazon Web Services-managed KMS key to encrypt the model.

     

    If you provide a customer managed KMS key, your Amazon Bedrock service role must have permissions to use it. For more information see `Encryption of imported models <https://docs.aws.amazon.com/bedrock/latest/userguide/encryption-import-model.html>`__.

    

  
  :type roleArn: string
  :param roleArn: 

    The Amazon Resource Name (ARN) of an IAM service role that Amazon Bedrock assumes to perform tasks on your behalf. This role must have permissions to access the Amazon S3 bucket containing your model artifacts and the KMS key (if specified). For more information, see `Setting up an IAM service role for importing models <https://docs.aws.amazon.com/bedrock/latest/userguide/model-import-iam-role.html>`__ in the Amazon Bedrock User Guide.

    

  
  :type modelTags: list
  :param modelTags: 

    A list of key-value pairs to associate with the custom model resource. You can use these tags to organize and identify your resources.

     

    For more information, see `Tagging resources <https://docs.aws.amazon.com/bedrock/latest/userguide/tagging.html>`__ in the `Amazon Bedrock User Guide <https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-service.html>`__.

    

  
    - *(dict) --* 

      Definition of the key/value pair for a tag.

      

    
      - **key** *(string) --* **[REQUIRED]** 

        Key for the tag.

        

      
      - **value** *(string) --* **[REQUIRED]** 

        Value for the tag.

        

      
    

  :type clientRequestToken: string
  :param clientRequestToken: 

    A unique, case-sensitive identifier to ensure that the API request completes no more than one time. If this token matches a previous request, Amazon Bedrock ignores the request, but does not return an error. For more information, see `Ensuring idempotency <https://docs.aws.amazon.com/AWSEC2/latest/APIReference/Run_Instance_Idempotency.html>`__.

    This field is autopopulated if not provided.

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'modelArn': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **modelArn** *(string) --* 

        The Amazon Resource Name (ARN) of the new custom model.

        
  
  **Exceptions**
  
  *   :py:class:`Bedrock.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`Bedrock.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`Bedrock.Client.exceptions.ValidationException`

  
  *   :py:class:`Bedrock.Client.exceptions.ConflictException`

  
  *   :py:class:`Bedrock.Client.exceptions.InternalServerException`

  
  *   :py:class:`Bedrock.Client.exceptions.TooManyTagsException`

  
  *   :py:class:`Bedrock.Client.exceptions.ServiceQuotaExceededException`

  
  *   :py:class:`Bedrock.Client.exceptions.ThrottlingException`

  