:doc:`CloudHSMV2 <../../cloudhsmv2>` / Client / modify_cluster

**************
modify_cluster
**************



.. py:method:: CloudHSMV2.Client.modify_cluster(**kwargs)

  

  Modifies CloudHSM cluster.

   

  **Cross-account use:** No. You cannot perform this operation on an CloudHSM cluster in a different Amazon Web Services account.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/cloudhsmv2-2017-04-28/ModifyCluster>`_  


  **Request Syntax**
  ::

    response = client.modify_cluster(
        HsmType='string',
        BackupRetentionPolicy={
            'Type': 'DAYS',
            'Value': 'string'
        },
        ClusterId='string'
    )
    
  :type HsmType: string
  :param HsmType: 

    The desired HSM type of the cluster.

    

  
  :type BackupRetentionPolicy: dict
  :param BackupRetentionPolicy: 

    A policy that defines how the service retains backups.

    

  
    - **Type** *(string) --* 

      The type of backup retention policy. For the ``DAYS`` type, the value is the number of days to retain backups.

      

    
    - **Value** *(string) --* 

      Use a value between 7 - 379.

      

    
  
  :type ClusterId: string
  :param ClusterId: **[REQUIRED]** 

    The identifier (ID) of the cluster that you want to modify. To find the cluster ID, use  DescribeClusters.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Cluster': {
              'BackupPolicy': 'DEFAULT',
              'BackupRetentionPolicy': {
                  'Type': 'DAYS',
                  'Value': 'string'
              },
              'ClusterId': 'string',
              'CreateTimestamp': datetime(2015, 1, 1),
              'Hsms': [
                  {
                      'AvailabilityZone': 'string',
                      'ClusterId': 'string',
                      'SubnetId': 'string',
                      'EniId': 'string',
                      'EniIp': 'string',
                      'EniIpV6': 'string',
                      'HsmId': 'string',
                      'HsmType': 'string',
                      'State': 'CREATE_IN_PROGRESS'|'ACTIVE'|'DEGRADED'|'DELETE_IN_PROGRESS'|'DELETED',
                      'StateMessage': 'string'
                  },
              ],
              'HsmType': 'string',
              'HsmTypeRollbackExpiration': datetime(2015, 1, 1),
              'PreCoPassword': 'string',
              'SecurityGroup': 'string',
              'SourceBackupId': 'string',
              'State': 'CREATE_IN_PROGRESS'|'UNINITIALIZED'|'INITIALIZE_IN_PROGRESS'|'INITIALIZED'|'ACTIVE'|'UPDATE_IN_PROGRESS'|'MODIFY_IN_PROGRESS'|'ROLLBACK_IN_PROGRESS'|'DELETE_IN_PROGRESS'|'DELETED'|'DEGRADED',
              'StateMessage': 'string',
              'SubnetMapping': {
                  'string': 'string'
              },
              'VpcId': 'string',
              'NetworkType': 'IPV4'|'DUALSTACK',
              'Certificates': {
                  'ClusterCsr': 'string',
                  'HsmCertificate': 'string',
                  'AwsHardwareCertificate': 'string',
                  'ManufacturerHardwareCertificate': 'string',
                  'ClusterCertificate': 'string'
              },
              'TagList': [
                  {
                      'Key': 'string',
                      'Value': 'string'
                  },
              ],
              'Mode': 'FIPS'|'NON_FIPS'
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Cluster** *(dict) --* 

        Contains information about an CloudHSM cluster.

        
        

        - **BackupPolicy** *(string) --* 

          The cluster's backup policy.

          
        

        - **BackupRetentionPolicy** *(dict) --* 

          A policy that defines how the service retains backups.

          
          

          - **Type** *(string) --* 

            The type of backup retention policy. For the ``DAYS`` type, the value is the number of days to retain backups.

            
          

          - **Value** *(string) --* 

            Use a value between 7 - 379.

            
      
        

        - **ClusterId** *(string) --* 

          The cluster's identifier (ID).

          
        

        - **CreateTimestamp** *(datetime) --* 

          The date and time when the cluster was created.

          
        

        - **Hsms** *(list) --* 

          Contains information about the HSMs in the cluster.

          
          

          - *(dict) --* 

            Contains information about a hardware security module (HSM) in an CloudHSM cluster.

            
            

            - **AvailabilityZone** *(string) --* 

              The Availability Zone that contains the HSM.

              
            

            - **ClusterId** *(string) --* 

              The identifier (ID) of the cluster that contains the HSM.

              
            

            - **SubnetId** *(string) --* 

              The subnet that contains the HSM's elastic network interface (ENI).

              
            

            - **EniId** *(string) --* 

              The identifier (ID) of the HSM's elastic network interface (ENI).

              
            

            - **EniIp** *(string) --* 

              The IP address of the HSM's elastic network interface (ENI).

              
            

            - **EniIpV6** *(string) --* 

              The IPv6 address (if any) of the HSM's elastic network interface (ENI).

              
            

            - **HsmId** *(string) --* 

              The HSM's identifier (ID).

              
            

            - **HsmType** *(string) --* 

              The type of HSM.

              
            

            - **State** *(string) --* 

              The HSM's state.

              
            

            - **StateMessage** *(string) --* 

              A description of the HSM's state.

              
        
      
        

        - **HsmType** *(string) --* 

          The type of HSM that the cluster contains.

          
        

        - **HsmTypeRollbackExpiration** *(datetime) --* 

          The timestamp until when the cluster can be rolled back to its original HSM type.

          
        

        - **PreCoPassword** *(string) --* 

          The default password for the cluster's Pre-Crypto Officer (PRECO) user.

          
        

        - **SecurityGroup** *(string) --* 

          The identifier (ID) of the cluster's security group.

          
        

        - **SourceBackupId** *(string) --* 

          The identifier (ID) of the backup used to create the cluster. This value exists only when the cluster was created from a backup.

          
        

        - **State** *(string) --* 

          The cluster's state.

          
        

        - **StateMessage** *(string) --* 

          A description of the cluster's state.

          
        

        - **SubnetMapping** *(dict) --* 

          A map from availability zone to the clusterâ€™s subnet in that availability zone.

          
          

          - *(string) --* 
            

            - *(string) --* 
      
    
        

        - **VpcId** *(string) --* 

          The identifier (ID) of the virtual private cloud (VPC) that contains the cluster.

          
        

        - **NetworkType** *(string) --* 

          The cluster's NetworkType can be IPv4 (the default) or DUALSTACK. The IPv4 NetworkType restricts communication between your application and the hardware security modules (HSMs) to the IPv4 protocol only. The DUALSTACK NetworkType enables communication over both IPv4 and IPv6 protocols. To use DUALSTACK, configure your virtual private cloud (VPC) and subnets to support both IPv4 and IPv6. This configuration involves adding IPv6 Classless Inter-Domain Routing (CIDR) blocks to the existing IPv4 CIDR blocks in your subnets. The NetworkType you choose affects the network addressing options for your cluster. DUALSTACK provides more flexibility by supporting both IPv4 and IPv6 communication.

          
        

        - **Certificates** *(dict) --* 

          Contains one or more certificates or a certificate signing request (CSR).

          
          

          - **ClusterCsr** *(string) --* 

            The cluster's certificate signing request (CSR). The CSR exists only when the cluster's state is ``UNINITIALIZED``.

            
          

          - **HsmCertificate** *(string) --* 

            The HSM certificate issued (signed) by the HSM hardware.

            
          

          - **AwsHardwareCertificate** *(string) --* 

            The HSM hardware certificate issued (signed) by CloudHSM.

            
          

          - **ManufacturerHardwareCertificate** *(string) --* 

            The HSM hardware certificate issued (signed) by the hardware manufacturer.

            
          

          - **ClusterCertificate** *(string) --* 

            The cluster certificate issued (signed) by the issuing certificate authority (CA) of the cluster's owner.

            
      
        

        - **TagList** *(list) --* 

          The list of tags for the cluster.

          
          

          - *(dict) --* 

            Contains a tag. A tag is a key-value pair.

            
            

            - **Key** *(string) --* 

              The key of the tag.

              
            

            - **Value** *(string) --* 

              The value of the tag.

              
        
      
        

        - **Mode** *(string) --* 

          The mode of the cluster.

          
    
  
  **Exceptions**
  
  *   :py:class:`CloudHSMV2.Client.exceptions.CloudHsmAccessDeniedException`

  
  *   :py:class:`CloudHSMV2.Client.exceptions.CloudHsmInternalFailureException`

  
  *   :py:class:`CloudHSMV2.Client.exceptions.CloudHsmInvalidRequestException`

  
  *   :py:class:`CloudHSMV2.Client.exceptions.CloudHsmResourceNotFoundException`

  
  *   :py:class:`CloudHSMV2.Client.exceptions.CloudHsmServiceException`

  