:doc:`EKS <../../eks>` / Client / delete_addon

************
delete_addon
************



.. py:method:: EKS.Client.delete_addon(**kwargs)

  

  Deletes an Amazon EKS add-on.

   

  When you remove an add-on, it's deleted from the cluster. You can always manually start an add-on on the cluster using the Kubernetes API.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/eks-2017-11-01/DeleteAddon>`_  


  **Request Syntax**
  ::

    response = client.delete_addon(
        clusterName='string',
        addonName='string',
        preserve=True|False
    )
    
  :type clusterName: string
  :param clusterName: **[REQUIRED]** 

    The name of your cluster.

    

  
  :type addonName: string
  :param addonName: **[REQUIRED]** 

    The name of the add-on. The name must match one of the names returned by `ListAddons <https://docs.aws.amazon.com/eks/latest/APIReference/API_ListAddons.html>`__.

    

  
  :type preserve: boolean
  :param preserve: 

    Specifying this option preserves the add-on software on your cluster but Amazon EKS stops managing any settings for the add-on. If an IAM account is associated with the add-on, it isn't removed.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'addon': {
              'addonName': 'string',
              'clusterName': 'string',
              'status': 'CREATING'|'ACTIVE'|'CREATE_FAILED'|'UPDATING'|'DELETING'|'DELETE_FAILED'|'DEGRADED'|'UPDATE_FAILED',
              'addonVersion': 'string',
              'health': {
                  'issues': [
                      {
                          'code': 'AccessDenied'|'InternalFailure'|'ClusterUnreachable'|'InsufficientNumberOfReplicas'|'ConfigurationConflict'|'AdmissionRequestDenied'|'UnsupportedAddonModification'|'K8sResourceNotFound'|'AddonSubscriptionNeeded'|'AddonPermissionFailure',
                          'message': 'string',
                          'resourceIds': [
                              'string',
                          ]
                      },
                  ]
              },
              'addonArn': 'string',
              'createdAt': datetime(2015, 1, 1),
              'modifiedAt': datetime(2015, 1, 1),
              'serviceAccountRoleArn': 'string',
              'tags': {
                  'string': 'string'
              },
              'publisher': 'string',
              'owner': 'string',
              'marketplaceInformation': {
                  'productId': 'string',
                  'productUrl': 'string'
              },
              'configurationValues': 'string',
              'podIdentityAssociations': [
                  'string',
              ],
              'namespaceConfig': {
                  'namespace': 'string'
              }
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **addon** *(dict) --* 

        An Amazon EKS add-on. For more information, see `Amazon EKS add-ons <https://docs.aws.amazon.com/eks/latest/userguide/eks-add-ons.html>`__ in the *Amazon EKS User Guide*.

        
        

        - **addonName** *(string) --* 

          The name of the add-on.

          
        

        - **clusterName** *(string) --* 

          The name of your cluster.

          
        

        - **status** *(string) --* 

          The status of the add-on.

          
        

        - **addonVersion** *(string) --* 

          The version of the add-on.

          
        

        - **health** *(dict) --* 

          An object that represents the health of the add-on.

          
          

          - **issues** *(list) --* 

            An object representing the health issues for an add-on.

            
            

            - *(dict) --* 

              An issue related to an add-on.

              
              

              - **code** *(string) --* 

                A code that describes the type of issue.

                
              

              - **message** *(string) --* 

                A message that provides details about the issue and what might cause it.

                
              

              - **resourceIds** *(list) --* 

                The resource IDs of the issue.

                
                

                - *(string) --* 
            
          
        
      
        

        - **addonArn** *(string) --* 

          The Amazon Resource Name (ARN) of the add-on.

          
        

        - **createdAt** *(datetime) --* 

          The Unix epoch timestamp at object creation.

          
        

        - **modifiedAt** *(datetime) --* 

          The Unix epoch timestamp for the last modification to the object.

          
        

        - **serviceAccountRoleArn** *(string) --* 

          The Amazon Resource Name (ARN) of the IAM role that's bound to the Kubernetes ``ServiceAccount`` object that the add-on uses.

          
        

        - **tags** *(dict) --* 

          Metadata that assists with categorization and organization. Each tag consists of a key and an optional value. You define both. Tags don't propagate to any other cluster or Amazon Web Services resources.

          
          

          - *(string) --* 

            One part of a key-value pair that make up a tag. A ``key`` is a general label that acts like a category for more specific tag values.

            
            

            - *(string) --* 

              The optional part of a key-value pair that make up a tag. A ``value`` acts as a descriptor within a tag category (key).

              
      
    
        

        - **publisher** *(string) --* 

          The publisher of the add-on.

          
        

        - **owner** *(string) --* 

          The owner of the add-on.

          
        

        - **marketplaceInformation** *(dict) --* 

          Information about an Amazon EKS add-on from the Amazon Web Services Marketplace.

          
          

          - **productId** *(string) --* 

            The product ID from the Amazon Web Services Marketplace.

            
          

          - **productUrl** *(string) --* 

            The product URL from the Amazon Web Services Marketplace.

            
      
        

        - **configurationValues** *(string) --* 

          The configuration values that you provided.

          
        

        - **podIdentityAssociations** *(list) --* 

          An array of EKS Pod Identity associations owned by the add-on. Each association maps a role to a service account in a namespace in the cluster.

           

          For more information, see `Attach an IAM Role to an Amazon EKS add-on using EKS Pod Identity <https://docs.aws.amazon.com/eks/latest/userguide/add-ons-iam.html>`__ in the *Amazon EKS User Guide*.

          
          

          - *(string) --* 
      
        

        - **namespaceConfig** *(dict) --* 

          The namespace configuration for the addon. This specifies the Kubernetes namespace where the addon is installed.

          
          

          - **namespace** *(string) --* 

            The name of the Kubernetes namespace where the addon is installed.

            
      
    
  
  **Exceptions**
  
  *   :py:class:`EKS.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`EKS.Client.exceptions.InvalidRequestException`

  
  *   :py:class:`EKS.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`EKS.Client.exceptions.ClientException`

  
  *   :py:class:`EKS.Client.exceptions.ServerException`

  