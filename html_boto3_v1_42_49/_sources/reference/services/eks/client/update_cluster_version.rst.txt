:doc:`EKS <../../eks>` / Client / update_cluster_version

**********************
update_cluster_version
**********************



.. py:method:: EKS.Client.update_cluster_version(**kwargs)

  

  Updates an Amazon EKS cluster to the specified Kubernetes version. Your cluster continues to function during the update. The response output includes an update ID that you can use to track the status of your cluster update with the `DescribeUpdate <https://docs.aws.amazon.com/eks/latest/APIReference/API_DescribeUpdate.html>`__ API operation.

   

  Cluster updates are asynchronous, and they should finish within a few minutes. During an update, the cluster status moves to ``UPDATING`` (this status transition is eventually consistent). When the update is complete (either ``Failed`` or ``Successful``), the cluster status moves to ``Active``.

   

  If your cluster has managed node groups attached to it, all of your node groups' Kubernetes versions must match the cluster's Kubernetes version in order to update the cluster to a new Kubernetes version.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/eks-2017-11-01/UpdateClusterVersion>`_  


  **Request Syntax**
  ::

    response = client.update_cluster_version(
        name='string',
        version='string',
        clientRequestToken='string',
        force=True|False
    )
    
  :type name: string
  :param name: **[REQUIRED]** 

    The name of the Amazon EKS cluster to update.

    

  
  :type version: string
  :param version: **[REQUIRED]** 

    The desired Kubernetes version following a successful update.

    

  
  :type clientRequestToken: string
  :param clientRequestToken: 

    A unique, case-sensitive identifier that you provide to ensure the idempotency of the request.

    This field is autopopulated if not provided.

  
  :type force: boolean
  :param force: 

    Set this value to ``true`` to override upgrade-blocking readiness checks when updating a cluster.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'update': {
              'id': 'string',
              'status': 'InProgress'|'Failed'|'Cancelled'|'Successful',
              'type': 'VersionUpdate'|'EndpointAccessUpdate'|'LoggingUpdate'|'ConfigUpdate'|'AssociateIdentityProviderConfig'|'DisassociateIdentityProviderConfig'|'AssociateEncryptionConfig'|'AddonUpdate'|'VpcConfigUpdate'|'AccessConfigUpdate'|'UpgradePolicyUpdate'|'ZonalShiftConfigUpdate'|'AutoModeUpdate'|'RemoteNetworkConfigUpdate'|'DeletionProtectionUpdate'|'ControlPlaneScalingConfigUpdate'|'VendedLogsUpdate',
              'params': [
                  {
                      'type': 'Version'|'PlatformVersion'|'EndpointPrivateAccess'|'EndpointPublicAccess'|'ClusterLogging'|'DesiredSize'|'LabelsToAdd'|'LabelsToRemove'|'TaintsToAdd'|'TaintsToRemove'|'MaxSize'|'MinSize'|'ReleaseVersion'|'PublicAccessCidrs'|'LaunchTemplateName'|'LaunchTemplateVersion'|'IdentityProviderConfig'|'EncryptionConfig'|'AddonVersion'|'ServiceAccountRoleArn'|'ResolveConflicts'|'MaxUnavailable'|'MaxUnavailablePercentage'|'NodeRepairEnabled'|'UpdateStrategy'|'ConfigurationValues'|'SecurityGroups'|'Subnets'|'AuthenticationMode'|'PodIdentityAssociations'|'UpgradePolicy'|'ZonalShiftConfig'|'ComputeConfig'|'StorageConfig'|'KubernetesNetworkConfig'|'RemoteNetworkConfig'|'DeletionProtection'|'NodeRepairConfig'|'UpdatedTier'|'PreviousTier',
                      'value': 'string'
                  },
              ],
              'createdAt': datetime(2015, 1, 1),
              'errors': [
                  {
                      'errorCode': 'SubnetNotFound'|'SecurityGroupNotFound'|'EniLimitReached'|'IpNotAvailable'|'AccessDenied'|'OperationNotPermitted'|'VpcIdNotFound'|'Unknown'|'NodeCreationFailure'|'PodEvictionFailure'|'InsufficientFreeAddresses'|'ClusterUnreachable'|'InsufficientNumberOfReplicas'|'ConfigurationConflict'|'AdmissionRequestDenied'|'UnsupportedAddonModification'|'K8sResourceNotFound',
                      'errorMessage': 'string',
                      'resourceIds': [
                          'string',
                      ]
                  },
              ]
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **update** *(dict) --* 

        The full description of the specified update

        
        

        - **id** *(string) --* 

          A UUID that is used to track the update.

          
        

        - **status** *(string) --* 

          The current status of the update.

          
        

        - **type** *(string) --* 

          The type of the update.

          
        

        - **params** *(list) --* 

          A key-value map that contains the parameters associated with the update.

          
          

          - *(dict) --* 

            An object representing the details of an update request.

            
            

            - **type** *(string) --* 

              The keys associated with an update request.

              
            

            - **value** *(string) --* 

              The value of the keys submitted as part of an update request.

              
        
      
        

        - **createdAt** *(datetime) --* 

          The Unix epoch timestamp at object creation.

          
        

        - **errors** *(list) --* 

          Any errors associated with a ``Failed`` update.

          
          

          - *(dict) --* 

            An object representing an error when an asynchronous operation fails.

            
            

            - **errorCode** *(string) --* 

              A brief description of the error.

               

              
              * **SubnetNotFound**: We couldn't find one of the subnets associated with the cluster.
               
              * **SecurityGroupNotFound**: We couldn't find one of the security groups associated with the cluster.
               
              * **EniLimitReached**: You have reached the elastic network interface limit for your account.
               
              * **IpNotAvailable**: A subnet associated with the cluster doesn't have any available IP addresses.
               
              * **AccessDenied**: You don't have permissions to perform the specified operation.
               
              * **OperationNotPermitted**: The service role associated with the cluster doesn't have the required access permissions for Amazon EKS.
               
              * **VpcIdNotFound**: We couldn't find the VPC associated with the cluster.
              

              
            

            - **errorMessage** *(string) --* 

              A more complete description of the error.

              
            

            - **resourceIds** *(list) --* 

              An optional field that contains the resource IDs associated with the error.

              
              

              - *(string) --* 
          
        
      
    
  
  **Exceptions**
  
  *   :py:class:`EKS.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`EKS.Client.exceptions.ClientException`

  
  *   :py:class:`EKS.Client.exceptions.ServerException`

  
  *   :py:class:`EKS.Client.exceptions.ResourceInUseException`

  
  *   :py:class:`EKS.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`EKS.Client.exceptions.InvalidRequestException`

  
  *   :py:class:`EKS.Client.exceptions.ThrottlingException`

  
  *   :py:class:`EKS.Client.exceptions.InvalidStateException`

  