:doc:`Batch <../../batch>` / Client / describe_job_queues

*******************
describe_job_queues
*******************



.. py:method:: Batch.Client.describe_job_queues(**kwargs)

  

  Describes one or more of your job queues.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/batch-2016-08-10/DescribeJobQueues>`_  


  **Request Syntax**
  ::

    response = client.describe_job_queues(
        jobQueues=[
            'string',
        ],
        maxResults=123,
        nextToken='string'
    )
    
  :type jobQueues: list
  :param jobQueues: 

    A list of up to 100 queue names or full queue Amazon Resource Name (ARN) entries.

    

  
    - *(string) --* 

    

  :type maxResults: integer
  :param maxResults: 

    The maximum number of results returned by ``DescribeJobQueues`` in paginated output. When this parameter is used, ``DescribeJobQueues`` only returns ``maxResults`` results in a single page and a ``nextToken`` response element. The remaining results of the initial request can be seen by sending another ``DescribeJobQueues`` request with the returned ``nextToken`` value. This value can be between 1 and 100. If this parameter isn't used, then ``DescribeJobQueues`` returns up to 100 results and a ``nextToken`` value if applicable.

    

  
  :type nextToken: string
  :param nextToken: 

    The ``nextToken`` value returned from a previous paginated ``DescribeJobQueues`` request where ``maxResults`` was used and the results exceeded the value of that parameter. Pagination continues from the end of the previous results that returned the ``nextToken`` value. This value is ``null`` when there are no more results to return.

     

    .. note::

      

      Treat this token as an opaque identifier that's only used to retrieve the next items in a list and not for other programmatic purposes.

      

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'jobQueues': [
              {
                  'jobQueueName': 'string',
                  'jobQueueArn': 'string',
                  'state': 'ENABLED'|'DISABLED',
                  'schedulingPolicyArn': 'string',
                  'status': 'CREATING'|'UPDATING'|'DELETING'|'DELETED'|'VALID'|'INVALID',
                  'statusReason': 'string',
                  'priority': 123,
                  'computeEnvironmentOrder': [
                      {
                          'order': 123,
                          'computeEnvironment': 'string'
                      },
                  ],
                  'serviceEnvironmentOrder': [
                      {
                          'order': 123,
                          'serviceEnvironment': 'string'
                      },
                  ],
                  'jobQueueType': 'EKS'|'ECS'|'ECS_FARGATE'|'SAGEMAKER_TRAINING',
                  'tags': {
                      'string': 'string'
                  },
                  'jobStateTimeLimitActions': [
                      {
                          'reason': 'string',
                          'state': 'RUNNABLE',
                          'maxTimeSeconds': 123,
                          'action': 'CANCEL'|'TERMINATE'
                      },
                  ]
              },
          ],
          'nextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **jobQueues** *(list) --* 

        The list of job queues.

        
        

        - *(dict) --* 

          An object that represents the details for an Batch job queue.

          
          

          - **jobQueueName** *(string) --* 

            The job queue name.

            
          

          - **jobQueueArn** *(string) --* 

            The Amazon Resource Name (ARN) of the job queue.

            
          

          - **state** *(string) --* 

            Describes the ability of the queue to accept new jobs. If the job queue state is ``ENABLED``, it can accept jobs. If the job queue state is ``DISABLED``, new jobs can't be added to the queue, but jobs already in the queue can finish.

            
          

          - **schedulingPolicyArn** *(string) --* 

            The Amazon Resource Name (ARN) of the scheduling policy. The format is ``aws:Partition:batch:Region:Account:scheduling-policy/Name ``. For example, ``aws:aws:batch:us-west-2:123456789012:scheduling-policy/MySchedulingPolicy``.

            
          

          - **status** *(string) --* 

            The status of the job queue (for example, ``CREATING`` or ``VALID``).

            
          

          - **statusReason** *(string) --* 

            A short, human-readable string to provide additional details for the current status of the job queue.

            
          

          - **priority** *(integer) --* 

            The priority of the job queue. Job queue priority determines the order that job queues are evaluated when multiple queues dispatch jobs within a shared compute environment. A higher value for ``priority`` indicates a higher priority. Queues are evaluated in cycles, in descending order by priority. For example, a job queue with a priority value of ``10`` is evaluated before a queue with a priority value of ``1``. All of the compute environments must be either Amazon EC2 ( ``EC2`` or ``SPOT``) or Fargate ( ``FARGATE`` or ``FARGATE_SPOT``). Amazon EC2 and Fargate compute environments can't be mixed.

             

            .. note::

              

              Job queue priority doesn't guarantee that a particular job executes before a job in a lower priority queue. Jobs added to higher priority queues during the queue evaluation cycle might not be evaluated until the next cycle. A job is dispatched from a queue only if resources are available when the queue is evaluated. If there are insufficient resources available at that time, the cycle proceeds to the next queue. This means that jobs added to higher priority queues might have to wait for jobs in multiple lower priority queues to complete before they are dispatched. You can use job dependencies to control the order for jobs from queues with different priorities. For more information, see `Job Dependencies <https://docs.aws.amazon.com/batch/latest/userguide/job_dependencies.html>`__ in the *Batch User Guide*.

              

            
          

          - **computeEnvironmentOrder** *(list) --* 

            The compute environments that are attached to the job queue and the order that job placement is preferred. Compute environments are selected for job placement in ascending order.

            
            

            - *(dict) --* 

              The order that compute environments are tried in for job placement within a queue. Compute environments are tried in ascending order. For example, if two compute environments are associated with a job queue, the compute environment with a lower order integer value is tried for job placement first. Compute environments must be in the ``VALID`` state before you can associate them with a job queue. All of the compute environments must be either EC2 ( ``EC2`` or ``SPOT``) or Fargate ( ``FARGATE`` or ``FARGATE_SPOT``); Amazon EC2 and Fargate compute environments can't be mixed.

               

              .. note::

                

                All compute environments that are associated with a job queue must share the same architecture. Batch doesn't support mixing compute environment architecture types in a single job queue.

                

              
              

              - **order** *(integer) --* 

                The order of the compute environment. Compute environments are tried in ascending order. For example, if two compute environments are associated with a job queue, the compute environment with a lower ``order`` integer value is tried for job placement first.

                
              

              - **computeEnvironment** *(string) --* 

                The Amazon Resource Name (ARN) of the compute environment.

                
          
        
          

          - **serviceEnvironmentOrder** *(list) --* 

            The order of the service environment associated with the job queue. Job queues with a higher priority are evaluated first when associated with the same service environment.

            
            

            - *(dict) --* 

              Specifies the order of a service environment for a job queue. This determines the priority order when multiple service environments are associated with the same job queue.

              
              

              - **order** *(integer) --* 

                The order of the service environment. Job queues with a higher priority are evaluated first when associated with the same service environment.

                
              

              - **serviceEnvironment** *(string) --* 

                The name or ARN of the service environment.

                
          
        
          

          - **jobQueueType** *(string) --* 

            The type of job queue. For service jobs that run on SageMaker Training, this value is ``SAGEMAKER_TRAINING``. For regular container jobs, this value is ``EKS``, ``ECS``, or ``ECS_FARGATE`` depending on the compute environment.

            
          

          - **tags** *(dict) --* 

            The tags that are applied to the job queue. For more information, see `Tagging your Batch resources <https://docs.aws.amazon.com/batch/latest/userguide/using-tags.html>`__ in *Batch User Guide*.

            
            

            - *(string) --* 
              

              - *(string) --* 
        
      
          

          - **jobStateTimeLimitActions** *(list) --* 

            The set of actions that Batch perform on jobs that remain at the head of the job queue in the specified state longer than specified times. Batch will perform each action after ``maxTimeSeconds`` has passed.

            
            

            - *(dict) --* 

              Specifies an action that Batch will take after the job has remained at the head of the queue in the specified state for longer than the specified time.

              
              

              - **reason** *(string) --* 

                The reason to log for the action being taken.

                
              

              - **state** *(string) --* 

                The state of the job needed to trigger the action. The only supported value is ``RUNNABLE``.

                
              

              - **maxTimeSeconds** *(integer) --* 

                The approximate amount of time, in seconds, that must pass with the job in the specified state before the action is taken. The minimum value is 600 (10 minutes) and the maximum value is 86,400 (24 hours).

                
              

              - **action** *(string) --* 

                The action to take when a job is at the head of the job queue in the specified state for the specified period of time. The only supported value is ``CANCEL``, which will cancel the job.

                
          
        
      
    
      

      - **nextToken** *(string) --* 

        The ``nextToken`` value to include in a future ``DescribeJobQueues`` request. When the results of a ``DescribeJobQueues`` request exceed ``maxResults``, this value can be used to retrieve the next page of results. This value is ``null`` when there are no more results to return.

        
  
  **Exceptions**
  
  *   :py:class:`Batch.Client.exceptions.ClientException`

  
  *   :py:class:`Batch.Client.exceptions.ServerException`

  

  **Examples**

  This example describes the HighPriority job queue.
  ::

    response = client.describe_job_queues(
        jobQueues=[
            'HighPriority',
        ],
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'jobQueues': [
            {
                'computeEnvironmentOrder': [
                    {
                        'computeEnvironment': 'arn:aws:batch:us-east-1:012345678910:compute-environment/C4OnDemand',
                        'order': 1,
                    },
                ],
                'jobQueueArn': 'arn:aws:batch:us-east-1:012345678910:job-queue/HighPriority',
                'jobQueueName': 'HighPriority',
                'priority': 1,
                'state': 'ENABLED',
                'status': 'VALID',
                'statusReason': 'JobQueue Healthy',
            },
        ],
        'ResponseMetadata': {
            '...': '...',
        },
    }

  