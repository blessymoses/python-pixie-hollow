:doc:`CloudTrail <../../cloudtrail>` / Client / enable_federation

*****************
enable_federation
*****************



.. py:method:: CloudTrail.Client.enable_federation(**kwargs)

  

  Enables Lake query federation on the specified event data store. Federating an event data store lets you view the metadata associated with the event data store in the Glue `Data Catalog <https://docs.aws.amazon.com/glue/latest/dg/components-overview.html#data-catalog-intro>`__ and run SQL queries against your event data using Amazon Athena. The table metadata stored in the Glue Data Catalog lets the Athena query engine know how to find, read, and process the data that you want to query.

   

  When you enable Lake query federation, CloudTrail creates a managed database named ``aws:cloudtrail`` (if the database doesn't already exist) and a managed federated table in the Glue Data Catalog. The event data store ID is used for the table name. CloudTrail registers the role ARN and event data store in `Lake Formation <https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation-lake-formation.html>`__, the service responsible for allowing fine-grained access control of the federated resources in the Glue Data Catalog.

   

  For more information about Lake query federation, see `Federate an event data store <https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation.html>`__.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/cloudtrail-2013-11-01/EnableFederation>`_  


  **Request Syntax**
  ::

    response = client.enable_federation(
        EventDataStore='string',
        FederationRoleArn='string'
    )
    
  :type EventDataStore: string
  :param EventDataStore: **[REQUIRED]** 

    The ARN (or ID suffix of the ARN) of the event data store for which you want to enable Lake query federation.

    

  
  :type FederationRoleArn: string
  :param FederationRoleArn: **[REQUIRED]** 

    The ARN of the federation role to use for the event data store. Amazon Web Services services like Lake Formation use this federation role to access data for the federated event data store. The federation role must exist in your account and provide the `required minimum permissions <https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation.html#query-federation-permissions-role>`__.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'EventDataStoreArn': 'string',
          'FederationStatus': 'ENABLING'|'ENABLED'|'DISABLING'|'DISABLED',
          'FederationRoleArn': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **EventDataStoreArn** *(string) --* 

        The ARN of the event data store for which you enabled Lake query federation.

        
      

      - **FederationStatus** *(string) --* 

        The federation status.

        
      

      - **FederationRoleArn** *(string) --* 

        The ARN of the federation role.

        
  
  **Exceptions**
  
  *   :py:class:`CloudTrail.Client.exceptions.EventDataStoreARNInvalidException`

  
  *   :py:class:`CloudTrail.Client.exceptions.EventDataStoreNotFoundException`

  
  *   :py:class:`CloudTrail.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`CloudTrail.Client.exceptions.InactiveEventDataStoreException`

  
  *   :py:class:`CloudTrail.Client.exceptions.OperationNotPermittedException`

  
  *   :py:class:`CloudTrail.Client.exceptions.UnsupportedOperationException`

  
  *   :py:class:`CloudTrail.Client.exceptions.CloudTrailAccessNotEnabledException`

  
  *   :py:class:`CloudTrail.Client.exceptions.InsufficientDependencyServiceAccessPermissionException`

  
  *   :py:class:`CloudTrail.Client.exceptions.NotOrganizationMasterAccountException`

  
  *   :py:class:`CloudTrail.Client.exceptions.NoManagementAccountSLRExistsException`

  
  *   :py:class:`CloudTrail.Client.exceptions.OrganizationsNotInUseException`

  
  *   :py:class:`CloudTrail.Client.exceptions.OrganizationNotInAllFeaturesModeException`

  
  *   :py:class:`CloudTrail.Client.exceptions.ConcurrentModificationException`

  
  *   :py:class:`CloudTrail.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`CloudTrail.Client.exceptions.EventDataStoreFederationEnabledException`

  