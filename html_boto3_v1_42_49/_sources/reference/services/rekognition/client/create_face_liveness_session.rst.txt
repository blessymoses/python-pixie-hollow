:doc:`Rekognition <../../rekognition>` / Client / create_face_liveness_session

****************************
create_face_liveness_session
****************************



.. py:method:: Rekognition.Client.create_face_liveness_session(**kwargs)

  

  This API operation initiates a Face Liveness session. It returns a ``SessionId``, which you can use to start streaming Face Liveness video and get the results for a Face Liveness session.

   

  You can use the ``OutputConfig`` option in the Settings parameter to provide an Amazon S3 bucket location. The Amazon S3 bucket stores reference images and audit images. If no Amazon S3 bucket is defined, raw bytes are sent instead.

   

  You can use ``AuditImagesLimit`` to limit the number of audit images returned when ``GetFaceLivenessSessionResults`` is called. This number is between 0 and 4. By default, it is set to 0. The limit is best effort and based on the duration of the selfie-video.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/rekognition-2016-06-27/CreateFaceLivenessSession>`_  


  **Request Syntax**
  ::

    response = client.create_face_liveness_session(
        KmsKeyId='string',
        Settings={
            'OutputConfig': {
                'S3Bucket': 'string',
                'S3KeyPrefix': 'string'
            },
            'AuditImagesLimit': 123,
            'ChallengePreferences': [
                {
                    'Type': 'FaceMovementAndLightChallenge'|'FaceMovementChallenge',
                    'Versions': {
                        'Minimum': 'string',
                        'Maximum': 'string'
                    }
                },
            ]
        },
        ClientRequestToken='string'
    )
    
  :type KmsKeyId: string
  :param KmsKeyId: 

    The identifier for your AWS Key Management Service key (AWS KMS key). Used to encrypt audit images and reference images.

    

  
  :type Settings: dict
  :param Settings: 

    A session settings object. It contains settings for the operation to be performed. For Face Liveness, it accepts ``OutputConfig`` and ``AuditImagesLimit``.

    

  
    - **OutputConfig** *(dict) --* 

      Can specify the location of an Amazon S3 bucket, where reference and audit images will be stored. Note that the Amazon S3 bucket must be located in the caller's AWS account and in the same region as the Face Liveness end-point. Additionally, the Amazon S3 object keys are auto-generated by the Face Liveness system. Requires that the caller has the ``s3:PutObject`` permission on the Amazon S3 bucket.

      

    
      - **S3Bucket** *(string) --* **[REQUIRED]** 

        The path to an AWS Amazon S3 bucket used to store Face Liveness session results.

        

      
      - **S3KeyPrefix** *(string) --* 

        The prefix prepended to the output files for the Face Liveness session results.

        

      
    
    - **AuditImagesLimit** *(integer) --* 

      Number of audit images to be returned back. Takes an integer between 0-4. Any integer less than 0 will return 0, any integer above 4 will return 4 images in the response. By default, it is set to 0. The limit is best effort and is based on the actual duration of the selfie-video.

      

    
    - **ChallengePreferences** *(list) --* 

      Indicates preferred challenge types and versions for the Face Liveness session to be created.

      

    
      - *(dict) --* 

        An ordered list of preferred challenge type and versions.

        

      
        - **Type** *(string) --* **[REQUIRED]** 

          The types of challenges that have been selected for the Face Liveness session.

          

        
        - **Versions** *(dict) --* 

          The version of the challenges that have been selected for the Face Liveness session.

          

        
          - **Minimum** *(string) --* 

            The desired minimum version for the challenge.

            

          
          - **Maximum** *(string) --* 

            The desired maximum version for the challenge.

            

          
        
      
  
  
  :type ClientRequestToken: string
  :param ClientRequestToken: 

    Idempotent token is used to recognize the Face Liveness request. If the same token is used with multiple ``CreateFaceLivenessSession`` requests, the same session is returned. This token is employed to avoid unintentionally creating the same session multiple times.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'SessionId': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **SessionId** *(string) --* 

        A unique 128-bit UUID identifying a Face Liveness session. A new sessionID must be used for every Face Liveness check. If a given sessionID is used for subsequent Face Liveness checks, the checks will fail. Additionally, a SessionId expires 3 minutes after it's sent, making all Liveness data associated with the session (e.g., sessionID, reference image, audit images, etc.) unavailable.

        
  
  **Exceptions**
  
  *   :py:class:`Rekognition.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`Rekognition.Client.exceptions.InternalServerError`

  
  *   :py:class:`Rekognition.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`Rekognition.Client.exceptions.ThrottlingException`

  
  *   :py:class:`Rekognition.Client.exceptions.ProvisionedThroughputExceededException`

  