:doc:`VerifiedPermissions <../../verifiedpermissions>` / Client / batch_is_authorized

*******************
batch_is_authorized
*******************



.. py:method:: VerifiedPermissions.Client.batch_is_authorized(**kwargs)

  

  Makes a series of decisions about multiple authorization requests for one principal or resource. Each request contains the equivalent content of an ``IsAuthorized`` request: principal, action, resource, and context. Either the ``principal`` or the ``resource`` parameter must be identical across all requests. For example, Verified Permissions won't evaluate a pair of requests where ``bob`` views ``photo1`` and ``alice`` views ``photo2``. Authorization of ``bob`` to view ``photo1`` and ``photo2``, or ``bob`` and ``alice`` to view ``photo1``, are valid batches.

   

  The request is evaluated against all policies in the specified policy store that match the entities that you declare. The result of the decisions is a series of ``Allow`` or ``Deny`` responses, along with the IDs of the policies that produced each decision.

   

  The ``entities`` of a ``BatchIsAuthorized`` API request can contain up to 100 principals and up to 100 resources. The ``requests`` of a ``BatchIsAuthorized`` API request can contain up to 30 requests.

   

  .. note::

    

    The ``BatchIsAuthorized`` operation doesn't have its own IAM permission. To authorize this operation for Amazon Web Services principals, include the permission ``verifiedpermissions:IsAuthorized`` in their IAM policies.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/verifiedpermissions-2021-12-01/BatchIsAuthorized>`_  


  **Request Syntax**
  ::

    response = client.batch_is_authorized(
        policyStoreId='string',
        entities={
            'entityList': [
                {
                    'identifier': {
                        'entityType': 'string',
                        'entityId': 'string'
                    },
                    'attributes': {
                        'string': {
                            'boolean': True|False,
                            'entityIdentifier': {
                                'entityType': 'string',
                                'entityId': 'string'
                            },
                            'long': 123,
                            'string': 'string',
                            'set': [
                                {'... recursive ...'},
                            ],
                            'record': {
                                'string': {'... recursive ...'}
                            },
                            'ipaddr': 'string',
                            'decimal': 'string',
                            'datetime': 'string',
                            'duration': 'string'
                        }
                    },
                    'parents': [
                        {
                            'entityType': 'string',
                            'entityId': 'string'
                        },
                    ],
                    'tags': {
                        'string': {
                            'boolean': True|False,
                            'entityIdentifier': {
                                'entityType': 'string',
                                'entityId': 'string'
                            },
                            'long': 123,
                            'string': 'string',
                            'set': [
                                {'... recursive ...'},
                            ],
                            'record': {
                                'string': {'... recursive ...'}
                            },
                            'ipaddr': 'string',
                            'decimal': 'string',
                            'datetime': 'string',
                            'duration': 'string'
                        }
                    }
                },
            ],
            'cedarJson': 'string'
        },
        requests=[
            {
                'principal': {
                    'entityType': 'string',
                    'entityId': 'string'
                },
                'action': {
                    'actionType': 'string',
                    'actionId': 'string'
                },
                'resource': {
                    'entityType': 'string',
                    'entityId': 'string'
                },
                'context': {
                    'contextMap': {
                        'string': {
                            'boolean': True|False,
                            'entityIdentifier': {
                                'entityType': 'string',
                                'entityId': 'string'
                            },
                            'long': 123,
                            'string': 'string',
                            'set': [
                                {'... recursive ...'},
                            ],
                            'record': {
                                'string': {'... recursive ...'}
                            },
                            'ipaddr': 'string',
                            'decimal': 'string',
                            'datetime': 'string',
                            'duration': 'string'
                        }
                    },
                    'cedarJson': 'string'
                }
            },
        ]
    )
    
  :type policyStoreId: string
  :param policyStoreId: **[REQUIRED]** 

    Specifies the ID of the policy store. Policies in this policy store will be used to make the authorization decisions for the input.

    

  
  :type entities: dict
  :param entities: 

    (Optional) Specifies the list of resources and principals and their associated attributes that Verified Permissions can examine when evaluating the policies. These additional entities and their attributes can be referenced and checked by conditional elements in the policies in the specified policy store.

     

    .. note::

      

      You can include only principal and resource entities in this parameter; you can't include actions. You must specify actions in the schema.

      

    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``entityList``, ``cedarJson``. 

  
    - **entityList** *(list) --* 

      An array of entities that are needed to successfully evaluate an authorization request. Each entity in this array must include an identifier for the entity, the attributes of the entity, and a list of any parent entities.

       

      .. note::

        

        If you include multiple entities with the same ``identifier``, only the last one is processed in the request.

        

      

    
      - *(dict) --* 

        Contains information about an entity that can be referenced in a Cedar policy.

         

        This data type is used as one of the fields in the `EntitiesDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntitiesDefinition.html>`__ structure.

         

        ``{ "identifier": { "entityType": "Photo", "entityId": "VacationPhoto94.jpg" }, "attributes": {}, "parents": [ { "entityType": "Album", "entityId": "alice_folder" } ] }``

        

      
        - **identifier** *(dict) --* **[REQUIRED]** 

          The identifier of the entity.

          

        
          - **entityType** *(string) --* **[REQUIRED]** 

            The type of an entity.

             

            Example: ``"entityType":"typeName"``

            

          
          - **entityId** *(string) --* **[REQUIRED]** 

            The identifier of an entity.

             

            ``"entityId":"identifier"``

            

          
        
        - **attributes** *(dict) --* 

          A list of attributes for the entity.

          

        
          - *(string) --* 

          
            - *(dict) --* 

              The value of an attribute.

               

              Contains information about the runtime context for a request for which an authorization decision is made.

               

              This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

            
              - **boolean** *(boolean) --* 

                An attribute value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

                 

                Example: ``{"boolean": true}``

                

              
              - **entityIdentifier** *(dict) --* 

                An attribute value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

                 

                Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

                

              
                - **entityType** *(string) --* **[REQUIRED]** 

                  The type of an entity.

                   

                  Example: ``"entityType":"typeName"``

                  

                
                - **entityId** *(string) --* **[REQUIRED]** 

                  The identifier of an entity.

                   

                  ``"entityId":"identifier"``

                  

                
              
              - **long** *(integer) --* 

                An attribute value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

                 

                Example: ``{"long": 0}``

                

              
              - **string** *(string) --* 

                An attribute value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

                 

                Example: ``{"string": "abc"}``

                

              
              - **set** *(list) --* 

                An attribute value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

                 

                Example: ``{"set": [ {} ] }``

                

              
                - *(dict) --* 

                  The value of an attribute.

                   

                  Contains information about the runtime context for a request for which an authorization decision is made.

                   

                  This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                
            
              - **record** *(dict) --* 

                An attribute value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

                 

                Example: ``{"record": { "keyName": {} } }``

                

              
                - *(string) --* 

                
                  - *(dict) --* 

                    The value of an attribute.

                     

                    Contains information about the runtime context for a request for which an authorization decision is made.

                     

                    This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                  
            
          
              - **ipaddr** *(string) --* 

                An attribute value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

                 

                Example: ``{"ip": "192.168.1.100"}``

                

              
              - **decimal** *(string) --* 

                An attribute value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

                 

                Example: ``{"decimal": "1.1"}``

                

              
              - **datetime** *(string) --* 

                An attribute value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

                 

                Example: ``{"datetime": "2024-10-15T11:35:00Z"}``

                

              
              - **duration** *(string) --* 

                An attribute value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

                 

                Example: ``{"duration": "1h30m"}``

                

              
            
      
    
        - **parents** *(list) --* 

          The parent entities in the hierarchy that contains the entity. A principal or resource entity can be defined with at most 99 *transitive parents* per authorization request.

           

          A transitive parent is an entity in the hierarchy of entities including all direct parents, and parents of parents. For example, a user can be a member of 91 groups if one of those groups is a member of eight groups, for a total of 100: one entity, 91 entity parents, and eight parents of parents.

          

        
          - *(dict) --* 

            Contains the identifier of an entity, including its ID and type.

             

            This data type is used as a request parameter for `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__ operation, and as a response parameter for the `CreatePolicy <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_CreatePolicy.html>`__, `GetPolicy <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_GetPolicy.html>`__, and `UpdatePolicy <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_UpdatePolicy.html>`__ operations.

             

            Example: ``{"entityId":"string","entityType":"string"}``

            

          
            - **entityType** *(string) --* **[REQUIRED]** 

              The type of an entity.

               

              Example: ``"entityType":"typeName"``

              

            
            - **entityId** *(string) --* **[REQUIRED]** 

              The identifier of an entity.

               

              ``"entityId":"identifier"``

              

            
          
      
        - **tags** *(dict) --* 

          A list of cedar tags for the entity.

          

        
          - *(string) --* 

          
            - *(dict) --* 

              The value of an entity's Cedar tag.

               

              This data type is used as a member of the `EntityItem <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityItem.html>`__ structure that forms the body of the ``Entities`` request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__, and `BatchIsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorizedWithToken.html>`__ operations.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

            
              - **boolean** *(boolean) --* 

                A Cedar tag value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

                 

                Example: ``{"boolean": false}``

                

              
              - **entityIdentifier** *(dict) --* 

                A Cedar tag value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

                 

                Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

                

              
                - **entityType** *(string) --* **[REQUIRED]** 

                  The type of an entity.

                   

                  Example: ``"entityType":"typeName"``

                  

                
                - **entityId** *(string) --* **[REQUIRED]** 

                  The identifier of an entity.

                   

                  ``"entityId":"identifier"``

                  

                
              
              - **long** *(integer) --* 

                A Cedar tag value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

                 

                Example: ``{"long": 0}``

                

              
              - **string** *(string) --* 

                A Cedar tag value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

                 

                Example: ``{"string": "abc"}``

                

              
              - **set** *(list) --* 

                A Cedar tag value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

                 

                Example: ``{"set": [ { "string": "abc" } ] }``

                

              
                - *(dict) --* 

                  The value of an entity's Cedar tag.

                   

                  This data type is used as a member of the `EntityItem <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityItem.html>`__ structure that forms the body of the ``Entities`` request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__, and `BatchIsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorizedWithToken.html>`__ operations.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                
            
              - **record** *(dict) --* 

                A Cedar tag value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

                 

                Example: ``{"record": { "keyName": {} } }``

                

              
                - *(string) --* 

                
                  - *(dict) --* 

                    The value of an entity's Cedar tag.

                     

                    This data type is used as a member of the `EntityItem <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityItem.html>`__ structure that forms the body of the ``Entities`` request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__, and `BatchIsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorizedWithToken.html>`__ operations.

                    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                  
            
          
              - **ipaddr** *(string) --* 

                A Cedar tag value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

                 

                Example: ``{"ip": "10.50.0.0/24"}``

                

              
              - **decimal** *(string) --* 

                A Cedar tag value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

                 

                Example: ``{"decimal": "-2.0"}``

                

              
              - **datetime** *(string) --* 

                A Cedar tag value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

                 

                Example: ``{"datetime": "2025-11-04T11:35:00.000+0100"}``

                

              
              - **duration** *(string) --* 

                A Cedar tag value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

                 

                Example: ``{"duration": "-1d12h"}``

                

              
            
      
    
      
  
    - **cedarJson** *(string) --* 

      A Cedar JSON string representation of the entities needed to successfully evaluate an authorization request.

       

      Example: ``{"cedarJson": "[{\"uid\":{\"type\":\"Photo\",\"id\":\"VacationPhoto94.jpg\"},\"attrs\":{\"accessLevel\":\"public\"},\"parents\":[]}]"}``

      

    
  
  :type requests: list
  :param requests: **[REQUIRED]** 

    An array of up to 30 requests that you want Verified Permissions to evaluate.

    

  
    - *(dict) --* 

      An authorization request that you include in a ``BatchIsAuthorized`` API request.

      

    
      - **principal** *(dict) --* 

        Specifies the principal for which the authorization decision is to be made.

        

      
        - **entityType** *(string) --* **[REQUIRED]** 

          The type of an entity.

           

          Example: ``"entityType":"typeName"``

          

        
        - **entityId** *(string) --* **[REQUIRED]** 

          The identifier of an entity.

           

          ``"entityId":"identifier"``

          

        
      
      - **action** *(dict) --* 

        Specifies the requested action to be authorized. For example, ``PhotoFlash::ReadPhoto``.

        

      
        - **actionType** *(string) --* **[REQUIRED]** 

          The type of an action.

          

        
        - **actionId** *(string) --* **[REQUIRED]** 

          The ID of an action.

          

        
      
      - **resource** *(dict) --* 

        Specifies the resource that you want an authorization decision for. For example, ``PhotoFlash::Photo``.

        

      
        - **entityType** *(string) --* **[REQUIRED]** 

          The type of an entity.

           

          Example: ``"entityType":"typeName"``

          

        
        - **entityId** *(string) --* **[REQUIRED]** 

          The identifier of an entity.

           

          ``"entityId":"identifier"``

          

        
      
      - **context** *(dict) --* 

        Specifies additional context that can be used to make more granular authorization decisions.

        .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``contextMap``, ``cedarJson``. 

      
        - **contextMap** *(dict) --* 

          An list of attributes that are needed to successfully evaluate an authorization request. Each attribute in this array must include a map of a data type and its value.

           

          Example: ``"contextMap":{"<KeyName1>":{"boolean":true},"<KeyName2>":{"long":1234}}``

          

        
          - *(string) --* 

          
            - *(dict) --* 

              The value of an attribute.

               

              Contains information about the runtime context for a request for which an authorization decision is made.

               

              This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

            
              - **boolean** *(boolean) --* 

                An attribute value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

                 

                Example: ``{"boolean": true}``

                

              
              - **entityIdentifier** *(dict) --* 

                An attribute value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

                 

                Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

                

              
                - **entityType** *(string) --* **[REQUIRED]** 

                  The type of an entity.

                   

                  Example: ``"entityType":"typeName"``

                  

                
                - **entityId** *(string) --* **[REQUIRED]** 

                  The identifier of an entity.

                   

                  ``"entityId":"identifier"``

                  

                
              
              - **long** *(integer) --* 

                An attribute value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

                 

                Example: ``{"long": 0}``

                

              
              - **string** *(string) --* 

                An attribute value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

                 

                Example: ``{"string": "abc"}``

                

              
              - **set** *(list) --* 

                An attribute value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

                 

                Example: ``{"set": [ {} ] }``

                

              
                - *(dict) --* 

                  The value of an attribute.

                   

                  Contains information about the runtime context for a request for which an authorization decision is made.

                   

                  This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                
            
              - **record** *(dict) --* 

                An attribute value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

                 

                Example: ``{"record": { "keyName": {} } }``

                

              
                - *(string) --* 

                
                  - *(dict) --* 

                    The value of an attribute.

                     

                    Contains information about the runtime context for a request for which an authorization decision is made.

                     

                    This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                  
            
          
              - **ipaddr** *(string) --* 

                An attribute value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

                 

                Example: ``{"ip": "192.168.1.100"}``

                

              
              - **decimal** *(string) --* 

                An attribute value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

                 

                Example: ``{"decimal": "1.1"}``

                

              
              - **datetime** *(string) --* 

                An attribute value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

                 

                Example: ``{"datetime": "2024-10-15T11:35:00Z"}``

                

              
              - **duration** *(string) --* 

                An attribute value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

                 

                Example: ``{"duration": "1h30m"}``

                

              
            
      
    
        - **cedarJson** *(string) --* 

          A Cedar JSON string representation of the context needed to successfully evaluate an authorization request.

           

          Example: ``{"cedarJson":"{\"<KeyName1>\": true, \"<KeyName2>\": 1234}" }``

          

        
      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'results': [
              {
                  'request': {
                      'principal': {
                          'entityType': 'string',
                          'entityId': 'string'
                      },
                      'action': {
                          'actionType': 'string',
                          'actionId': 'string'
                      },
                      'resource': {
                          'entityType': 'string',
                          'entityId': 'string'
                      },
                      'context': {
                          'contextMap': {
                              'string': {
                                  'boolean': True|False,
                                  'entityIdentifier': {
                                      'entityType': 'string',
                                      'entityId': 'string'
                                  },
                                  'long': 123,
                                  'string': 'string',
                                  'set': [
                                      {'... recursive ...'},
                                  ],
                                  'record': {
                                      'string': {'... recursive ...'}
                                  },
                                  'ipaddr': 'string',
                                  'decimal': 'string',
                                  'datetime': 'string',
                                  'duration': 'string'
                              }
                          },
                          'cedarJson': 'string'
                      }
                  },
                  'decision': 'ALLOW'|'DENY',
                  'determiningPolicies': [
                      {
                          'policyId': 'string'
                      },
                  ],
                  'errors': [
                      {
                          'errorDescription': 'string'
                      },
                  ]
              },
          ]
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **results** *(list) --* 

        A series of ``Allow`` or ``Deny`` decisions for each request, and the policies that produced them. These results are returned in the order they were requested.

        
        

        - *(dict) --* 

          The decision, based on policy evaluation, from an individual authorization request in a ``BatchIsAuthorized`` API request.

          
          

          - **request** *(dict) --* 

            The authorization request that initiated the decision.

            
            

            - **principal** *(dict) --* 

              Specifies the principal for which the authorization decision is to be made.

              
              

              - **entityType** *(string) --* 

                The type of an entity.

                 

                Example: ``"entityType":"typeName"``

                
              

              - **entityId** *(string) --* 

                The identifier of an entity.

                 

                ``"entityId":"identifier"``

                
          
            

            - **action** *(dict) --* 

              Specifies the requested action to be authorized. For example, ``PhotoFlash::ReadPhoto``.

              
              

              - **actionType** *(string) --* 

                The type of an action.

                
              

              - **actionId** *(string) --* 

                The ID of an action.

                
          
            

            - **resource** *(dict) --* 

              Specifies the resource that you want an authorization decision for. For example, ``PhotoFlash::Photo``.

              
              

              - **entityType** *(string) --* 

                The type of an entity.

                 

                Example: ``"entityType":"typeName"``

                
              

              - **entityId** *(string) --* 

                The identifier of an entity.

                 

                ``"entityId":"identifier"``

                
          
            

            - **context** *(dict) --* 

              Specifies additional context that can be used to make more granular authorization decisions.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``contextMap``, ``cedarJson``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                            'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


            
              

              - **contextMap** *(dict) --* 

                An list of attributes that are needed to successfully evaluate an authorization request. Each attribute in this array must include a map of a data type and its value.

                 

                Example: ``"contextMap":{"<KeyName1>":{"boolean":true},"<KeyName2>":{"long":1234}}``

                
                

                - *(string) --* 
                  

                  - *(dict) --* 

                    The value of an attribute.

                     

                    Contains information about the runtime context for a request for which an authorization decision is made.

                     

                    This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                    .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                                        'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


                  
                    

                    - **boolean** *(boolean) --* 

                      An attribute value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

                       

                      Example: ``{"boolean": true}``

                      
                    

                    - **entityIdentifier** *(dict) --* 

                      An attribute value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

                       

                      Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

                      
                      

                      - **entityType** *(string) --* 

                        The type of an entity.

                         

                        Example: ``"entityType":"typeName"``

                        
                      

                      - **entityId** *(string) --* 

                        The identifier of an entity.

                         

                        ``"entityId":"identifier"``

                        
                  
                    

                    - **long** *(integer) --* 

                      An attribute value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

                       

                      Example: ``{"long": 0}``

                      
                    

                    - **string** *(string) --* 

                      An attribute value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

                       

                      Example: ``{"string": "abc"}``

                      
                    

                    - **set** *(list) --* 

                      An attribute value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

                       

                      Example: ``{"set": [ {} ] }``

                      
                      

                      - *(dict) --* 

                        The value of an attribute.

                         

                        Contains information about the runtime context for a request for which an authorization decision is made.

                         

                        This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                        .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                                                'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


                      
                  
                    

                    - **record** *(dict) --* 

                      An attribute value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

                       

                      Example: ``{"record": { "keyName": {} } }``

                      
                      

                      - *(string) --* 
                        

                        - *(dict) --* 

                          The value of an attribute.

                           

                          Contains information about the runtime context for a request for which an authorization decision is made.

                           

                          This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                          .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                                                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


                        
                  
                
                    

                    - **ipaddr** *(string) --* 

                      An attribute value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

                       

                      Example: ``{"ip": "192.168.1.100"}``

                      
                    

                    - **decimal** *(string) --* 

                      An attribute value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

                       

                      Example: ``{"decimal": "1.1"}``

                      
                    

                    - **datetime** *(string) --* 

                      An attribute value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

                       

                      Example: ``{"datetime": "2024-10-15T11:35:00Z"}``

                      
                    

                    - **duration** *(string) --* 

                      An attribute value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

                       

                      Example: ``{"duration": "1h30m"}``

                      
                
            
          
              

              - **cedarJson** *(string) --* 

                A Cedar JSON string representation of the context needed to successfully evaluate an authorization request.

                 

                Example: ``{"cedarJson":"{\"<KeyName1>\": true, \"<KeyName2>\": 1234}" }``

                
          
        
          

          - **decision** *(string) --* 

            An authorization decision that indicates if the authorization request should be allowed or denied.

            
          

          - **determiningPolicies** *(list) --* 

            The list of determining policies used to make the authorization decision. For example, if there are two matching policies, where one is a forbid and the other is a permit, then the forbid policy will be the determining policy. In the case of multiple matching permit policies then there would be multiple determining policies. In the case that no policies match, and hence the response is DENY, there would be no determining policies.

            
            

            - *(dict) --* 

              Contains information about one of the policies that determined an authorization decision.

               

              This data type is used as an element in a response parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

               

              Example: ``"determiningPolicies":[{"policyId":"SPEXAMPLEabcdefg111111"}]``

              
              

              - **policyId** *(string) --* 

                The Id of a policy that determined to an authorization decision.

                 

                Example: ``"policyId":"SPEXAMPLEabcdefg111111"``

                
          
        
          

          - **errors** *(list) --* 

            Errors that occurred while making an authorization decision. For example, a policy might reference an entity or attribute that doesn't exist in the request.

            
            

            - *(dict) --* 

              Contains a description of an evaluation error.

               

              This data type is a response parameter of the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

              
              

              - **errorDescription** *(string) --* 

                The error description.

                
          
        
      
    
  
  **Exceptions**
  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ValidationException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ThrottlingException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.InternalServerException`

  