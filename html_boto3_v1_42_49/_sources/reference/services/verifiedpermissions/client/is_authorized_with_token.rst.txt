:doc:`VerifiedPermissions <../../verifiedpermissions>` / Client / is_authorized_with_token

************************
is_authorized_with_token
************************



.. py:method:: VerifiedPermissions.Client.is_authorized_with_token(**kwargs)

  

  Makes an authorization decision about a service request described in the parameters. The principal in this request comes from an external identity source in the form of an identity token formatted as a `JSON web token (JWT) <https://wikipedia.org/wiki/JSON_Web_Token>`__. The information in the parameters can also define additional context that Verified Permissions can include in the evaluation. The request is evaluated against all matching policies in the specified policy store. The result of the decision is either ``Allow`` or ``Deny``, along with a list of the policies that resulted in the decision.

   

  Verified Permissions validates each token that is specified in a request by checking its expiration date and its signature.

   

  .. warning::

     

    Tokens from an identity source user continue to be usable until they expire. Token revocation and resource deletion have no effect on the validity of a token in your policy store

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/verifiedpermissions-2021-12-01/IsAuthorizedWithToken>`_  


  **Request Syntax**
  ::

    response = client.is_authorized_with_token(
        policyStoreId='string',
        identityToken='string',
        accessToken='string',
        action={
            'actionType': 'string',
            'actionId': 'string'
        },
        resource={
            'entityType': 'string',
            'entityId': 'string'
        },
        context={
            'contextMap': {
                'string': {
                    'boolean': True|False,
                    'entityIdentifier': {
                        'entityType': 'string',
                        'entityId': 'string'
                    },
                    'long': 123,
                    'string': 'string',
                    'set': [
                        {'... recursive ...'},
                    ],
                    'record': {
                        'string': {'... recursive ...'}
                    },
                    'ipaddr': 'string',
                    'decimal': 'string',
                    'datetime': 'string',
                    'duration': 'string'
                }
            },
            'cedarJson': 'string'
        },
        entities={
            'entityList': [
                {
                    'identifier': {
                        'entityType': 'string',
                        'entityId': 'string'
                    },
                    'attributes': {
                        'string': {
                            'boolean': True|False,
                            'entityIdentifier': {
                                'entityType': 'string',
                                'entityId': 'string'
                            },
                            'long': 123,
                            'string': 'string',
                            'set': [
                                {'... recursive ...'},
                            ],
                            'record': {
                                'string': {'... recursive ...'}
                            },
                            'ipaddr': 'string',
                            'decimal': 'string',
                            'datetime': 'string',
                            'duration': 'string'
                        }
                    },
                    'parents': [
                        {
                            'entityType': 'string',
                            'entityId': 'string'
                        },
                    ],
                    'tags': {
                        'string': {
                            'boolean': True|False,
                            'entityIdentifier': {
                                'entityType': 'string',
                                'entityId': 'string'
                            },
                            'long': 123,
                            'string': 'string',
                            'set': [
                                {'... recursive ...'},
                            ],
                            'record': {
                                'string': {'... recursive ...'}
                            },
                            'ipaddr': 'string',
                            'decimal': 'string',
                            'datetime': 'string',
                            'duration': 'string'
                        }
                    }
                },
            ],
            'cedarJson': 'string'
        }
    )
    
  :type policyStoreId: string
  :param policyStoreId: **[REQUIRED]** 

    Specifies the ID of the policy store. Policies in this policy store will be used to make an authorization decision for the input.

    

  
  :type identityToken: string
  :param identityToken: 

    Specifies an identity token for the principal to be authorized. This token is provided to you by the identity provider (IdP) associated with the specified identity source. You must specify either an ``accessToken``, an ``identityToken``, or both.

     

    Must be an ID token. Verified Permissions returns an error if the ``token_use`` claim in the submitted token isn't ``id``.

    

  
  :type accessToken: string
  :param accessToken: 

    Specifies an access token for the principal to be authorized. This token is provided to you by the identity provider (IdP) associated with the specified identity source. You must specify either an ``accessToken``, an ``identityToken``, or both.

     

    Must be an access token. Verified Permissions returns an error if the ``token_use`` claim in the submitted token isn't ``access``.

    

  
  :type action: dict
  :param action: 

    Specifies the requested action to be authorized. Is the specified principal authorized to perform this action on the specified resource.

    

  
    - **actionType** *(string) --* **[REQUIRED]** 

      The type of an action.

      

    
    - **actionId** *(string) --* **[REQUIRED]** 

      The ID of an action.

      

    
  
  :type resource: dict
  :param resource: 

    Specifies the resource for which the authorization decision is made. For example, is the principal allowed to perform the action on the resource?

    

  
    - **entityType** *(string) --* **[REQUIRED]** 

      The type of an entity.

       

      Example: ``"entityType":"typeName"``

      

    
    - **entityId** *(string) --* **[REQUIRED]** 

      The identifier of an entity.

       

      ``"entityId":"identifier"``

      

    
  
  :type context: dict
  :param context: 

    Specifies additional context that can be used to make more granular authorization decisions.

    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``contextMap``, ``cedarJson``. 

  
    - **contextMap** *(dict) --* 

      An list of attributes that are needed to successfully evaluate an authorization request. Each attribute in this array must include a map of a data type and its value.

       

      Example: ``"contextMap":{"<KeyName1>":{"boolean":true},"<KeyName2>":{"long":1234}}``

      

    
      - *(string) --* 

      
        - *(dict) --* 

          The value of an attribute.

           

          Contains information about the runtime context for a request for which an authorization decision is made.

           

          This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

          .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

        
          - **boolean** *(boolean) --* 

            An attribute value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

             

            Example: ``{"boolean": true}``

            

          
          - **entityIdentifier** *(dict) --* 

            An attribute value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

             

            Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

            

          
            - **entityType** *(string) --* **[REQUIRED]** 

              The type of an entity.

               

              Example: ``"entityType":"typeName"``

              

            
            - **entityId** *(string) --* **[REQUIRED]** 

              The identifier of an entity.

               

              ``"entityId":"identifier"``

              

            
          
          - **long** *(integer) --* 

            An attribute value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

             

            Example: ``{"long": 0}``

            

          
          - **string** *(string) --* 

            An attribute value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

             

            Example: ``{"string": "abc"}``

            

          
          - **set** *(list) --* 

            An attribute value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

             

            Example: ``{"set": [ {} ] }``

            

          
            - *(dict) --* 

              The value of an attribute.

               

              Contains information about the runtime context for a request for which an authorization decision is made.

               

              This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

            
        
          - **record** *(dict) --* 

            An attribute value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

             

            Example: ``{"record": { "keyName": {} } }``

            

          
            - *(string) --* 

            
              - *(dict) --* 

                The value of an attribute.

                 

                Contains information about the runtime context for a request for which an authorization decision is made.

                 

                This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

              
        
      
          - **ipaddr** *(string) --* 

            An attribute value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

             

            Example: ``{"ip": "192.168.1.100"}``

            

          
          - **decimal** *(string) --* 

            An attribute value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

             

            Example: ``{"decimal": "1.1"}``

            

          
          - **datetime** *(string) --* 

            An attribute value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

             

            Example: ``{"datetime": "2024-10-15T11:35:00Z"}``

            

          
          - **duration** *(string) --* 

            An attribute value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

             

            Example: ``{"duration": "1h30m"}``

            

          
        
  

    - **cedarJson** *(string) --* 

      A Cedar JSON string representation of the context needed to successfully evaluate an authorization request.

       

      Example: ``{"cedarJson":"{\"<KeyName1>\": true, \"<KeyName2>\": 1234}" }``

      

    
  
  :type entities: dict
  :param entities: 

    (Optional) Specifies the list of resources and their associated attributes that Verified Permissions can examine when evaluating the policies. These additional entities and their attributes can be referenced and checked by conditional elements in the policies in the specified policy store.

     

    .. warning::

       

      You can't include principals in this parameter, only resource and action entities. This parameter can't include any entities of a type that matches the user or group entity types that you defined in your identity source.

       

      
      * The ``IsAuthorizedWithToken`` operation takes principal attributes from *only* the ``identityToken`` or ``accessToken`` passed to the operation.
       
      * For action entities, you can include only their ``Identifier`` and ``EntityType``.
      

      

    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``entityList``, ``cedarJson``. 

  
    - **entityList** *(list) --* 

      An array of entities that are needed to successfully evaluate an authorization request. Each entity in this array must include an identifier for the entity, the attributes of the entity, and a list of any parent entities.

       

      .. note::

        

        If you include multiple entities with the same ``identifier``, only the last one is processed in the request.

        

      

    
      - *(dict) --* 

        Contains information about an entity that can be referenced in a Cedar policy.

         

        This data type is used as one of the fields in the `EntitiesDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntitiesDefinition.html>`__ structure.

         

        ``{ "identifier": { "entityType": "Photo", "entityId": "VacationPhoto94.jpg" }, "attributes": {}, "parents": [ { "entityType": "Album", "entityId": "alice_folder" } ] }``

        

      
        - **identifier** *(dict) --* **[REQUIRED]** 

          The identifier of the entity.

          

        
          - **entityType** *(string) --* **[REQUIRED]** 

            The type of an entity.

             

            Example: ``"entityType":"typeName"``

            

          
          - **entityId** *(string) --* **[REQUIRED]** 

            The identifier of an entity.

             

            ``"entityId":"identifier"``

            

          
        
        - **attributes** *(dict) --* 

          A list of attributes for the entity.

          

        
          - *(string) --* 

          
            - *(dict) --* 

              The value of an attribute.

               

              Contains information about the runtime context for a request for which an authorization decision is made.

               

              This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

            
              - **boolean** *(boolean) --* 

                An attribute value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

                 

                Example: ``{"boolean": true}``

                

              
              - **entityIdentifier** *(dict) --* 

                An attribute value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

                 

                Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

                

              
                - **entityType** *(string) --* **[REQUIRED]** 

                  The type of an entity.

                   

                  Example: ``"entityType":"typeName"``

                  

                
                - **entityId** *(string) --* **[REQUIRED]** 

                  The identifier of an entity.

                   

                  ``"entityId":"identifier"``

                  

                
              
              - **long** *(integer) --* 

                An attribute value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

                 

                Example: ``{"long": 0}``

                

              
              - **string** *(string) --* 

                An attribute value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

                 

                Example: ``{"string": "abc"}``

                

              
              - **set** *(list) --* 

                An attribute value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

                 

                Example: ``{"set": [ {} ] }``

                

              
                - *(dict) --* 

                  The value of an attribute.

                   

                  Contains information about the runtime context for a request for which an authorization decision is made.

                   

                  This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                
            
              - **record** *(dict) --* 

                An attribute value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

                 

                Example: ``{"record": { "keyName": {} } }``

                

              
                - *(string) --* 

                
                  - *(dict) --* 

                    The value of an attribute.

                     

                    Contains information about the runtime context for a request for which an authorization decision is made.

                     

                    This data type is used as a member of the `ContextDefinition <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_ContextDefinition.html>`__ structure which is used as a request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

                    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                  
            
          
              - **ipaddr** *(string) --* 

                An attribute value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

                 

                Example: ``{"ip": "192.168.1.100"}``

                

              
              - **decimal** *(string) --* 

                An attribute value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

                 

                Example: ``{"decimal": "1.1"}``

                

              
              - **datetime** *(string) --* 

                An attribute value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

                 

                Example: ``{"datetime": "2024-10-15T11:35:00Z"}``

                

              
              - **duration** *(string) --* 

                An attribute value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

                 

                Example: ``{"duration": "1h30m"}``

                

              
            
      
    
        - **parents** *(list) --* 

          The parent entities in the hierarchy that contains the entity. A principal or resource entity can be defined with at most 99 *transitive parents* per authorization request.

           

          A transitive parent is an entity in the hierarchy of entities including all direct parents, and parents of parents. For example, a user can be a member of 91 groups if one of those groups is a member of eight groups, for a total of 100: one entity, 91 entity parents, and eight parents of parents.

          

        
          - *(dict) --* 

            Contains the identifier of an entity, including its ID and type.

             

            This data type is used as a request parameter for `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__ operation, and as a response parameter for the `CreatePolicy <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_CreatePolicy.html>`__, `GetPolicy <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_GetPolicy.html>`__, and `UpdatePolicy <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_UpdatePolicy.html>`__ operations.

             

            Example: ``{"entityId":"string","entityType":"string"}``

            

          
            - **entityType** *(string) --* **[REQUIRED]** 

              The type of an entity.

               

              Example: ``"entityType":"typeName"``

              

            
            - **entityId** *(string) --* **[REQUIRED]** 

              The identifier of an entity.

               

              ``"entityId":"identifier"``

              

            
          
      
        - **tags** *(dict) --* 

          A list of cedar tags for the entity.

          

        
          - *(string) --* 

          
            - *(dict) --* 

              The value of an entity's Cedar tag.

               

              This data type is used as a member of the `EntityItem <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityItem.html>`__ structure that forms the body of the ``Entities`` request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__, and `BatchIsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorizedWithToken.html>`__ operations.

              .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

            
              - **boolean** *(boolean) --* 

                A Cedar tag value of `Boolean <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-bool>`__ type.

                 

                Example: ``{"boolean": false}``

                

              
              - **entityIdentifier** *(dict) --* 

                A Cedar tag value of type `EntityIdentifier <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityIdentifier.html>`__.

                 

                Example: ``{"entityIdentifier": { "entityId": "alice", "entityType": "User"} }``

                

              
                - **entityType** *(string) --* **[REQUIRED]** 

                  The type of an entity.

                   

                  Example: ``"entityType":"typeName"``

                  

                
                - **entityId** *(string) --* **[REQUIRED]** 

                  The identifier of an entity.

                   

                  ``"entityId":"identifier"``

                  

                
              
              - **long** *(integer) --* 

                A Cedar tag value of `Long <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-long>`__ type.

                 

                Example: ``{"long": 0}``

                

              
              - **string** *(string) --* 

                A Cedar tag value of `String <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-string>`__ type.

                 

                Example: ``{"string": "abc"}``

                

              
              - **set** *(list) --* 

                A Cedar tag value of `Set <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-set>`__ type.

                 

                Example: ``{"set": [ { "string": "abc" } ] }``

                

              
                - *(dict) --* 

                  The value of an entity's Cedar tag.

                   

                  This data type is used as a member of the `EntityItem <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityItem.html>`__ structure that forms the body of the ``Entities`` request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__, and `BatchIsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorizedWithToken.html>`__ operations.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                
            
              - **record** *(dict) --* 

                A Cedar tag value of `Record <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-record>`__ type.

                 

                Example: ``{"record": { "keyName": {} } }``

                

              
                - *(string) --* 

                
                  - *(dict) --* 

                    The value of an entity's Cedar tag.

                     

                    This data type is used as a member of the `EntityItem <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_EntityItem.html>`__ structure that forms the body of the ``Entities`` request parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__, and `BatchIsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorizedWithToken.html>`__ operations.

                    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``boolean``, ``entityIdentifier``, ``long``, ``string``, ``set``, ``record``, ``ipaddr``, ``decimal``, ``datetime``, ``duration``. 

                  
            
          
              - **ipaddr** *(string) --* 

                A Cedar tag value of `ipaddr <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-ipaddr>`__ type.

                 

                Example: ``{"ip": "10.50.0.0/24"}``

                

              
              - **decimal** *(string) --* 

                A Cedar tag value of `decimal <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-decimal>`__ type.

                 

                Example: ``{"decimal": "-2.0"}``

                

              
              - **datetime** *(string) --* 

                A Cedar tag value of `datetime <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-datetime>`__ type.

                 

                Example: ``{"datetime": "2025-11-04T11:35:00.000+0100"}``

                

              
              - **duration** *(string) --* 

                A Cedar tag value of `duration <https://docs.cedarpolicy.com/policies/syntax-datatypes.html#datatype-duration>`__ type.

                 

                Example: ``{"duration": "-1d12h"}``

                

              
            
      
    
      
  
    - **cedarJson** *(string) --* 

      A Cedar JSON string representation of the entities needed to successfully evaluate an authorization request.

       

      Example: ``{"cedarJson": "[{\"uid\":{\"type\":\"Photo\",\"id\":\"VacationPhoto94.jpg\"},\"attrs\":{\"accessLevel\":\"public\"},\"parents\":[]}]"}``

      

    
  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'decision': 'ALLOW'|'DENY',
          'determiningPolicies': [
              {
                  'policyId': 'string'
              },
          ],
          'errors': [
              {
                  'errorDescription': 'string'
              },
          ],
          'principal': {
              'entityType': 'string',
              'entityId': 'string'
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **decision** *(string) --* 

        An authorization decision that indicates if the authorization request should be allowed or denied.

        
      

      - **determiningPolicies** *(list) --* 

        The list of determining policies used to make the authorization decision. For example, if there are multiple matching policies, where at least one is a forbid policy, then because forbid always overrides permit the forbid policies are the determining policies. If all matching policies are permit policies, then those policies are the determining policies. When no policies match and the response is the default DENY, there are no determining policies.

        
        

        - *(dict) --* 

          Contains information about one of the policies that determined an authorization decision.

           

          This data type is used as an element in a response parameter for the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

           

          Example: ``"determiningPolicies":[{"policyId":"SPEXAMPLEabcdefg111111"}]``

          
          

          - **policyId** *(string) --* 

            The Id of a policy that determined to an authorization decision.

             

            Example: ``"policyId":"SPEXAMPLEabcdefg111111"``

            
      
    
      

      - **errors** *(list) --* 

        Errors that occurred while making an authorization decision. For example, a policy references an entity or entity attribute that does not exist in the slice.

        
        

        - *(dict) --* 

          Contains a description of an evaluation error.

           

          This data type is a response parameter of the `IsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorized.html>`__, `BatchIsAuthorized <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_BatchIsAuthorized.html>`__, and `IsAuthorizedWithToken <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_IsAuthorizedWithToken.html>`__ operations.

          
          

          - **errorDescription** *(string) --* 

            The error description.

            
      
    
      

      - **principal** *(dict) --* 

        The identifier of the principal in the ID or access token.

        
        

        - **entityType** *(string) --* 

          The type of an entity.

           

          Example: ``"entityType":"typeName"``

          
        

        - **entityId** *(string) --* 

          The identifier of an entity.

           

          ``"entityId":"identifier"``

          
    
  
  **Exceptions**
  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ValidationException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ThrottlingException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.InternalServerException`

  