:doc:`VerifiedPermissions <../../verifiedpermissions>` / Client / put_schema

**********
put_schema
**********



.. py:method:: VerifiedPermissions.Client.put_schema(**kwargs)

  

  Creates or updates the policy schema in the specified policy store. The schema is used to validate any Cedar policies and policy templates submitted to the policy store. Any changes to the schema validate only policies and templates submitted after the schema change. Existing policies and templates are not re-evaluated against the changed schema. If you later update a policy, then it is evaluated against the new schema at that time.

   

  .. note::

    

    Verified Permissions is `eventually consistent <https://wikipedia.org/wiki/Eventual_consistency>`__ . It can take a few seconds for a new or changed element to propagate through the service and be visible in the results of other Verified Permissions operations.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/verifiedpermissions-2021-12-01/PutSchema>`_  


  **Request Syntax**
  ::

    response = client.put_schema(
        policyStoreId='string',
        definition={
            'cedarJson': 'string'
        }
    )
    
  :type policyStoreId: string
  :param policyStoreId: **[REQUIRED]** 

    Specifies the ID of the policy store in which to place the schema.

    

  
  :type definition: dict
  :param definition: **[REQUIRED]** 

    Specifies the definition of the schema to be stored. The schema definition must be written in Cedar schema JSON.

    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``cedarJson``. 

  
    - **cedarJson** *(string) --* 

      A JSON string representation of the schema supported by applications that use this policy store. To delete the schema, run `PutSchema <https://docs.aws.amazon.com/verifiedpermissions/latest/apireference/API_PutSchema.html>`__ with ``{}`` for this parameter. For more information, see `Policy store schema <https://docs.aws.amazon.com/verifiedpermissions/latest/userguide/schema.html>`__ in the *Amazon Verified Permissions User Guide*.

      

    
  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'policyStoreId': 'string',
          'namespaces': [
              'string',
          ],
          'createdDate': datetime(2015, 1, 1),
          'lastUpdatedDate': datetime(2015, 1, 1)
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **policyStoreId** *(string) --* 

        The unique ID of the policy store that contains the schema.

        
      

      - **namespaces** *(list) --* 

        Identifies the namespaces of the entities referenced by this schema.

        
        

        - *(string) --* 
    
      

      - **createdDate** *(datetime) --* 

        The date and time that the schema was originally created.

        
      

      - **lastUpdatedDate** *(datetime) --* 

        The date and time that the schema was last updated.

        
  
  **Exceptions**
  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ValidationException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ServiceQuotaExceededException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ConflictException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.ThrottlingException`

  
  *   :py:class:`VerifiedPermissions.Client.exceptions.InternalServerException`

  