:doc:`FraudDetector <../../frauddetector>` / Client / create_model_version

********************
create_model_version
********************



.. py:method:: FraudDetector.Client.create_model_version(**kwargs)

  

  Creates a version of the model using the specified model type and model id.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/frauddetector-2019-11-15/CreateModelVersion>`_  


  **Request Syntax**
  ::

    response = client.create_model_version(
        modelId='string',
        modelType='ONLINE_FRAUD_INSIGHTS'|'TRANSACTION_FRAUD_INSIGHTS'|'ACCOUNT_TAKEOVER_INSIGHTS',
        trainingDataSource='EXTERNAL_EVENTS'|'INGESTED_EVENTS',
        trainingDataSchema={
            'modelVariables': [
                'string',
            ],
            'labelSchema': {
                'labelMapper': {
                    'string': [
                        'string',
                    ]
                },
                'unlabeledEventsTreatment': 'IGNORE'|'FRAUD'|'LEGIT'|'AUTO'
            }
        },
        externalEventsDetail={
            'dataLocation': 'string',
            'dataAccessRoleArn': 'string'
        },
        ingestedEventsDetail={
            'ingestedEventsTimeWindow': {
                'startTime': 'string',
                'endTime': 'string'
            }
        },
        tags=[
            {
                'key': 'string',
                'value': 'string'
            },
        ]
    )
    
  :type modelId: string
  :param modelId: **[REQUIRED]** 

    The model ID.

    

  
  :type modelType: string
  :param modelType: **[REQUIRED]** 

    The model type.

    

  
  :type trainingDataSource: string
  :param trainingDataSource: **[REQUIRED]** 

    The training data source location in Amazon S3.

    

  
  :type trainingDataSchema: dict
  :param trainingDataSchema: **[REQUIRED]** 

    The training data schema.

    

  
    - **modelVariables** *(list) --* **[REQUIRED]** 

      The training data schema variables.

      

    
      - *(string) --* 

      
  
    - **labelSchema** *(dict) --* 

      The label schema.

      

    
      - **labelMapper** *(dict) --* 

        The label mapper maps the Amazon Fraud Detector supported model classification labels ( ``FRAUD``, ``LEGIT``) to the appropriate event type labels. For example, if " ``FRAUD``" and " ``LEGIT``" are Amazon Fraud Detector supported labels, this mapper could be: ``{"FRAUD" => ["0"]``, ``"LEGIT" => ["1"]}`` or ``{"FRAUD" => ["false"]``, ``"LEGIT" => ["true"]}`` or ``{"FRAUD" => ["fraud", "abuse"]``, ``"LEGIT" => ["legit", "safe"]}``. The value part of the mapper is a list, because you may have multiple label variants from your event type for a single Amazon Fraud Detector label.

        

      
        - *(string) --* 

        
          - *(list) --* 

          
            - *(string) --* 

            
        
    
  
      - **unlabeledEventsTreatment** *(string) --* 

        The action to take for unlabeled events.

         

        
        * Use ``IGNORE`` if you want the unlabeled events to be ignored. This is recommended when the majority of the events in the dataset are labeled.
         
        * Use ``FRAUD`` if you want to categorize all unlabeled events as “Fraud”. This is recommended when most of the events in your dataset are fraudulent.
         
        * Use ``LEGIT`` if you want to categorize all unlabeled events as “Legit”. This is recommended when most of the events in your dataset are legitimate.
         
        * Use ``AUTO`` if you want Amazon Fraud Detector to decide how to use the unlabeled data. This is recommended when there is significant unlabeled events in the dataset.
        

         

        By default, Amazon Fraud Detector ignores the unlabeled data.

        

      
    
  
  :type externalEventsDetail: dict
  :param externalEventsDetail: 

    Details of the external events data used for model version training. Required if ``trainingDataSource`` is ``EXTERNAL_EVENTS``.

    

  
    - **dataLocation** *(string) --* **[REQUIRED]** 

      The Amazon S3 bucket location for the data.

      

    
    - **dataAccessRoleArn** *(string) --* **[REQUIRED]** 

      The ARN of the role that provides Amazon Fraud Detector access to the data location.

      

    
  
  :type ingestedEventsDetail: dict
  :param ingestedEventsDetail: 

    Details of the ingested events data used for model version training. Required if ``trainingDataSource`` is ``INGESTED_EVENTS``.

    

  
    - **ingestedEventsTimeWindow** *(dict) --* **[REQUIRED]** 

      The start and stop time of the ingested events.

      

    
      - **startTime** *(string) --* **[REQUIRED]** 

        Timestamp of the first ingensted event.

        

      
      - **endTime** *(string) --* **[REQUIRED]** 

        Timestamp of the final ingested event.

        

      
    
  
  :type tags: list
  :param tags: 

    A collection of key and value pairs.

    

  
    - *(dict) --* 

      A key and value pair.

      

    
      - **key** *(string) --* **[REQUIRED]** 

        A tag key.

        

      
      - **value** *(string) --* **[REQUIRED]** 

        A value assigned to a tag key.

        

      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'modelId': 'string',
          'modelType': 'ONLINE_FRAUD_INSIGHTS'|'TRANSACTION_FRAUD_INSIGHTS'|'ACCOUNT_TAKEOVER_INSIGHTS',
          'modelVersionNumber': 'string',
          'status': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **modelId** *(string) --* 

        The model ID.

        
      

      - **modelType** *(string) --* 

        The model type.

        
      

      - **modelVersionNumber** *(string) --* 

        The model version number of the model version created.

        
      

      - **status** *(string) --* 

        The model version status.

        
  
  **Exceptions**
  
  *   :py:class:`FraudDetector.Client.exceptions.ValidationException`

  
  *   :py:class:`FraudDetector.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`FraudDetector.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`FraudDetector.Client.exceptions.ThrottlingException`

  
  *   :py:class:`FraudDetector.Client.exceptions.InternalServerException`

  