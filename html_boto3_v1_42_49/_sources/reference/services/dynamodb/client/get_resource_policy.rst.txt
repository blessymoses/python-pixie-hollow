:doc:`DynamoDB <../../dynamodb>` / Client / get_resource_policy

*******************
get_resource_policy
*******************



.. py:method:: DynamoDB.Client.get_resource_policy(**kwargs)

  

  Returns the resource-based policy document attached to the resource, which can be a table or stream, in JSON format.

   

  ``GetResourcePolicy`` follows an `eventually consistent <https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadConsistency.html>`__ model. The following list describes the outcomes when you issue the ``GetResourcePolicy`` request immediately after issuing another request:

   

  
  * If you issue a ``GetResourcePolicy`` request immediately after a ``PutResourcePolicy`` request, DynamoDB might return a ``PolicyNotFoundException``.
   
  * If you issue a ``GetResourcePolicy``request immediately after a ``DeleteResourcePolicy`` request, DynamoDB might return the policy that was present before the deletion request.
   
  * If you issue a ``GetResourcePolicy`` request immediately after a ``CreateTable`` request, which includes a resource-based policy, DynamoDB might return a ``ResourceNotFoundException`` or a ``PolicyNotFoundException``.
  

   

  Because ``GetResourcePolicy`` uses an *eventually consistent* query, the metadata for your policy or table might not be available at that moment. Wait for a few seconds, and then retry the ``GetResourcePolicy`` request.

   

  After a ``GetResourcePolicy`` request returns a policy created using the ``PutResourcePolicy`` request, the policy will be applied in the authorization of requests to the resource. Because this process is eventually consistent, it will take some time to apply the policy to all requests to a resource. Policies that you attach while creating a table using the ``CreateTable`` request will always be applied to all requests for that table.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/dynamodb-2012-08-10/GetResourcePolicy>`_  


  **Request Syntax**
  ::

    response = client.get_resource_policy(
        ResourceArn='string'
    )
    
  :type ResourceArn: string
  :param ResourceArn: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the DynamoDB resource to which the policy is attached. The resources you can specify include tables and streams.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Policy': 'string',
          'RevisionId': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Policy** *(string) --* 

        The resource-based policy document attached to the resource, which can be a table or stream, in JSON format.

        
      

      - **RevisionId** *(string) --* 

        A unique string that represents the revision ID of the policy. If you're comparing revision IDs, make sure to always use string comparison logic.

        
  
  **Exceptions**
  
  *   :py:class:`DynamoDB.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`DynamoDB.Client.exceptions.InternalServerError`

  
  *   :py:class:`DynamoDB.Client.exceptions.PolicyNotFoundException`

  