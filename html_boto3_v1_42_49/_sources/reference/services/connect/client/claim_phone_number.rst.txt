:doc:`Connect <../../connect>` / Client / claim_phone_number

******************
claim_phone_number
******************



.. py:method:: Connect.Client.claim_phone_number(**kwargs)

  

  Claims an available phone number to your Amazon Connect instance or traffic distribution group. You can call this API only in the same Amazon Web Services Region where the Amazon Connect instance or traffic distribution group was created.

   

  For more information about how to use this operation, see `Claim a phone number in your country <https://docs.aws.amazon.com/connect/latest/adminguide/claim-phone-number.html>`__ and `Claim phone numbers to traffic distribution groups <https://docs.aws.amazon.com/connect/latest/adminguide/claim-phone-numbers-traffic-distribution-groups.html>`__ in the *Amazon Connect Administrator Guide*.

   

  .. warning::

     

    You can call the `SearchAvailablePhoneNumbers <https://docs.aws.amazon.com/connect/latest/APIReference/API_SearchAvailablePhoneNumbers.html>`__ API for available phone numbers that you can claim. Call the `DescribePhoneNumber <https://docs.aws.amazon.com/connect/latest/APIReference/API_DescribePhoneNumber.html>`__ API to verify the status of a previous `ClaimPhoneNumber <https://docs.aws.amazon.com/connect/latest/APIReference/API_ClaimPhoneNumber.html>`__ operation.

     

   

  If you plan to claim and release numbers frequently, contact us for a service quota exception. Otherwise, it is possible you will be blocked from claiming and releasing any more numbers until up to 180 days past the oldest number released has expired.

   

  By default you can claim and release up to 200% of your maximum number of active phone numbers. If you claim and release phone numbers using the UI or API during a rolling 180 day cycle that exceeds 200% of your phone number service level quota, you will be blocked from claiming any more numbers until 180 days past the oldest number released has expired.

   

  For example, if you already have 99 claimed numbers and a service level quota of 99 phone numbers, and in any 180 day period you release 99, claim 99, and then release 99, you will have exceeded the 200% limit. At that point you are blocked from claiming any more numbers until you open an Amazon Web Services support ticket.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/connect-2017-08-08/ClaimPhoneNumber>`_  


  **Request Syntax**
  ::

    response = client.claim_phone_number(
        TargetArn='string',
        InstanceId='string',
        PhoneNumber='string',
        PhoneNumberDescription='string',
        Tags={
            'string': 'string'
        },
        ClientToken='string'
    )
    
  :type TargetArn: string
  :param TargetArn: 

    The Amazon Resource Name (ARN) for Amazon Connect instances or traffic distribution groups that phone number inbound traffic is routed through. You must enter ``InstanceId`` or ``TargetArn``.

    

  
  :type InstanceId: string
  :param InstanceId: 

    The identifier of the Amazon Connect instance that phone numbers are claimed to. You can `find the instance ID <https://docs.aws.amazon.com/connect/latest/adminguide/find-instance-arn.html>`__ in the Amazon Resource Name (ARN) of the instance. You must enter ``InstanceId`` or ``TargetArn``.

    

  
  :type PhoneNumber: string
  :param PhoneNumber: **[REQUIRED]** 

    The phone number you want to claim. Phone numbers are formatted ``[+] [country code] [subscriber number including area code]``.

    

  
  :type PhoneNumberDescription: string
  :param PhoneNumberDescription: 

    The description of the phone number.

    

  
  :type Tags: dict
  :param Tags: 

    The tags used to organize, track, or control access for this resource. For example, { "Tags": {"key1":"value1", "key2":"value2"} }.

    

  
    - *(string) --* 

    
      - *(string) --* 

      


  :type ClientToken: string
  :param ClientToken: 

    A unique, case-sensitive identifier that you provide to ensure the idempotency of the request. If not provided, the Amazon Web Services SDK populates this field. For more information about idempotency, see `Making retries safe with idempotent APIs <https://aws.amazon.com/builders-library/making-retries-safe-with-idempotent-APIs/>`__.

     

    Pattern: ``^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$``

    This field is autopopulated if not provided.

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'PhoneNumberId': 'string',
          'PhoneNumberArn': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **PhoneNumberId** *(string) --* 

        A unique identifier for the phone number.

        
      

      - **PhoneNumberArn** *(string) --* 

        The Amazon Resource Name (ARN) of the phone number.

        
  
  **Exceptions**
  
  *   :py:class:`Connect.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`Connect.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`Connect.Client.exceptions.ThrottlingException`

  
  *   :py:class:`Connect.Client.exceptions.InternalServiceException`

  
  *   :py:class:`Connect.Client.exceptions.IdempotencyException`

  
  *   :py:class:`Connect.Client.exceptions.AccessDeniedException`

  