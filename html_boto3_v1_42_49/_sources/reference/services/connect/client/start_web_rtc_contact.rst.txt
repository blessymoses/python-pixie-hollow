:doc:`Connect <../../connect>` / Client / start_web_rtc_contact

*********************
start_web_rtc_contact
*********************



.. py:method:: Connect.Client.start_web_rtc_contact(**kwargs)

  

  Places an inbound in-app, web, or video call to a contact, and then initiates the flow. It performs the actions in the flow that are specified (in ContactFlowId) and present in the Amazon Connect instance (specified as InstanceId).

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/connect-2017-08-08/StartWebRTCContact>`_  


  **Request Syntax**
  ::

    response = client.start_web_rtc_contact(
        Attributes={
            'string': 'string'
        },
        ClientToken='string',
        ContactFlowId='string',
        InstanceId='string',
        AllowedCapabilities={
            'Customer': {
                'Video': 'SEND',
                'ScreenShare': 'SEND'
            },
            'Agent': {
                'Video': 'SEND',
                'ScreenShare': 'SEND'
            }
        },
        ParticipantDetails={
            'DisplayName': 'string'
        },
        RelatedContactId='string',
        References={
            'string': {
                'Value': 'string',
                'Type': 'URL'|'ATTACHMENT'|'CONTACT_ANALYSIS'|'NUMBER'|'STRING'|'DATE'|'EMAIL'|'EMAIL_MESSAGE'|'EMAIL_MESSAGE_PLAIN_TEXT',
                'Status': 'AVAILABLE'|'DELETED'|'APPROVED'|'REJECTED'|'PROCESSING'|'FAILED',
                'Arn': 'string',
                'StatusReason': 'string'
            }
        },
        Description='string'
    )
    
  :type Attributes: dict
  :param Attributes: 

    A custom key-value pair using an attribute map. The attributes are standard Amazon Connect attributes, and can be accessed in flows just like any other contact attributes.

     

    There can be up to 32,768 UTF-8 bytes across all key-value pairs per contact. Attribute keys can include only alphanumeric, -, and _ characters.

    

  
    - *(string) --* 

    
      - *(string) --* 

      


  :type ClientToken: string
  :param ClientToken: 

    A unique, case-sensitive identifier that you provide to ensure the idempotency of the request. If not provided, the Amazon Web Services SDK populates this field. For more information about idempotency, see `Making retries safe with idempotent APIs <https://aws.amazon.com/builders-library/making-retries-safe-with-idempotent-APIs/>`__.

     

    The token is valid for 7 days after creation. If a contact is already started, the contact ID is returned.

    This field is autopopulated if not provided.

  
  :type ContactFlowId: string
  :param ContactFlowId: **[REQUIRED]** 

    The identifier of the flow for the call. To see the ContactFlowId in the Amazon Connect admin website, on the navigation menu go to **Routing**, **Flows**. Choose the flow. On the flow page, under the name of the flow, choose **Show additional flow information**. The ContactFlowId is the last part of the ARN, shown here in bold:

     

    arn:aws:connect:us-west-2:xxxxxxxxxxxx:instance/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/contact-flow/**846ec553-a005-41c0-8341-xxxxxxxxxxxx**

    

  
  :type InstanceId: string
  :param InstanceId: **[REQUIRED]** 

    The identifier of the Amazon Connect instance. You can `find the instance ID <https://docs.aws.amazon.com/connect/latest/adminguide/find-instance-arn.html>`__ in the Amazon Resource Name (ARN) of the instance.

    

  
  :type AllowedCapabilities: dict
  :param AllowedCapabilities: 

    Information about the video sharing capabilities of the participants (customer, agent).

    

  
    - **Customer** *(dict) --* 

      Information about the customer's video sharing capabilities.

      

    
      - **Video** *(string) --* 

        The configuration having the video and screen sharing capabilities for participants over the call.

        

      
      - **ScreenShare** *(string) --* 

        The screen sharing capability that is enabled for the participant. ``SEND`` indicates the participant can share their screen.

        

      
    
    - **Agent** *(dict) --* 

      Information about the agent's video sharing capabilities.

      

    
      - **Video** *(string) --* 

        The configuration having the video and screen sharing capabilities for participants over the call.

        

      
      - **ScreenShare** *(string) --* 

        The screen sharing capability that is enabled for the participant. ``SEND`` indicates the participant can share their screen.

        

      
    
  
  :type ParticipantDetails: dict
  :param ParticipantDetails: **[REQUIRED]** 

    The customer's details.

    

  
    - **DisplayName** *(string) --* **[REQUIRED]** 

      Display name of the participant.

      

    
  
  :type RelatedContactId: string
  :param RelatedContactId: 

    The unique identifier for an Amazon Connect contact. This identifier is related to the contact starting.

    

  
  :type References: dict
  :param References: 

    A formatted URL that is shown to an agent in the Contact Control Panel (CCP). Tasks can have the following reference types at the time of creation: ``URL`` | ``NUMBER`` | ``STRING`` | ``DATE`` | ``EMAIL``. ``ATTACHMENT`` is not a supported reference type during task creation.

    

  
    - *(string) --* 

    
      - *(dict) --* 

        Well-formed data on a contact, used by agents to complete a contact request. You can have up to 4,096 UTF-8 bytes across all references for a contact.

        

      
        - **Value** *(string) --* 

          A valid value for the reference. For example, for a URL reference, a formatted URL that is displayed to an agent in the Contact Control Panel (CCP).

          

        
        - **Type** *(string) --* **[REQUIRED]** 

          The type of the reference. ``DATE`` must be of type Epoch timestamp.

          

        
        - **Status** *(string) --* 

          Status of the attachment reference type.

          

        
        - **Arn** *(string) --* 

          The Amazon Resource Name (ARN) of the reference

          

        
        - **StatusReason** *(string) --* 

          Relevant details why the reference was not successfully created.

          

        
      


  :type Description: string
  :param Description: 

    A description of the task that is shown to an agent in the Contact Control Panel (CCP).

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ConnectionData': {
              'Attendee': {
                  'AttendeeId': 'string',
                  'JoinToken': 'string'
              },
              'Meeting': {
                  'MediaRegion': 'string',
                  'MediaPlacement': {
                      'AudioHostUrl': 'string',
                      'AudioFallbackUrl': 'string',
                      'SignalingUrl': 'string',
                      'TurnControlUrl': 'string',
                      'EventIngestionUrl': 'string'
                  },
                  'MeetingFeatures': {
                      'Audio': {
                          'EchoReduction': 'AVAILABLE'|'UNAVAILABLE'
                      }
                  },
                  'MeetingId': 'string'
              }
          },
          'ContactId': 'string',
          'ParticipantId': 'string',
          'ParticipantToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ConnectionData** *(dict) --* 

        Information required for the client application (mobile application or website) to connect to the call.

        
        

        - **Attendee** *(dict) --* 

          The attendee information, including attendee ID and join token.

          
          

          - **AttendeeId** *(string) --* 

            The Amazon Chime SDK attendee ID.

            
          

          - **JoinToken** *(string) --* 

            The join token used by the Amazon Chime SDK attendee.

            
      
        

        - **Meeting** *(dict) --* 

          A meeting created using the Amazon Chime SDK.

          
          

          - **MediaRegion** *(string) --* 

            The Amazon Web Services Region in which you create the meeting.

            
          

          - **MediaPlacement** *(dict) --* 

            The media placement for the meeting.

            
            

            - **AudioHostUrl** *(string) --* 

              The audio host URL.

              
            

            - **AudioFallbackUrl** *(string) --* 

              The audio fallback URL.

              
            

            - **SignalingUrl** *(string) --* 

              The signaling URL.

              
            

            - **TurnControlUrl** *(string) --* 

              The turn control URL.

              
            

            - **EventIngestionUrl** *(string) --* 

              The event ingestion URL to which you send client meeting events.

              
        
          

          - **MeetingFeatures** *(dict) --* 

            The configuration settings of the features available to a meeting.

            
            

            - **Audio** *(dict) --* 

              The configuration settings for the audio features available to a meeting.

              
              

              - **EchoReduction** *(string) --* 

                Makes echo reduction available to clients who connect to the meeting.

                
          
        
          

          - **MeetingId** *(string) --* 

            The Amazon Chime SDK meeting ID.

            
      
    
      

      - **ContactId** *(string) --* 

        The identifier of the contact in this instance of Amazon Connect.

        
      

      - **ParticipantId** *(string) --* 

        The identifier for a contact participant. The ``ParticipantId`` for a contact participant is the same throughout the contact lifecycle.

        
      

      - **ParticipantToken** *(string) --* 

        The token used by the contact participant to call the `CreateParticipantConnection <https://docs.aws.amazon.com/connect-participant/latest/APIReference/API_CreateParticipantConnection.html>`__ API. The participant token is valid for the lifetime of a contact participant.

        
  
  **Exceptions**
  
  *   :py:class:`Connect.Client.exceptions.InternalServiceException`

  
  *   :py:class:`Connect.Client.exceptions.InvalidRequestException`

  
  *   :py:class:`Connect.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`Connect.Client.exceptions.LimitExceededException`

  
  *   :py:class:`Connect.Client.exceptions.ResourceNotFoundException`

  