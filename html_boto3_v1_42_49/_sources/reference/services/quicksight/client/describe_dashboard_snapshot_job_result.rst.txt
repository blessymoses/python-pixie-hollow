:doc:`QuickSight <../../quicksight>` / Client / describe_dashboard_snapshot_job_result

**************************************
describe_dashboard_snapshot_job_result
**************************************



.. py:method:: QuickSight.Client.describe_dashboard_snapshot_job_result(**kwargs)

  

  Describes the result of an existing snapshot job that has finished running.

   

  A finished snapshot job will return a ``COMPLETED`` or ``FAILED`` status when you poll the job with a ``DescribeDashboardSnapshotJob`` API call.

   

  If the job has not finished running, this operation returns a message that says ``Dashboard Snapshot Job with id <SnapshotjobId> has not reached a terminal state.``.

   

  **Registered user support**

   

  This API can be called as before to get the result of a job started by the same Quick Sight user. The result for the user will be returned in ``RegisteredUsers`` response attribute. The attribute will contain a list with at most one object in it.

   

  **Possible error scenarios**

   

  The request fails with an Access Denied error in the following scenarios:

   

  
  * The credentials have expired.
   
  * The job was started by a different user.
   
  * The registered user doesn't have access to the specified dashboard.
  

   

  The request succeeds but the job fails in the following scenarios:

   

  
  * ``DASHBOARD_ACCESS_DENIED`` - The registered user lost access to the dashboard.
   
  * ``CAPABILITY_RESTRICTED`` - The registered user is restricted from exporting data in **all** selected formats.
  

   

  The request succeeds but the response contains an error code in the following scenarios:

   

  
  * ``CAPABILITY_RESTRICTED`` - The registered user is restricted from exporting data in **some** selected formats.
   
  * ``RLS_CHANGED`` - Row-level security settings have changed. Re-run the job with current settings.
   
  * ``CLS_CHANGED`` - Column-level security settings have changed. Re-run the job with current settings.
   
  * ``DATASET_DELETED`` - The dataset has been deleted. Verify the dataset exists before re-running the job.
  

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/quicksight-2018-04-01/DescribeDashboardSnapshotJobResult>`_  


  **Request Syntax**
  ::

    response = client.describe_dashboard_snapshot_job_result(
        AwsAccountId='string',
        DashboardId='string',
        SnapshotJobId='string'
    )
    
  :type AwsAccountId: string
  :param AwsAccountId: **[REQUIRED]** 

    The ID of the Amazon Web Services account that the dashboard snapshot job is executed in.

    

  
  :type DashboardId: string
  :param DashboardId: **[REQUIRED]** 

    The ID of the dashboard that you have started a snapshot job for.

    

  
  :type SnapshotJobId: string
  :param SnapshotJobId: **[REQUIRED]** 

    The ID of the job to be described. The job ID is set when you start a new job with a ``StartDashboardSnapshotJob`` API call.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Arn': 'string',
          'JobStatus': 'QUEUED'|'RUNNING'|'COMPLETED'|'FAILED',
          'CreatedTime': datetime(2015, 1, 1),
          'LastUpdatedTime': datetime(2015, 1, 1),
          'Result': {
              'AnonymousUsers': [
                  {
                      'FileGroups': [
                          {
                              'Files': [
                                  {
                                      'SheetSelections': [
                                          {
                                              'SheetId': 'string',
                                              'SelectionScope': 'ALL_VISUALS'|'SELECTED_VISUALS',
                                              'VisualIds': [
                                                  'string',
                                              ]
                                          },
                                      ],
                                      'FormatType': 'CSV'|'PDF'|'EXCEL'
                                  },
                              ],
                              'S3Results': [
                                  {
                                      'S3DestinationConfiguration': {
                                          'BucketConfiguration': {
                                              'BucketName': 'string',
                                              'BucketPrefix': 'string',
                                              'BucketRegion': 'string'
                                          }
                                      },
                                      'S3Uri': 'string',
                                      'ErrorInfo': [
                                          {
                                              'ErrorMessage': 'string',
                                              'ErrorType': 'string'
                                          },
                                      ]
                                  },
                              ]
                          },
                      ]
                  },
              ],
              'RegisteredUsers': [
                  {
                      'FileGroups': [
                          {
                              'Files': [
                                  {
                                      'SheetSelections': [
                                          {
                                              'SheetId': 'string',
                                              'SelectionScope': 'ALL_VISUALS'|'SELECTED_VISUALS',
                                              'VisualIds': [
                                                  'string',
                                              ]
                                          },
                                      ],
                                      'FormatType': 'CSV'|'PDF'|'EXCEL'
                                  },
                              ],
                              'S3Results': [
                                  {
                                      'S3DestinationConfiguration': {
                                          'BucketConfiguration': {
                                              'BucketName': 'string',
                                              'BucketPrefix': 'string',
                                              'BucketRegion': 'string'
                                          }
                                      },
                                      'S3Uri': 'string',
                                      'ErrorInfo': [
                                          {
                                              'ErrorMessage': 'string',
                                              'ErrorType': 'string'
                                          },
                                      ]
                                  },
                              ]
                          },
                      ]
                  },
              ]
          },
          'ErrorInfo': {
              'ErrorMessage': 'string',
              'ErrorType': 'string'
          },
          'RequestId': 'string',
          'Status': 123
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Arn** *(string) --* 

        The Amazon Resource Name (ARN) for the snapshot job. The job ARN is generated when you start a new job with a ``StartDashboardSnapshotJob`` API call.

        
      

      - **JobStatus** *(string) --* 

        Indicates the status of a job after it has reached a terminal state. A finished snapshot job will retuen a ``COMPLETED`` or ``FAILED`` status.

        
      

      - **CreatedTime** *(datetime) --* 

        The time that a snapshot job was created.

        
      

      - **LastUpdatedTime** *(datetime) --* 

        The time that a snapshot job status was last updated.

        
      

      - **Result** *(dict) --* 

        The result of the snapshot job. Jobs that have successfully completed will return the S3Uri where they are located. Jobs that have failedwill return information on the error that caused the job to fail.

        
        

        - **AnonymousUsers** *(list) --* 

          A list of ``AnonymousUserSnapshotJobResult`` objects that contain information on anonymous users and their user configurations. This data provided by you when you make a ``StartDashboardSnapshotJob`` API call.

          
          

          - *(dict) --* 

            A structure that contains the file groups that are requested for the artifact generation in a ``StartDashboardSnapshotJob`` API call.

            
            

            - **FileGroups** *(list) --* 

              A list of ``SnapshotJobResultFileGroup`` objects that contain information on the files that are requested during a ``StartDashboardSnapshotJob`` API call. If the job succeeds, these objects contain the location where the snapshot artifacts are stored. If the job fails, the objects contain information about the error that caused the job to fail.

              
              

              - *(dict) --* 

                A structure that contains information on the generated snapshot file groups.

                
                

                - **Files** *(list) --* 

                  A list of ``SnapshotFile`` objects.

                  
                  

                  - *(dict) --* 

                    A structure that contains the information for the snapshot that you want to generate. This information is provided by you when you start a new snapshot job.

                    
                    

                    - **SheetSelections** *(list) --* 

                      A list of ``SnapshotFileSheetSelection`` objects that contain information on the dashboard sheet that is exported. These objects provide information about the snapshot artifacts that are generated during the job. This structure can hold a maximum of 5 CSV configurations, 5 Excel configurations, or 1 configuration for PDF.

                      
                      

                      - *(dict) --* 

                        A structure that contains information that identifies the snapshot that needs to be generated.

                        
                        

                        - **SheetId** *(string) --* 

                          The sheet ID of the dashboard to generate the snapshot artifact from. This value is required for CSV, Excel, and PDF format types.

                          
                        

                        - **SelectionScope** *(string) --* 

                          The selection scope of the visuals on a sheet of a dashboard that you are generating a snapthot of. You can choose one of the following options.

                           

                          
                          * ``ALL_VISUALS`` - Selects all visuals that are on the sheet. This value is required if the snapshot is a PDF.
                           
                          * ``SELECTED_VISUALS`` - Select the visual that you want to add to the snapshot. This value is required if the snapshot is a CSV or Excel workbook.
                          

                          
                        

                        - **VisualIds** *(list) --* 

                          A structure that lists the IDs of the visuals in the selected sheet. Supported visual types are table, pivot table visuals. This value is required if you are generating a CSV or Excel workbook. This value supports a maximum of 1 visual ID for CSV and 5 visual IDs across up to 5 sheet selections for Excel. If you are generating an Excel workbook, the order of the visual IDs provided in this structure determines the order of the worksheets in the Excel file.

                          
                          

                          - *(string) --* 
                      
                    
                  
                    

                    - **FormatType** *(string) --* 

                      The format of the snapshot file to be generated. You can choose between ``CSV``, ``Excel``, or ``PDF``.

                      
                
              
                

                - **S3Results** *(list) --* 

                  A list of ``SnapshotJobS3Result`` objects.

                  
                  

                  - *(dict) --* 

                    The Amazon S3 result from the snapshot job. The result includes the ``DestinationConfiguration`` and the Amazon S3 Uri. If an error occured during the job, the result returns information on the error.

                    
                    

                    - **S3DestinationConfiguration** *(dict) --* 

                      A list of Amazon S3 bucket configurations that are provided when you make a ``StartDashboardSnapshotJob`` API call.

                      
                      

                      - **BucketConfiguration** *(dict) --* 

                        A structure that contains details about the Amazon S3 bucket that the generated dashboard snapshot is saved in.

                        
                        

                        - **BucketName** *(string) --* 

                          The name of an existing Amazon S3 bucket where the generated snapshot artifacts are sent.

                          
                        

                        - **BucketPrefix** *(string) --* 

                          The prefix of the Amazon S3 bucket that the generated snapshots are stored in.

                          
                        

                        - **BucketRegion** *(string) --* 

                          The region that the Amazon S3 bucket is located in. The bucket must be located in the same region that the ``StartDashboardSnapshotJob`` API call is made.

                          
                    
                  
                    

                    - **S3Uri** *(string) --* 

                      The Amazon S3 Uri.

                      
                    

                    - **ErrorInfo** *(list) --* 

                      An array of error records that describe any failures that occur while the dashboard snapshot job runs.

                      
                      

                      - *(dict) --* 

                        Information on the error that caused the snapshot job to fail.

                        
                        

                        - **ErrorMessage** *(string) --* 

                          The error message.

                          
                        

                        - **ErrorType** *(string) --* 

                          The error type.

                          
                    
                  
                
              
            
          
        
      
        

        - **RegisteredUsers** *(list) --* 

          A list of ``RegisteredUserSnapshotJobResult`` objects that contain information about files that are requested for registered user during a ``StartDashboardSnapshotJob`` API call.

          
          

          - *(dict) --* 

            A structure that contains information about files that are requested for registered user during a ``StartDashboardSnapshotJob`` API call.

            
            

            - **FileGroups** *(list) --* 

              A list of ``SnapshotJobResultFileGroup`` objects that contain information on the files that are requested for registered user during a ``StartDashboardSnapshotJob`` API call. If the job succeeds, these objects contain the location where the snapshot artifacts are stored. If the job fails, the objects contain information about the error that caused the job to fail.

              
              

              - *(dict) --* 

                A structure that contains information on the generated snapshot file groups.

                
                

                - **Files** *(list) --* 

                  A list of ``SnapshotFile`` objects.

                  
                  

                  - *(dict) --* 

                    A structure that contains the information for the snapshot that you want to generate. This information is provided by you when you start a new snapshot job.

                    
                    

                    - **SheetSelections** *(list) --* 

                      A list of ``SnapshotFileSheetSelection`` objects that contain information on the dashboard sheet that is exported. These objects provide information about the snapshot artifacts that are generated during the job. This structure can hold a maximum of 5 CSV configurations, 5 Excel configurations, or 1 configuration for PDF.

                      
                      

                      - *(dict) --* 

                        A structure that contains information that identifies the snapshot that needs to be generated.

                        
                        

                        - **SheetId** *(string) --* 

                          The sheet ID of the dashboard to generate the snapshot artifact from. This value is required for CSV, Excel, and PDF format types.

                          
                        

                        - **SelectionScope** *(string) --* 

                          The selection scope of the visuals on a sheet of a dashboard that you are generating a snapthot of. You can choose one of the following options.

                           

                          
                          * ``ALL_VISUALS`` - Selects all visuals that are on the sheet. This value is required if the snapshot is a PDF.
                           
                          * ``SELECTED_VISUALS`` - Select the visual that you want to add to the snapshot. This value is required if the snapshot is a CSV or Excel workbook.
                          

                          
                        

                        - **VisualIds** *(list) --* 

                          A structure that lists the IDs of the visuals in the selected sheet. Supported visual types are table, pivot table visuals. This value is required if you are generating a CSV or Excel workbook. This value supports a maximum of 1 visual ID for CSV and 5 visual IDs across up to 5 sheet selections for Excel. If you are generating an Excel workbook, the order of the visual IDs provided in this structure determines the order of the worksheets in the Excel file.

                          
                          

                          - *(string) --* 
                      
                    
                  
                    

                    - **FormatType** *(string) --* 

                      The format of the snapshot file to be generated. You can choose between ``CSV``, ``Excel``, or ``PDF``.

                      
                
              
                

                - **S3Results** *(list) --* 

                  A list of ``SnapshotJobS3Result`` objects.

                  
                  

                  - *(dict) --* 

                    The Amazon S3 result from the snapshot job. The result includes the ``DestinationConfiguration`` and the Amazon S3 Uri. If an error occured during the job, the result returns information on the error.

                    
                    

                    - **S3DestinationConfiguration** *(dict) --* 

                      A list of Amazon S3 bucket configurations that are provided when you make a ``StartDashboardSnapshotJob`` API call.

                      
                      

                      - **BucketConfiguration** *(dict) --* 

                        A structure that contains details about the Amazon S3 bucket that the generated dashboard snapshot is saved in.

                        
                        

                        - **BucketName** *(string) --* 

                          The name of an existing Amazon S3 bucket where the generated snapshot artifacts are sent.

                          
                        

                        - **BucketPrefix** *(string) --* 

                          The prefix of the Amazon S3 bucket that the generated snapshots are stored in.

                          
                        

                        - **BucketRegion** *(string) --* 

                          The region that the Amazon S3 bucket is located in. The bucket must be located in the same region that the ``StartDashboardSnapshotJob`` API call is made.

                          
                    
                  
                    

                    - **S3Uri** *(string) --* 

                      The Amazon S3 Uri.

                      
                    

                    - **ErrorInfo** *(list) --* 

                      An array of error records that describe any failures that occur while the dashboard snapshot job runs.

                      
                      

                      - *(dict) --* 

                        Information on the error that caused the snapshot job to fail.

                        
                        

                        - **ErrorMessage** *(string) --* 

                          The error message.

                          
                        

                        - **ErrorType** *(string) --* 

                          The error type.

                          
                    
                  
                
              
            
          
        
      
    
      

      - **ErrorInfo** *(dict) --* 

        Displays information for the error that caused a job to fail.

        
        

        - **ErrorMessage** *(string) --* 

          The error message.

          
        

        - **ErrorType** *(string) --* 

          The error type.

          
    
      

      - **RequestId** *(string) --* 

        The Amazon Web Services request ID for this operation.

        
      

      - **Status** *(integer) --* 

        The HTTP status of the request

        
  
  **Exceptions**
  
  *   :py:class:`QuickSight.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`QuickSight.Client.exceptions.InvalidParameterValueException`

  
  *   :py:class:`QuickSight.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`QuickSight.Client.exceptions.ThrottlingException`

  
  *   :py:class:`QuickSight.Client.exceptions.UnsupportedUserEditionException`

  
  *   :py:class:`QuickSight.Client.exceptions.PreconditionNotMetException`

  
  *   :py:class:`QuickSight.Client.exceptions.InternalFailureException`

  