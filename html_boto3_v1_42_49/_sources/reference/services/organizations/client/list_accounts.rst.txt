:doc:`Organizations <../../organizations>` / Client / list_accounts

*************
list_accounts
*************



.. py:method:: Organizations.Client.list_accounts(**kwargs)

  

  Lists all the accounts in the organization. To request only the accounts in a specified root or organizational unit (OU), use the  ListAccountsForParent operation instead.

   

  .. note::

    

    When calling List* operations, always check the ``NextToken`` response parameter value, even if you receive an empty result set. These operations can occasionally return an empty set of results even when more results are available. Continue making requests until ``NextToken`` returns null. A null ``NextToken`` value indicates that you have retrieved all available results.

    

   

  You can only call this operation from the management account or a member account that is a delegated administrator.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/organizations-2016-11-28/ListAccounts>`_  


  **Request Syntax**
  ::

    response = client.list_accounts(
        NextToken='string',
        MaxResults=123
    )
    
  :type NextToken: string
  :param NextToken: 

    The parameter for receiving additional results if you receive a ``NextToken`` response in a previous request. A ``NextToken`` response indicates that more output is available. Set this parameter to the value of the previous call's ``NextToken`` response to indicate where the output should continue from.

    

  
  :type MaxResults: integer
  :param MaxResults: 

    The maximum number of items to return in the response. If more results exist than the specified ``MaxResults`` value, a token is included in the response so that you can retrieve the remaining results.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Accounts': [
              {
                  'Id': 'string',
                  'Arn': 'string',
                  'Email': 'string',
                  'Name': 'string',
                  'Status': 'ACTIVE'|'SUSPENDED'|'PENDING_CLOSURE',
                  'State': 'PENDING_ACTIVATION'|'ACTIVE'|'SUSPENDED'|'PENDING_CLOSURE'|'CLOSED',
                  'JoinedMethod': 'INVITED'|'CREATED',
                  'JoinedTimestamp': datetime(2015, 1, 1)
              },
          ],
          'NextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Accounts** *(list) --* 

        A list of objects in the organization.

         

        .. warning::

           

          The ``Status`` parameter in the API response will be retired on September 9, 2026. Although both the account ``State`` and account ``Status`` parameters are currently available in the Organizations APIs ( ``DescribeAccount``, ``ListAccounts``, ``ListAccountsForParent``), we recommend that you update your scripts or other code to use the ``State`` parameter instead of ``Status`` before September 9, 2026.

          

        
        

        - *(dict) --* 

          Contains information about an Amazon Web Services account that is a member of an organization.

          
          

          - **Id** *(string) --* 

            The unique identifier (ID) of the account.

             

            The `regex pattern <http://wikipedia.org/wiki/regex>`__ for an account ID string requires exactly 12 digits.

            
          

          - **Arn** *(string) --* 

            The Amazon Resource Name (ARN) of the account.

             

            For more information about ARNs in Organizations, see `ARN Formats Supported by Organizations <https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsorganizations.html#awsorganizations-resources-for-iam-policies>`__ in the *Amazon Web Services Service Authorization Reference*.

            
          

          - **Email** *(string) --* 

            The email address associated with the Amazon Web Services account.

             

            The `regex pattern <http://wikipedia.org/wiki/regex>`__ for this parameter is a string of characters that represents a standard internet email address.

            
          

          - **Name** *(string) --* 

            The friendly name of the account.

             

            The `regex pattern <http://wikipedia.org/wiki/regex>`__ that is used to validate this parameter is a string of any of the characters in the ASCII character range.

            
          

          - **Status** *(string) --* 

            The status of the account in the organization.

             

            .. warning::

               

              The ``Status`` parameter in the ``Account`` object will be retired on September 9, 2026. Although both the account ``State`` and account ``Status`` parameters are currently available in the Organizations APIs ( ``DescribeAccount``, ``ListAccounts``, ``ListAccountsForParent``), we recommend that you update your scripts or other code to use the ``State`` parameter instead of ``Status`` before September 9, 2026.

              

            
          

          - **State** *(string) --* 

            Each state represents a specific phase in the account lifecycle. Use this information to manage account access, automate workflows, or trigger actions based on account state changes.

             

            For more information about account states and their implications, see `Monitor the state of your Amazon Web Services accounts <https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts_account_state.html>`__ in the *Organizations User Guide*.

            
          

          - **JoinedMethod** *(string) --* 

            The method by which the account joined the organization.

            
          

          - **JoinedTimestamp** *(datetime) --* 

            The date the account became a part of the organization.

            
      
    
      

      - **NextToken** *(string) --* 

        If present, indicates that more output is available than is included in the current response. Use this value in the ``NextToken`` request parameter in a subsequent call to the operation to get the next part of the output. You should repeat this until the ``NextToken`` response element comes back as ``null``.

        
  
  **Exceptions**
  
  *   :py:class:`Organizations.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`Organizations.Client.exceptions.AWSOrganizationsNotInUseException`

  
  *   :py:class:`Organizations.Client.exceptions.InvalidInputException`

  
  *   :py:class:`Organizations.Client.exceptions.ServiceException`

  
  *   :py:class:`Organizations.Client.exceptions.TooManyRequestsException`

  

  **Examples**

  The following example shows you how to request a list of the accounts in an organization:
  ::

    response = client.list_accounts(
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'Accounts': [
            {
                'Arn': 'arn:aws:organizations::111111111111:account/o-exampleorgid/111111111111',
                'Email': 'bill@example.com',
                'Id': '111111111111',
                'JoinedMethod': 'INVITED',
                'JoinedTimestamp': datetime(2016, 12, 15, 19, 30, 15, 3, 350, 0),
                'Name': 'Master Account',
                'Status': 'ACTIVE',
            },
            {
                'Arn': 'arn:aws:organizations::111111111111:account/o-exampleorgid/222222222222',
                'Email': 'alice@example.com',
                'Id': '222222222222',
                'JoinedMethod': 'INVITED',
                'JoinedTimestamp': datetime(2016, 12, 15, 21, 2, 21, 3, 350, 0),
                'Name': 'Developer Account',
                'Status': 'ACTIVE',
            },
            {
                'Arn': 'arn:aws:organizations::111111111111:account/o-exampleorgid/333333333333',
                'Email': 'juan@example.com',
                'Id': '333333333333',
                'JoinedMethod': 'INVITED',
                'JoinedTimestamp': datetime(2016, 12, 15, 21, 3, 47, 3, 350, 0),
                'Name': 'Test Account',
                'Status': 'ACTIVE',
            },
            {
                'Arn': 'arn:aws:organizations::111111111111:account/o-exampleorgid/444444444444',
                'Email': 'anika@example.com',
                'Id': '444444444444',
                'JoinedMethod': 'INVITED',
                'JoinedTimestamp': datetime(2016, 12, 15, 21, 3, 32, 3, 350, 0),
                'Name': 'Production Account',
                'Status': 'ACTIVE',
            },
        ],
        'ResponseMetadata': {
            '...': '...',
        },
    }

  