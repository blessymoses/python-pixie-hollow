:doc:`Backup <../../backup>` / Client / list_recovery_points_by_resource

********************************
list_recovery_points_by_resource
********************************



.. py:method:: Backup.Client.list_recovery_points_by_resource(**kwargs)

  

  The information about the recovery points of the type specified by a resource Amazon Resource Name (ARN).

   

  .. note::

    

    For Amazon EFS and Amazon EC2, this action only lists recovery points created by Backup.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/backup-2018-11-15/ListRecoveryPointsByResource>`_  


  **Request Syntax**
  ::

    response = client.list_recovery_points_by_resource(
        ResourceArn='string',
        NextToken='string',
        MaxResults=123,
        ManagedByAWSBackupOnly=True|False
    )
    
  :type ResourceArn: string
  :param ResourceArn: **[REQUIRED]** 

    An ARN that uniquely identifies a resource. The format of the ARN depends on the resource type.

    

  
  :type NextToken: string
  :param NextToken: 

    The next item following a partial list of returned items. For example, if a request is made to return ``MaxResults`` number of items, ``NextToken`` allows you to return more items in your list starting at the location pointed to by the next token.

    

  
  :type MaxResults: integer
  :param MaxResults: 

    The maximum number of items to be returned.

     

    .. note::

      

      Amazon RDS requires a value of at least 20.

      

    

  
  :type ManagedByAWSBackupOnly: boolean
  :param ManagedByAWSBackupOnly: 

    This attribute filters recovery points based on ownership.

     

    If this is set to ``TRUE``, the response will contain recovery points associated with the selected resources that are managed by Backup.

     

    If this is set to ``FALSE``, the response will contain all recovery points associated with the selected resource.

     

    Type: Boolean

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'NextToken': 'string',
          'RecoveryPoints': [
              {
                  'RecoveryPointArn': 'string',
                  'CreationDate': datetime(2015, 1, 1),
                  'Status': 'COMPLETED'|'PARTIAL'|'DELETING'|'EXPIRED'|'AVAILABLE'|'STOPPED'|'CREATING',
                  'StatusMessage': 'string',
                  'EncryptionKeyArn': 'string',
                  'BackupSizeBytes': 123,
                  'BackupVaultName': 'string',
                  'IsParent': True|False,
                  'ParentRecoveryPointArn': 'string',
                  'ResourceName': 'string',
                  'VaultType': 'BACKUP_VAULT'|'LOGICALLY_AIR_GAPPED_BACKUP_VAULT'|'RESTORE_ACCESS_BACKUP_VAULT',
                  'IndexStatus': 'PENDING'|'ACTIVE'|'FAILED'|'DELETING',
                  'IndexStatusMessage': 'string',
                  'EncryptionKeyType': 'AWS_OWNED_KMS_KEY'|'CUSTOMER_MANAGED_KMS_KEY',
                  'AggregatedScanResult': {
                      'FailedScan': True|False,
                      'Findings': [
                          'MALWARE',
                      ],
                      'LastComputed': datetime(2015, 1, 1)
                  }
              },
          ]
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **NextToken** *(string) --* 

        The next item following a partial list of returned items. For example, if a request is made to return ``MaxResults`` number of items, ``NextToken`` allows you to return more items in your list starting at the location pointed to by the next token.

        
      

      - **RecoveryPoints** *(list) --* 

        An array of objects that contain detailed information about recovery points of the specified resource type.

         

        .. note::

          

          Only Amazon EFS and Amazon EC2 recovery points return BackupVaultName.

          

        
        

        - *(dict) --* 

          Contains detailed information about a saved recovery point.

          
          

          - **RecoveryPointArn** *(string) --* 

            An Amazon Resource Name (ARN) that uniquely identifies a recovery point; for example, ``arn:aws:backup:us-east-1:123456789012:recovery-point:1EB3B5E7-9EB0-435A-A80B-108B488B0D45``.

            
          

          - **CreationDate** *(datetime) --* 

            The date and time a recovery point is created, in Unix format and Coordinated Universal Time (UTC). The value of ``CreationDate`` is accurate to milliseconds. For example, the value 1516925490.087 represents Friday, January 26, 2018 12:11:30.087 AM.

            
          

          - **Status** *(string) --* 

            A status code specifying the state of the recovery point.

            
          

          - **StatusMessage** *(string) --* 

            A message explaining the current status of the recovery point.

            
          

          - **EncryptionKeyArn** *(string) --* 

            The server-side encryption key that is used to protect your backups; for example, ``arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab``.

            
          

          - **BackupSizeBytes** *(integer) --* 

            The size, in bytes, of a backup.

            
          

          - **BackupVaultName** *(string) --* 

            The name of a logical container where backups are stored. Backup vaults are identified by names that are unique to the account used to create them and the Amazon Web Services Region where they are created.

            
          

          - **IsParent** *(boolean) --* 

            This is a boolean value indicating this is a parent (composite) recovery point.

            
          

          - **ParentRecoveryPointArn** *(string) --* 

            The Amazon Resource Name (ARN) of the parent (composite) recovery point.

            
          

          - **ResourceName** *(string) --* 

            The non-unique name of the resource that belongs to the specified backup.

            
          

          - **VaultType** *(string) --* 

            The type of vault in which the described recovery point is stored.

            
          

          - **IndexStatus** *(string) --* 

            This is the current status for the backup index associated with the specified recovery point.

             

            Statuses are: ``PENDING`` | ``ACTIVE`` | ``FAILED`` | ``DELETING``

             

            A recovery point with an index that has the status of ``ACTIVE`` can be included in a search.

            
          

          - **IndexStatusMessage** *(string) --* 

            A string in the form of a detailed message explaining the status of a backup index associated with the recovery point.

            
          

          - **EncryptionKeyType** *(string) --* 

            The type of encryption key used for the recovery point. Valid values are CUSTOMER_MANAGED_KMS_KEY for customer-managed keys or Amazon Web Services_OWNED_KMS_KEY for Amazon Web Services-owned keys.

            
          

          - **AggregatedScanResult** *(dict) --* 

            Contains the latest scanning results against the recovery point and currently include ``FailedScan``, ``Findings``, ``LastComputed``.

            
            

            - **FailedScan** *(boolean) --* 

              A Boolean value indicating whether any of the aggregated scans failed.

              
            

            - **Findings** *(list) --* 

              An array of findings discovered across all aggregated scans.

              
              

              - *(string) --* 
          
            

            - **LastComputed** *(datetime) --* 

              The timestamp when the aggregated scan result was last computed, in Unix format and Coordinated Universal Time (UTC).

              
        
      
    
  
  **Exceptions**
  
  *   :py:class:`Backup.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`Backup.Client.exceptions.InvalidParameterValueException`

  
  *   :py:class:`Backup.Client.exceptions.MissingParameterValueException`

  
  *   :py:class:`Backup.Client.exceptions.ServiceUnavailableException`

  