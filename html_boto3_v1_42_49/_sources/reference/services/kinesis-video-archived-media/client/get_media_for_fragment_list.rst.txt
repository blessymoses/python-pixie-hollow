:doc:`KinesisVideoArchivedMedia <../../kinesis-video-archived-media>` / Client / get_media_for_fragment_list

***************************
get_media_for_fragment_list
***************************



.. py:method:: KinesisVideoArchivedMedia.Client.get_media_for_fragment_list(**kwargs)

  

  Gets media for a list of fragments (specified by fragment number) from the archived data in an Amazon Kinesis video stream.

   

  .. note::

    

    You must first call the ``GetDataEndpoint`` API to get an endpoint. Then send the ``GetMediaForFragmentList`` requests to this endpoint using the `--endpoint-url parameter <https://docs.aws.amazon.com/cli/latest/reference/>`__.

    

   

  For limits, see `Kinesis Video Streams Limits <http://docs.aws.amazon.com/kinesisvideostreams/latest/dg/limits.html>`__.

   

  .. warning::

     

    If an error is thrown after invoking a Kinesis Video Streams archived media API, in addition to the HTTP status code and the response body, it includes the following pieces of information:

     

    
    * ``x-amz-ErrorType`` HTTP header – contains a more specific error type in addition to what the HTTP status code provides.
     
    * ``x-amz-RequestId`` HTTP header – if you want to report an issue to Amazon Web Services, the support team can better diagnose the problem if given the Request Id.
    

     

    Both the HTTP status code and the ErrorType header can be utilized to make programmatic decisions about whether errors are retry-able and under what conditions, as well as provide information on what actions the client programmer might need to take in order to successfully try again.

     

    For more information, see the **Errors** section at the bottom of this topic, as well as `Common Errors <https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/CommonErrors.html>`__.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/kinesis-video-archived-media-2017-09-30/GetMediaForFragmentList>`_  


  **Request Syntax**
  ::

    response = client.get_media_for_fragment_list(
        StreamName='string',
        StreamARN='string',
        Fragments=[
            'string',
        ]
    )
    
  :type StreamName: string
  :param StreamName: 

    The name of the stream from which to retrieve fragment media. Specify either this parameter or the ``StreamARN`` parameter.

    

  
  :type StreamARN: string
  :param StreamARN: 

    The Amazon Resource Name (ARN) of the stream from which to retrieve fragment media. Specify either this parameter or the ``StreamName`` parameter.

    

  
  :type Fragments: list
  :param Fragments: **[REQUIRED]** 

    A list of the numbers of fragments for which to retrieve media. You retrieve these values with  ListFragments.

    

  
    - *(string) --* 

    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ContentType': 'string',
          'Payload': StreamingBody()
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ContentType** *(string) --* 

        The content type of the requested media.

        
      

      - **Payload** (:class:`.StreamingBody`) -- 

        The payload that Kinesis Video Streams returns is a sequence of chunks from the specified stream. For information about the chunks, see `PutMedia <http://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_PutMedia.html>`__. The chunks that Kinesis Video Streams returns in the ``GetMediaForFragmentList`` call also include the following additional Matroska (MKV) tags:

         

        
        * AWS_KINESISVIDEO_FRAGMENT_NUMBER - Fragment number returned in the chunk.
         
        * AWS_KINESISVIDEO_SERVER_SIDE_TIMESTAMP - Server-side timestamp of the fragment.
         
        * AWS_KINESISVIDEO_PRODUCER_SIDE_TIMESTAMP - Producer-side timestamp of the fragment.
        

         

        The following tags will be included if an exception occurs:

         

        
        * AWS_KINESISVIDEO_FRAGMENT_NUMBER - The number of the fragment that threw the exception
         
        * AWS_KINESISVIDEO_EXCEPTION_ERROR_CODE - The integer code of the
         
        * AWS_KINESISVIDEO_EXCEPTION_MESSAGE - A text description of the exception
        

        
  
  **Exceptions**
  
  *   :py:class:`KinesisVideoArchivedMedia.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`KinesisVideoArchivedMedia.Client.exceptions.InvalidArgumentException`

  
  *   :py:class:`KinesisVideoArchivedMedia.Client.exceptions.ClientLimitExceededException`

  
  *   :py:class:`KinesisVideoArchivedMedia.Client.exceptions.NotAuthorizedException`

  