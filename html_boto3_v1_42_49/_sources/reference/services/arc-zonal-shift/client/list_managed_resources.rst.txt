:doc:`ARCZonalShift <../../arc-zonal-shift>` / Client / list_managed_resources

**********************
list_managed_resources
**********************



.. py:method:: ARCZonalShift.Client.list_managed_resources(**kwargs)

  

  Lists all the resources in your Amazon Web Services account in this Amazon Web Services Region that are managed for zonal shifts in Amazon Application Recovery Controller, and information about them. The information includes the zonal autoshift status for the resource, as well as the Amazon Resource Name (ARN), the Availability Zones that each resource is deployed in, and the resource name.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/arc-zonal-shift-2022-10-30/ListManagedResources>`_  


  **Request Syntax**
  ::

    response = client.list_managed_resources(
        nextToken='string',
        maxResults=123
    )
    
  :type nextToken: string
  :param nextToken: 

    Specifies that you want to receive the next page of results. Valid only if you received a ``nextToken`` response in the previous request. If you did, it indicates that more output is available. Set this parameter to the value provided by the previous call's ``nextToken`` response to request the next page of results.

    

  
  :type maxResults: integer
  :param maxResults: 

    The number of objects that you want to return with this call.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'items': [
              {
                  'arn': 'string',
                  'name': 'string',
                  'availabilityZones': [
                      'string',
                  ],
                  'appliedWeights': {
                      'string': ...
                  },
                  'zonalShifts': [
                      {
                          'appliedStatus': 'APPLIED'|'NOT_APPLIED',
                          'zonalShiftId': 'string',
                          'resourceIdentifier': 'string',
                          'awayFrom': 'string',
                          'expiryTime': datetime(2015, 1, 1),
                          'startTime': datetime(2015, 1, 1),
                          'comment': 'string',
                          'shiftType': 'ZONAL_SHIFT'|'PRACTICE_RUN'|'FIS_EXPERIMENT'|'ZONAL_AUTOSHIFT',
                          'practiceRunOutcome': 'FAILED'|'INTERRUPTED'|'PENDING'|'SUCCEEDED'|'CAPACITY_CHECK_FAILED'
                      },
                  ],
                  'autoshifts': [
                      {
                          'appliedStatus': 'APPLIED'|'NOT_APPLIED',
                          'awayFrom': 'string',
                          'startTime': datetime(2015, 1, 1)
                      },
                  ],
                  'zonalAutoshiftStatus': 'ENABLED'|'DISABLED',
                  'practiceRunStatus': 'ENABLED'|'DISABLED'
              },
          ],
          'nextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **items** *(list) --* 

        The items in the response list.

        
        

        - *(dict) --* 

          A complex structure for a managed resource in an Amazon Web Services account with information about zonal shifts and autoshifts.

           

          You can start a zonal shift in ARC for a managed resource to temporarily move traffic for the resource away from an Availability Zone in an Amazon Web Services Region. You can also configure zonal autoshift for a managed resource.

           

          .. note::

            

            At this time, managed resources are Amazon EC2 Auto Scaling groups, Amazon Elastic Kubernetes Service, Network Load Balancers, and Application Load Balancer.

            

          
          

          - **arn** *(string) --* 

            The Amazon Resource Name (ARN) for the managed resource.

            
          

          - **name** *(string) --* 

            The name of the managed resource.

            
          

          - **availabilityZones** *(list) --* 

            The Availability Zones that a resource is deployed in.

            
            

            - *(string) --* 
        
          

          - **appliedWeights** *(dict) --* 

            A collection of key-value pairs that indicate whether resources are active in Availability Zones or not. The key name is the Availability Zone where the resource is deployed. The value is 1 or 0.

            
            

            - *(string) --* 
              

              - *(float) --* 
        
      
          

          - **zonalShifts** *(list) --* 

            An array of the zonal shifts for a resource.

            
            

            - *(dict) --* 

              A complex structure that lists the zonal shifts for a managed resource and their statuses for the resource.

              
              

              - **appliedStatus** *(string) --* 

                The ``appliedStatus`` field specifies which application traffic shift is in effect for a resource when there is more than one active traffic shift. There can be more than one application traffic shift in progress at the same time - that is, practice run zonal shifts, customer-initiated zonal shifts, or an autoshift. The ``appliedStatus`` field for a shift that is in progress for a resource can have one of two values: ``APPLIED`` or ``NOT_APPLIED``. The zonal shift or autoshift that is currently in effect for the resource has an ``appliedStatus`` set to ``APPLIED``.

                 

                The overall principle for precedence is that zonal shifts that you start as a customer take precedence autoshifts, which take precedence over practice runs. That is, customer-initiated zonal shifts > autoshifts > practice run zonal shifts.

                 

                For more information, see `How zonal autoshift and practice runs work <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.how-it-works.html>`__ in the Amazon Application Recovery Controller Developer Guide.

                
              

              - **zonalShiftId** *(string) --* 

                The identifier of a zonal shift.

                
              

              - **resourceIdentifier** *(string) --* 

                The identifier for the resource to include in a zonal shift. The identifier is the Amazon Resource Name (ARN) for the resource.

                 

                Amazon Application Recovery Controller currently supports enabling the following resources for zonal shift and zonal autoshift:

                 

                
                * `Amazon EC2 Auto Scaling groups <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.resource-types.ec2-auto-scaling-groups.html>`__
                 
                * `Amazon Elastic Kubernetes Service <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.resource-types.eks.html>`__
                 
                * `Application Load Balancer <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.resource-types.app-load-balancers.html>`__
                 
                * `Network Load Balancer <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-shift.resource-types.network-load-balancers.html>`__
                

                
              

              - **awayFrom** *(string) --* 

                The Availability Zone (for example, ``use1-az1``) that traffic is moved away from for a resource when you start a zonal shift. Until the zonal shift expires or you cancel it, traffic for the resource is instead moved to other Availability Zones in the Amazon Web Services Region.

                
              

              - **expiryTime** *(datetime) --* 

                The expiry time (expiration time) for a customer-initiated zonal shift. A zonal shift is temporary and must be set to expire when you start the zonal shift. You can initially set a zonal shift to expire in a maximum of three days (72 hours). However, you can update a zonal shift to set a new expiration at any time.

                 

                When you start a zonal shift, you specify how long you want it to be active, which ARC converts to an expiry time (expiration time). You can cancel a zonal shift when you're ready to restore traffic to the Availability Zone, or just wait for it to expire. Or you can update the zonal shift to specify another length of time to expire in.

                
              

              - **startTime** *(datetime) --* 

                The time (UTC) when the zonal shift starts.

                
              

              - **comment** *(string) --* 

                A comment that you enter for a customer-initiated zonal shift. Only the latest comment is retained; no comment history is maintained. That is, a new comment overwrites any existing comment string.

                
              

              - **shiftType** *(string) --* 

                Defines the zonal shift type.

                
              

              - **practiceRunOutcome** *(string) --* 

                The outcome, or end state, returned for a practice run. The following values can be returned:

                 

                
                * **PENDING:** Outcome value when a practice run is in progress.
                 
                * **SUCCEEDED:** Outcome value when the outcome alarm specified for the practice run configuration does not go into an ``ALARM`` state during the practice run, and the practice run was not interrupted before it completed the expected 30 minute zonal shift.
                 
                * **INTERRUPTED:** Outcome value when the practice run was stopped before the expected 30 minute zonal shift duration, or there was another problem with the practice run that created an inconclusive outcome.
                 
                * **FAILED:** Outcome value when the outcome alarm specified for the practice run configuration goes into an ``ALARM`` state during the practice run, and the practice run was not interrupted before it completed.
                 
                * **CAPACITY_CHECK_FAILED:** The check for balanced capacity across Availability Zones for your load balancing and Auto Scaling group resources failed.
                

                 

                For more information about practice run outcomes, see `Considerations when you configure zonal autoshift <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.configure.html>`__ in the Amazon Application Recovery Controller Developer Guide.

                
          
        
          

          - **autoshifts** *(list) --* 

            An array of the autoshifts that have been completed for a resource.

            
            

            - *(dict) --* 

              A complex structure that lists an autoshift that is currently active for a managed resource and information about the autoshift.

               

              For more information, see `How zonal autoshift and practice runs work <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.how-it-works.html>`__ in the Amazon Application Recovery Controller Developer Guide.

              
              

              - **appliedStatus** *(string) --* 

                The ``appliedStatus`` field specifies which application traffic shift is in effect for a resource when there is more than one active traffic shift. There can be more than one application traffic shift in progress at the same time - that is, practice run zonal shifts, customer-initiated zonal shifts, or an autoshift. The ``appliedStatus`` field for a shift that is in progress for a resource can have one of two values: ``APPLIED`` or ``NOT_APPLIED``. The zonal shift or autoshift that is currently in effect for the resource has an ``appliedStatus`` set to ``APPLIED``.

                 

                The overall principle for precedence is that zonal shifts that you start as a customer take precedence autoshifts, which take precedence over practice runs. That is, customer-initiated zonal shifts > autoshifts > practice run zonal shifts.

                 

                For more information, see `How zonal autoshift and practice runs work <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.how-it-works.html>`__ in the Amazon Application Recovery Controller Developer Guide.

                
              

              - **awayFrom** *(string) --* 

                The Availability Zone (for example, ``use1-az1``) that traffic is shifted away from for a resource, when Amazon Web Services starts an autoshift. Until the autoshift ends, traffic for the resource is instead directed to other Availability Zones in the Amazon Web Services Region. An autoshift can end for a resource, for example, when Amazon Web Services ends the autoshift for the Availability Zone or when you disable zonal autoshift for the resource.

                
              

              - **startTime** *(datetime) --* 

                The time (UTC) when the autoshift started.

                
          
        
          

          - **zonalAutoshiftStatus** *(string) --* 

            The status of autoshift for a resource. When you configure zonal autoshift for a resource, you can set the value of the status to ``ENABLED`` or ``DISABLED``.

            
          

          - **practiceRunStatus** *(string) --* 

            This status tracks whether a practice run configuration exists for a resource. When you configure a practice run for a resource so that a practice run configuration exists, ARC sets this value to ``ENABLED``. If a you have not configured a practice run for the resource, or delete a practice run configuration, ARC sets the value to ``DISABLED``.

             

            ARC updates this status; you can't set a practice run status to ``ENABLED`` or ``DISABLED``.

            
      
    
      

      - **nextToken** *(string) --* 

        Specifies that you want to receive the next page of results. Valid only if you received a ``nextToken`` response in the previous request. If you did, it indicates that more output is available. Set this parameter to the value provided by the previous call's ``nextToken`` response to request the next page of results.

        
  
  **Exceptions**
  
  *   :py:class:`ARCZonalShift.Client.exceptions.InternalServerException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.ThrottlingException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.ValidationException`

  