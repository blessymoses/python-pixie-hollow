:doc:`ARCZonalShift <../../arc-zonal-shift>` / Client / update_practice_run_configuration

*********************************
update_practice_run_configuration
*********************************



.. py:method:: ARCZonalShift.Client.update_practice_run_configuration(**kwargs)

  

  Update a practice run configuration to change one or more of the following: add, change, or remove the blocking alarm; change the outcome alarm; or add, change, or remove blocking dates or time windows.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/arc-zonal-shift-2022-10-30/UpdatePracticeRunConfiguration>`_  


  **Request Syntax**
  ::

    response = client.update_practice_run_configuration(
        resourceIdentifier='string',
        blockedWindows=[
            'string',
        ],
        blockedDates=[
            'string',
        ],
        blockingAlarms=[
            {
                'type': 'CLOUDWATCH',
                'alarmIdentifier': 'string'
            },
        ],
        allowedWindows=[
            'string',
        ],
        outcomeAlarms=[
            {
                'type': 'CLOUDWATCH',
                'alarmIdentifier': 'string'
            },
        ]
    )
    
  :type resourceIdentifier: string
  :param resourceIdentifier: **[REQUIRED]** 

    The identifier for the resource that you want to update the practice run configuration for. The identifier is the Amazon Resource Name (ARN) for the resource.

    

  
  :type blockedWindows: list
  :param blockedWindows: 

    Add, change, or remove windows of days and times for when you can, optionally, block ARC from starting a practice run for a resource.

     

    The format for blocked windows is: DAY:HH:SS-DAY:HH:SS. Keep in mind, when you specify dates, that dates and times for practice runs are in UTC. Also, be aware of potential time adjustments that might be required for daylight saving time differences. Separate multiple blocked windows with spaces.

     

    For example, say you run business report summaries three days a week. For this scenario, you might set the following recurring days and times as blocked windows, for example: ``MON-20:30-21:30 WED-20:30-21:30 FRI-20:30-21:30``.

    

  
    - *(string) --* 

    

  :type blockedDates: list
  :param blockedDates: 

    Add, change, or remove blocked dates for a practice run in zonal autoshift.

     

    Optionally, you can block practice runs for specific calendar dates. The format for blocked dates is: YYYY-MM-DD. Keep in mind, when you specify dates, that dates and times for practice runs are in UTC. Separate multiple blocked dates with spaces.

     

    For example, if you have an application update scheduled to launch on May 1, 2024, and you don't want practice runs to shift traffic away at that time, you could set a blocked date for ``2024-05-01``.

    

  
    - *(string) --* 

    

  :type blockingAlarms: list
  :param blockingAlarms: 

    Add, change, or remove the Amazon CloudWatch alarms that you optionally specify as the blocking alarms for practice runs.

    

  
    - *(dict) --* 

      A control condition is an alarm that you specify for a practice run. When you configure practice runs with zonal autoshift for a resource, you specify Amazon CloudWatch alarms, which you create in CloudWatch to use with the practice run. The alarms that you specify are an *outcome alarm*, to monitor application health during practice runs and, optionally, a *blocking alarm*, to block practice runs from starting or to interrupt a practice run in progress.

       

      Control condition alarms do not apply for autoshifts.

       

      For more information, see `Considerations when you configure zonal autoshift <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.considerations.html>`__ in the Amazon Application Recovery Controller Developer Guide.

      

    
      - **type** *(string) --* **[REQUIRED]** 

        The type of alarm specified for a practice run. You can only specify Amazon CloudWatch alarms for practice runs, so the only valid value is ``CLOUDWATCH``.

        

      
      - **alarmIdentifier** *(string) --* **[REQUIRED]** 

        The Amazon Resource Name (ARN) for an Amazon CloudWatch alarm that you specify as a control condition for a practice run.

        

      
    

  :type allowedWindows: list
  :param allowedWindows: 

    Add, change, or remove windows of days and times for when you can, optionally, allow ARC to start a practice run for a resource.

     

    The format for allowed windows is: DAY:HH:SS-DAY:HH:SS. Keep in mind, when you specify dates, that dates and times for practice runs are in UTC. Also, be aware of potential time adjustments that might be required for daylight saving time differences. Separate multiple allowed windows with spaces.

     

    For example, say you want to allow practice runs only on Wednesdays and Fridays from noon to 5 p.m. For this scenario, you could set the following recurring days and times as allowed windows, for example: ``Wed-12:00-Wed:17:00 Fri-12:00-Fri:17:00``.

     

    .. warning::

       

      The ``allowedWindows`` have to start and end on the same day. Windows that span multiple days aren't supported.

      

    

  
    - *(string) --* 

    

  :type outcomeAlarms: list
  :param outcomeAlarms: 

    Specify one or more Amazon CloudWatch alarms as the outcome alarms for practice runs.

    

  
    - *(dict) --* 

      A control condition is an alarm that you specify for a practice run. When you configure practice runs with zonal autoshift for a resource, you specify Amazon CloudWatch alarms, which you create in CloudWatch to use with the practice run. The alarms that you specify are an *outcome alarm*, to monitor application health during practice runs and, optionally, a *blocking alarm*, to block practice runs from starting or to interrupt a practice run in progress.

       

      Control condition alarms do not apply for autoshifts.

       

      For more information, see `Considerations when you configure zonal autoshift <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.considerations.html>`__ in the Amazon Application Recovery Controller Developer Guide.

      

    
      - **type** *(string) --* **[REQUIRED]** 

        The type of alarm specified for a practice run. You can only specify Amazon CloudWatch alarms for practice runs, so the only valid value is ``CLOUDWATCH``.

        

      
      - **alarmIdentifier** *(string) --* **[REQUIRED]** 

        The Amazon Resource Name (ARN) for an Amazon CloudWatch alarm that you specify as a control condition for a practice run.

        

      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'arn': 'string',
          'name': 'string',
          'zonalAutoshiftStatus': 'ENABLED'|'DISABLED',
          'practiceRunConfiguration': {
              'blockingAlarms': [
                  {
                      'type': 'CLOUDWATCH',
                      'alarmIdentifier': 'string'
                  },
              ],
              'outcomeAlarms': [
                  {
                      'type': 'CLOUDWATCH',
                      'alarmIdentifier': 'string'
                  },
              ],
              'blockedWindows': [
                  'string',
              ],
              'allowedWindows': [
                  'string',
              ],
              'blockedDates': [
                  'string',
              ]
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **arn** *(string) --* 

        The Amazon Resource Name (ARN) of the resource that you updated the practice run for.

        
      

      - **name** *(string) --* 

        The name of the resource that you updated the practice run for.

        
      

      - **zonalAutoshiftStatus** *(string) --* 

        The zonal autoshift status for the resource that you updated the practice run for.

        
      

      - **practiceRunConfiguration** *(dict) --* 

        The practice run configuration that was updated.

        
        

        - **blockingAlarms** *(list) --* 

          *Blocking alarms* for practice runs are optional alarms that you can specify that block practice runs when one or more of the alarms is in an ``ALARM`` state.

          
          

          - *(dict) --* 

            A control condition is an alarm that you specify for a practice run. When you configure practice runs with zonal autoshift for a resource, you specify Amazon CloudWatch alarms, which you create in CloudWatch to use with the practice run. The alarms that you specify are an *outcome alarm*, to monitor application health during practice runs and, optionally, a *blocking alarm*, to block practice runs from starting or to interrupt a practice run in progress.

             

            Control condition alarms do not apply for autoshifts.

             

            For more information, see `Considerations when you configure zonal autoshift <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.considerations.html>`__ in the Amazon Application Recovery Controller Developer Guide.

            
            

            - **type** *(string) --* 

              The type of alarm specified for a practice run. You can only specify Amazon CloudWatch alarms for practice runs, so the only valid value is ``CLOUDWATCH``.

              
            

            - **alarmIdentifier** *(string) --* 

              The Amazon Resource Name (ARN) for an Amazon CloudWatch alarm that you specify as a control condition for a practice run.

              
        
      
        

        - **outcomeAlarms** *(list) --* 

          *Outcome alarms* for practice runs are alarms that you specify that end a practice run when one or more of the alarms is in an ``ALARM`` state.

          
          

          - *(dict) --* 

            A control condition is an alarm that you specify for a practice run. When you configure practice runs with zonal autoshift for a resource, you specify Amazon CloudWatch alarms, which you create in CloudWatch to use with the practice run. The alarms that you specify are an *outcome alarm*, to monitor application health during practice runs and, optionally, a *blocking alarm*, to block practice runs from starting or to interrupt a practice run in progress.

             

            Control condition alarms do not apply for autoshifts.

             

            For more information, see `Considerations when you configure zonal autoshift <https://docs.aws.amazon.com/r53recovery/latest/dg/arc-zonal-autoshift.considerations.html>`__ in the Amazon Application Recovery Controller Developer Guide.

            
            

            - **type** *(string) --* 

              The type of alarm specified for a practice run. You can only specify Amazon CloudWatch alarms for practice runs, so the only valid value is ``CLOUDWATCH``.

              
            

            - **alarmIdentifier** *(string) --* 

              The Amazon Resource Name (ARN) for an Amazon CloudWatch alarm that you specify as a control condition for a practice run.

              
        
      
        

        - **blockedWindows** *(list) --* 

          An array of one or more windows of days and times that you can block ARC from starting practice runs for a resource.

           

          Specify the blocked windows in UTC, using the format ``DAY:HH:MM-DAY:HH:MM``, separated by spaces. For example, ``MON:18:30-MON:19:30 TUE:18:30-TUE:19:30``.

           

          The ``blockedWindows`` have to start and end on the same day. Windows that span multiple days aren't supported.

          
          

          - *(string) --* 
      
        

        - **allowedWindows** *(list) --* 

          An array of one or more windows of days and times that you can allow ARC to start practice runs for a resource.

           

          For example, say you want to allow practice runs only on Wednesdays and Fridays from noon to 5 p.m. For this scenario, you could set the following recurring days and times as allowed windows, for example: ``Wed-12:00-Wed:17:00 Fri-12:00-Fri:17:00``.

           

          The ``allowedWindows`` have to start and end on the same day. Windows that span multiple days aren't supported.

          
          

          - *(string) --* 
      
        

        - **blockedDates** *(list) --* 

          An array of one or more dates that you can specify when Amazon Web Services does not start practice runs for a resource.

           

          Specify blocked dates, in UTC, in the format ``YYYY-MM-DD``, separated by spaces.

          
          

          - *(string) --* 
      
    
  
  **Exceptions**
  
  *   :py:class:`ARCZonalShift.Client.exceptions.InternalServerException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.ConflictException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.ThrottlingException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`ARCZonalShift.Client.exceptions.ValidationException`

  