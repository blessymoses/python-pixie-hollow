:doc:`DataZone <../../datazone>` / Client / search_listings

***************
search_listings
***************



.. py:method:: DataZone.Client.search_listings(**kwargs)

  

  Searches listings in Amazon DataZone.

   

  SearchListings is a powerful capability that enables users to discover and explore published assets and data products across their organization. It provides both basic and advanced search functionality, allowing users to find resources based on names, descriptions, metadata, and other attributes. SearchListings also supports filtering using various criteria such as creation date, owner, or status. This API is essential for making the wealth of data resources in an organization discoverable and usable, helping users find the right data for their needs quickly and efficiently.

   

  SearchListings returns results in a paginated format. When the result set is large, the response will include a nextToken, which can be used to retrieve the next page of results.

   

  The SearchListings API gives users flexibility in specifying what kind of search is run.

   

  To run a standard free-text search, the ``searchText`` parameter must be supplied. By default, all searchable fields are indexed for semantic search and will return semantic matches for SearchListings queries. To prevent semantic search indexing for a custom form attribute, see the `CreateFormType API documentation <https://docs.aws.amazon.com/datazone/latest/APIReference/API_CreateFormType.html>`__. To run a lexical search query, enclose the query with double quotes (""). This will disable semantic search even for fields that have semantic search enabled and will only return results that contain the keywords wrapped by double quotes (order of tokens in the query is not enforced). Free-text search is supported for all attributes annotated with @amazon.datazone#searchable.

   

  To run a filtered search, provide filter clause using the ``filters`` parameter. To filter on glossary terms, use the special attribute ``__DataZoneGlossaryTerms``. To filter on an indexed numeric attribute (i.e., a numeric attribute annotated with ``@amazon.datazone#sortable``), provide a filter using the ``intValue`` parameter. The filters parameter can also be used to run more advanced free-text searches that target specific attributes (attributes must be annotated with ``@amazon.datazone#searchable`` for free-text search). Create/update timestamp filtering is supported using the special ``creationTime``/ ``lastUpdatedTime`` attributes. Filter types can be mixed and matched to power complex queries.

   

  To find out whether an attribute has been annotated and indexed for a given search type, use the GetFormType API to retrieve the form containing the attribute.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/datazone-2018-05-10/SearchListings>`_  


  **Request Syntax**
  ::

    response = client.search_listings(
        domainIdentifier='string',
        searchText='string',
        searchIn=[
            {
                'attribute': 'string'
            },
        ],
        maxResults=123,
        nextToken='string',
        filters={
            'filter': {
                'attribute': 'string',
                'value': 'string',
                'intValue': 123,
                'operator': 'EQ'|'LE'|'LT'|'GE'|'GT'|'TEXT_SEARCH'
            },
            'and': [
                {'... recursive ...'},
            ],
            'or': [
                {'... recursive ...'},
            ]
        },
        aggregations=[
            {
                'attribute': 'string',
                'displayValue': 'string'
            },
        ],
        sort={
            'attribute': 'string',
            'order': 'ASCENDING'|'DESCENDING'
        },
        additionalAttributes=[
            'FORMS'|'TIME_SERIES_DATA_POINT_FORMS'|'TEXT_MATCH_RATIONALE',
        ]
    )
    
  :type domainIdentifier: string
  :param domainIdentifier: **[REQUIRED]** 

    The identifier of the domain in which to search listings.

    

  
  :type searchText: string
  :param searchText: 

    Specifies the text for which to search.

    

  
  :type searchIn: list
  :param searchIn: 

    The details of the search.

    

  
    - *(dict) --* 

      The details of the search.

      

    
      - **attribute** *(string) --* **[REQUIRED]** 

        The search attribute.

        

      
    

  :type maxResults: integer
  :param maxResults: 

    The maximum number of results to return in a single call to ``SearchListings``. When the number of results to be listed is greater than the value of ``MaxResults``, the response contains a ``NextToken`` value that you can use in a subsequent call to ``SearchListings`` to list the next set of results.

    

  
  :type nextToken: string
  :param nextToken: 

    When the number of results is greater than the default value for the ``MaxResults`` parameter, or if you explicitly specify a value for ``MaxResults`` that is less than the number of results, the response includes a pagination token named ``NextToken``. You can specify this ``NextToken`` value in a subsequent call to ``SearchListings`` to list the next set of results.

    

  
  :type filters: dict
  :param filters: 

    Specifies the filters for the search of listings.

    .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``filter``, ``and``, ``or``. 

  
    - **filter** *(dict) --* 

      A search filter in Amazon DataZone.

      

    
      - **attribute** *(string) --* **[REQUIRED]** 

        A search filter attribute in Amazon DataZone.

        

      
      - **value** *(string) --* 

        A search filter string value in Amazon DataZone.

        

      
      - **intValue** *(integer) --* 

        A search filter integer value in Amazon DataZone.

        

      
      - **operator** *(string) --* 

        Specifies the search filter operator.

        

      
    
    - **and** *(list) --* 

      The 'and' search filter clause in Amazon DataZone.

      

    
      - *(dict) --* 

        A search filter clause in Amazon DataZone.

        .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``filter``, ``and``, ``or``. 

      
  
    - **or** *(list) --* 

      The 'or' search filter clause in Amazon DataZone.

      

    
      - *(dict) --* 

        A search filter clause in Amazon DataZone.

        .. note::    This is a Tagged Union structure. Only one of the     following top level keys can be set: ``filter``, ``and``, ``or``. 

      
  
  
  :type aggregations: list
  :param aggregations: 

    Enables you to specify one or more attributes to compute and return counts grouped by field values.

    

  
    - *(dict) --* 

      An aggregation list item.

      

    
      - **attribute** *(string) --* **[REQUIRED]** 

        An attribute on which to compute aggregations.

        

      
      - **displayValue** *(string) --* 

        The display value of the aggregation list item. Supported values include ``value`` and ``glossaryTerm.name``.

        

      
    

  :type sort: dict
  :param sort: 

    Specifies the way for sorting the search results.

    

  
    - **attribute** *(string) --* **[REQUIRED]** 

      The attribute detail of the way to sort search results.

      

    
    - **order** *(string) --* 

      The order detail of the wya to sort search results.

      

    
  
  :type additionalAttributes: list
  :param additionalAttributes: 

    Specifies additional attributes for the search.

    

  
    - *(string) --* 

    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'items': [
              {
                  'assetListing': {
                      'listingId': 'string',
                      'listingRevision': 'string',
                      'name': 'string',
                      'entityId': 'string',
                      'entityRevision': 'string',
                      'entityType': 'string',
                      'description': 'string',
                      'createdAt': datetime(2015, 1, 1),
                      'listingCreatedBy': 'string',
                      'listingUpdatedBy': 'string',
                      'glossaryTerms': [
                          {
                              'name': 'string',
                              'shortDescription': 'string'
                          },
                      ],
                      'governedGlossaryTerms': [
                          {
                              'name': 'string',
                              'shortDescription': 'string'
                          },
                      ],
                      'owningProjectId': 'string',
                      'additionalAttributes': {
                          'forms': 'string',
                          'matchRationale': [
                              {
                                  'textMatches': [
                                      {
                                          'attribute': 'string',
                                          'text': 'string',
                                          'matchOffsets': [
                                              {
                                                  'startOffset': 123,
                                                  'endOffset': 123
                                              },
                                          ]
                                      },
                                  ]
                              },
                          ],
                          'latestTimeSeriesDataPointForms': [
                              {
                                  'formName': 'string',
                                  'typeIdentifier': 'string',
                                  'typeRevision': 'string',
                                  'timestamp': datetime(2015, 1, 1),
                                  'contentSummary': 'string',
                                  'id': 'string'
                              },
                          ]
                      }
                  },
                  'dataProductListing': {
                      'listingId': 'string',
                      'listingRevision': 'string',
                      'name': 'string',
                      'entityId': 'string',
                      'entityRevision': 'string',
                      'description': 'string',
                      'createdAt': datetime(2015, 1, 1),
                      'listingCreatedBy': 'string',
                      'listingUpdatedBy': 'string',
                      'glossaryTerms': [
                          {
                              'name': 'string',
                              'shortDescription': 'string'
                          },
                      ],
                      'owningProjectId': 'string',
                      'additionalAttributes': {
                          'forms': 'string',
                          'matchRationale': [
                              {
                                  'textMatches': [
                                      {
                                          'attribute': 'string',
                                          'text': 'string',
                                          'matchOffsets': [
                                              {
                                                  'startOffset': 123,
                                                  'endOffset': 123
                                              },
                                          ]
                                      },
                                  ]
                              },
                          ]
                      },
                      'items': [
                          {
                              'listingId': 'string',
                              'listingRevision': 'string',
                              'glossaryTerms': [
                                  {
                                      'name': 'string',
                                      'shortDescription': 'string'
                                  },
                              ]
                          },
                      ]
                  }
              },
          ],
          'nextToken': 'string',
          'totalMatchCount': 123,
          'aggregates': [
              {
                  'attribute': 'string',
                  'displayValue': 'string',
                  'items': [
                      {
                          'value': 'string',
                          'count': 123,
                          'displayValue': 'string'
                      },
                  ]
              },
          ]
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **items** *(list) --* 

        The results of the ``SearchListings`` action.

        
        

        - *(dict) --* 

          The details of the results of the ``SearchListings`` action.

          .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``assetListing``, ``dataProductListing``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


        
          

          - **assetListing** *(dict) --* 

            The asset listing included in the results of the ``SearchListings`` action.

            
            

            - **listingId** *(string) --* 

              The identifier of the listing (asset published in Amazon DataZone catalog).

              
            

            - **listingRevision** *(string) --* 

              The revision of the listing (asset published in Amazon DataZone catalog).

              
            

            - **name** *(string) --* 

              The name of the inventory asset.

              
            

            - **entityId** *(string) --* 

              The identifier of the inventory asset.

              
            

            - **entityRevision** *(string) --* 

              The revision of the inventory asset.

              
            

            - **entityType** *(string) --* 

              The type of the inventory asset.

              
            

            - **description** *(string) --* 

              The description of an asset published in an Amazon DataZone catalog.

              
            

            - **createdAt** *(datetime) --* 

              The timestamp of when an asset published in an Amazon DataZone catalog was created.

              
            

            - **listingCreatedBy** *(string) --* 

              The Amazon DataZone user who created the listing.

              
            

            - **listingUpdatedBy** *(string) --* 

              The Amazon DataZone user who updated the listing.

              
            

            - **glossaryTerms** *(list) --* 

              Glossary terms attached to the inventory asset.

              
              

              - *(dict) --* 

                Details of a glossary term attached to the inventory asset.

                
                

                - **name** *(string) --* 

                  The name of a glossary term attached to the inventory asset.

                  
                

                - **shortDescription** *(string) --* 

                  The shoft description of a glossary term attached to the inventory asset.

                  
            
          
            

            - **governedGlossaryTerms** *(list) --* 

              The restricted glossary terms associated with an asset.

              
              

              - *(dict) --* 

                Details of a glossary term attached to the inventory asset.

                
                

                - **name** *(string) --* 

                  The name of a glossary term attached to the inventory asset.

                  
                

                - **shortDescription** *(string) --* 

                  The shoft description of a glossary term attached to the inventory asset.

                  
            
          
            

            - **owningProjectId** *(string) --* 

              The identifier of the project that owns the inventory asset.

              
            

            - **additionalAttributes** *(dict) --* 

              The additional attributes of an asset published in an Amazon DataZone catalog.

              
              

              - **forms** *(string) --* 

                The metadata forms that form additional attributes of the metadata asset.

                
              

              - **matchRationale** *(list) --* 

                List of rationales indicating why this item was matched by search.

                
                

                - *(dict) --* 

                  A rationale indicating why this item was matched by search.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``textMatches``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


                
                  

                  - **textMatches** *(list) --* 

                    A list of TextMatchItems.

                    
                    

                    - *(dict) --* 

                      A structure indicating matched terms for an attribute.

                      
                      

                      - **attribute** *(string) --* 

                        The name of the attribute.

                        
                      

                      - **text** *(string) --* 

                        Snippet of attribute text containing highlighted content.

                        
                      

                      - **matchOffsets** *(list) --* 

                        List of offsets indicating matching terms in the TextMatchItem text.

                        
                        

                        - *(dict) --* 

                          The offset of a matched term.

                          
                          

                          - **startOffset** *(integer) --* 

                            The 0-indexed number indicating the start position (inclusive) of a matched term.

                            
                          

                          - **endOffset** *(integer) --* 

                            The 0-indexed number indicating the end position (exclusive) of a matched term.

                            
                      
                    
                  
                
              
            
              

              - **latestTimeSeriesDataPointForms** *(list) --* 

                The latest time series data points forms included in the additional attributes of an asset.

                
                

                - *(dict) --* 

                  The summary of the time series data points form.

                  
                  

                  - **formName** *(string) --* 

                    The name of the time series data points summary form.

                    
                  

                  - **typeIdentifier** *(string) --* 

                    The type ID of the time series data points summary form.

                    
                  

                  - **typeRevision** *(string) --* 

                    The type revision of the time series data points summary form.

                    
                  

                  - **timestamp** *(datetime) --* 

                    The timestamp of the time series data points summary form.

                    
                  

                  - **contentSummary** *(string) --* 

                    The content of the summary of the time series data points form.

                    
                  

                  - **id** *(string) --* 

                    The ID of the time series data points summary form.

                    
              
            
          
        
          

          - **dataProductListing** *(dict) --* 

            The data product listing.

            
            

            - **listingId** *(string) --* 

              The ID of the listing.

              
            

            - **listingRevision** *(string) --* 

              The revision of the listing.

              
            

            - **name** *(string) --* 

              The name of the asset of the data product.

              
            

            - **entityId** *(string) --* 

              The entity ID of the asset of the asset of the data product.

              
            

            - **entityRevision** *(string) --* 

              The revision of the asset of the asset of the data product.

              
            

            - **description** *(string) --* 

              The description of the asset of the asset of the data product.

              
            

            - **createdAt** *(datetime) --* 

              The timestamp at which the asset of the data product listing was created.

              
            

            - **listingCreatedBy** *(string) --* 

              The timestamp at which the listing was created.

              
            

            - **listingUpdatedBy** *(string) --* 

              The user who updated the listing.

              
            

            - **glossaryTerms** *(list) --* 

              The glossary terms of the asset of the asset of the data product.

              
              

              - *(dict) --* 

                Details of a glossary term attached to the inventory asset.

                
                

                - **name** *(string) --* 

                  The name of a glossary term attached to the inventory asset.

                  
                

                - **shortDescription** *(string) --* 

                  The shoft description of a glossary term attached to the inventory asset.

                  
            
          
            

            - **owningProjectId** *(string) --* 

              The ID of the owning project of the asset of the data product.

              
            

            - **additionalAttributes** *(dict) --* 

              The additional attributes of the asset of the data product.

              
              

              - **forms** *(string) --* 

                The metadata forms of the asset of the data product.

                
              

              - **matchRationale** *(list) --* 

                List of rationales indicating why this item was matched by search.

                
                

                - *(dict) --* 

                  A rationale indicating why this item was matched by search.

                  .. note::    This is a Tagged Union structure. Only one of the     following top level keys will be set: ``textMatches``.     If a client receives an unknown member it will     set ``SDK_UNKNOWN_MEMBER`` as the top level key,     which maps to the name or tag of the unknown     member. The structure of ``SDK_UNKNOWN_MEMBER`` is     as follows::

                                    'SDK_UNKNOWN_MEMBER': {'name': 'UnknownMemberName'}


                
                  

                  - **textMatches** *(list) --* 

                    A list of TextMatchItems.

                    
                    

                    - *(dict) --* 

                      A structure indicating matched terms for an attribute.

                      
                      

                      - **attribute** *(string) --* 

                        The name of the attribute.

                        
                      

                      - **text** *(string) --* 

                        Snippet of attribute text containing highlighted content.

                        
                      

                      - **matchOffsets** *(list) --* 

                        List of offsets indicating matching terms in the TextMatchItem text.

                        
                        

                        - *(dict) --* 

                          The offset of a matched term.

                          
                          

                          - **startOffset** *(integer) --* 

                            The 0-indexed number indicating the start position (inclusive) of a matched term.

                            
                          

                          - **endOffset** *(integer) --* 

                            The 0-indexed number indicating the end position (exclusive) of a matched term.

                            
                      
                    
                  
                
              
            
          
            

            - **items** *(list) --* 

              The data of the asset of the data product.

              
              

              - *(dict) --* 

                The results of the data product summary.

                
                

                - **listingId** *(string) --* 

                  The ID of the data product listing.

                  
                

                - **listingRevision** *(string) --* 

                  The revision of the data product listing.

                  
                

                - **glossaryTerms** *(list) --* 

                  The glossary terms of the data product listing.

                  
                  

                  - *(dict) --* 

                    Details of a glossary term attached to the inventory asset.

                    
                    

                    - **name** *(string) --* 

                      The name of a glossary term attached to the inventory asset.

                      
                    

                    - **shortDescription** *(string) --* 

                      The shoft description of a glossary term attached to the inventory asset.

                      
                
              
            
          
        
      
    
      

      - **nextToken** *(string) --* 

        When the number of results is greater than the default value for the ``MaxResults`` parameter, or if you explicitly specify a value for ``MaxResults`` that is less than the number of results, the response includes a pagination token named ``NextToken``. You can specify this ``NextToken`` value in a subsequent call to ``SearchListings`` to list the next set of results.

        
      

      - **totalMatchCount** *(integer) --* 

        Total number of search results.

        
      

      - **aggregates** *(list) --* 

        Contains computed counts grouped by field values based on the requested aggregation attributes for the matching listings.

        
        

        - *(dict) --* 

          The aggregation for an attribute.

          
          

          - **attribute** *(string) --* 

            The attribute for this aggregation.

            
          

          - **displayValue** *(string) --* 

            The display value of the aggregation output item.

            
          

          - **items** *(list) --* 

            A list of aggregation output items.

            
            

            - *(dict) --* 

              An aggregation output item.

              
              

              - **value** *(string) --* 

                The attribute value of the aggregation output item.

                
              

              - **count** *(integer) --* 

                The count of the aggregation output item.

                
              

              - **displayValue** *(string) --* 

                The display value of the aggregation. If the attribute being aggregated corresponds to the id of a public resource, the service automatically resolves the id to the provided display value.

                
          
        
      
    
  
  **Exceptions**
  
  *   :py:class:`DataZone.Client.exceptions.InternalServerException`

  
  *   :py:class:`DataZone.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`DataZone.Client.exceptions.ThrottlingException`

  
  *   :py:class:`DataZone.Client.exceptions.ValidationException`

  
  *   :py:class:`DataZone.Client.exceptions.UnauthorizedException`

  