:doc:`S3 <../../s3>` / Client / create_bucket_metadata_table_configuration

******************************************
create_bucket_metadata_table_configuration
******************************************



.. py:method:: S3.Client.create_bucket_metadata_table_configuration(**kwargs)

  

  .. warning::

    

    We recommend that you create your S3 Metadata configurations by using the V2 `CreateBucketMetadataConfiguration <https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateBucketMetadataConfiguration.html>`__ API operation. We no longer recommend using the V1 ``CreateBucketMetadataTableConfiguration`` API operation.

     

    If you created your S3 Metadata configuration before July 15, 2025, we recommend that you delete and re-create your configuration by using `CreateBucketMetadataConfiguration <https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateBucketMetadataConfiguration.html>`__ so that you can expire journal table records and create a live inventory table.

     

   

  Creates a V1 S3 Metadata configuration for a general purpose bucket. For more information, see `Accelerating data discovery with S3 Metadata <https://docs.aws.amazon.com/AmazonS3/latest/userguide/metadata-tables-overview.html>`__ in the *Amazon S3 User Guide*.

    Permissions  

  To use this operation, you must have the following permissions. For more information, see `Setting up permissions for configuring metadata tables <https://docs.aws.amazon.com/AmazonS3/latest/userguide/metadata-tables-permissions.html>`__ in the *Amazon S3 User Guide*.

   

  If you want to encrypt your metadata tables with server-side encryption with Key Management Service (KMS) keys (SSE-KMS), you need additional permissions. For more information, see `Setting up permissions for configuring metadata tables <https://docs.aws.amazon.com/AmazonS3/latest/userguide/metadata-tables-permissions.html>`__ in the *Amazon S3 User Guide*.

   

  If you also want to integrate your table bucket with Amazon Web Services analytics services so that you can query your metadata table, you need additional permissions. For more information, see `Integrating Amazon S3 Tables with Amazon Web Services analytics services <https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables-integrating-aws.html>`__ in the *Amazon S3 User Guide*.

   

  
  * ``s3:CreateBucketMetadataTableConfiguration``
   
  * ``s3tables:CreateNamespace``
   
  * ``s3tables:GetTable``
   
  * ``s3tables:CreateTable``
   
  * ``s3tables:PutTablePolicy``
  

     

  The following operations are related to ``CreateBucketMetadataTableConfiguration``:

   

  
  * `DeleteBucketMetadataTableConfiguration <https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketMetadataTableConfiguration.html>`__
   
  * `GetBucketMetadataTableConfiguration <https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketMetadataTableConfiguration.html>`__
  

   

  .. warning::

     

    You must URL encode any signed header values that contain spaces. For example, if your header value is ``my file.txt``, containing two spaces after ``my``, you must URL encode this value to ``my%20%20file.txt``.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/s3-2006-03-01/CreateBucketMetadataTableConfiguration>`_  


  **Request Syntax**
  ::

    response = client.create_bucket_metadata_table_configuration(
        Bucket='string',
        ContentMD5='string',
        ChecksumAlgorithm='CRC32'|'CRC32C'|'SHA1'|'SHA256'|'CRC64NVME',
        MetadataTableConfiguration={
            'S3TablesDestination': {
                'TableBucketArn': 'string',
                'TableName': 'string'
            }
        },
        ExpectedBucketOwner='string'
    )
    
  :type Bucket: string
  :param Bucket: **[REQUIRED]** 

    The general purpose bucket that you want to create the metadata table configuration for.

    

  
  :type ContentMD5: string
  :param ContentMD5: 

    The ``Content-MD5`` header for the metadata table configuration.

    

  
  :type ChecksumAlgorithm: string
  :param ChecksumAlgorithm: 

    The checksum algorithm to use with your metadata table configuration.

    

  
  :type MetadataTableConfiguration: dict
  :param MetadataTableConfiguration: **[REQUIRED]** 

    The contents of your metadata table configuration.

    

  
    - **S3TablesDestination** *(dict) --* **[REQUIRED]** 

      The destination information for the metadata table configuration. The destination table bucket must be in the same Region and Amazon Web Services account as the general purpose bucket. The specified metadata table name must be unique within the ``aws_s3_metadata`` namespace in the destination table bucket.

      

    
      - **TableBucketArn** *(string) --* **[REQUIRED]** 

        The Amazon Resource Name (ARN) for the table bucket that's specified as the destination in the metadata table configuration. The destination table bucket must be in the same Region and Amazon Web Services account as the general purpose bucket.

        

      
      - **TableName** *(string) --* **[REQUIRED]** 

        The name for the metadata table in your metadata table configuration. The specified metadata table name must be unique within the ``aws_s3_metadata`` namespace in the destination table bucket.

        

      
    
  
  :type ExpectedBucketOwner: string
  :param ExpectedBucketOwner: 

    The expected owner of the general purpose bucket that corresponds to your metadata table configuration.

    

  
  
  :returns: None