:doc:`S3 <../../s3>` / Client / list_directory_buckets

**********************
list_directory_buckets
**********************



.. py:method:: S3.Client.list_directory_buckets(**kwargs)

  

  Returns a list of all Amazon S3 directory buckets owned by the authenticated sender of the request. For more information about directory buckets, see `Directory buckets <https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-overview.html>`__ in the *Amazon S3 User Guide*.

   

  .. note::

    

    **Directory buckets** - For directory buckets, you must make requests for this API operation to the Regional endpoint. These endpoints support path-style requests in the format ``https://s3express-control.region-code.amazonaws.com/bucket-name ``. Virtual-hosted-style requests aren't supported. For more information about endpoints in Availability Zones, see `Regional and Zonal endpoints for directory buckets in Availability Zones <https://docs.aws.amazon.com/AmazonS3/latest/userguide/endpoint-directory-buckets-AZ.html>`__ in the *Amazon S3 User Guide*. For more information about endpoints in Local Zones, see `Concepts for directory buckets in Local Zones <https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-lzs-for-directory-buckets.html>`__ in the *Amazon S3 User Guide*.

    

    Permissions  

  You must have the ``s3express:ListAllMyDirectoryBuckets`` permission in an IAM identity-based policy instead of a bucket policy. Cross-account access to this API operation isn't supported. This operation can only be performed by the Amazon Web Services account that owns the resource. For more information about directory bucket policies and permissions, see `Amazon Web Services Identity and Access Management (IAM) for S3 Express One Zone <https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-express-security-iam.html>`__ in the *Amazon S3 User Guide*.

    HTTP Host header syntax  

  **Directory buckets** - The HTTP Host header syntax is ``s3express-control.region.amazonaws.com``.

     

  .. note::

    

    The ``BucketRegion`` response element is not part of the ``ListDirectoryBuckets`` Response Syntax.

    

   

  .. warning::

     

    You must URL encode any signed header values that contain spaces. For example, if your header value is ``my file.txt``, containing two spaces after ``my``, you must URL encode this value to ``my%20%20file.txt``.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/s3-2006-03-01/ListDirectoryBuckets>`_  


  **Request Syntax**
  ::

    response = client.list_directory_buckets(
        ContinuationToken='string',
        MaxDirectoryBuckets=123
    )
    
  :type ContinuationToken: string
  :param ContinuationToken: 

    ``ContinuationToken`` indicates to Amazon S3 that the list is being continued on buckets in this account with a token. ``ContinuationToken`` is obfuscated and is not a real bucket name. You can use this ``ContinuationToken`` for the pagination of the list results.

    

  
  :type MaxDirectoryBuckets: integer
  :param MaxDirectoryBuckets: 

    Maximum number of buckets to be returned in response. When the number is more than the count of buckets that are owned by an Amazon Web Services account, return all the buckets in response.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Buckets': [
              {
                  'Name': 'string',
                  'CreationDate': datetime(2015, 1, 1),
                  'BucketRegion': 'string',
                  'BucketArn': 'string'
              },
          ],
          'ContinuationToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Buckets** *(list) --* 

        The list of buckets owned by the requester.

        
        

        - *(dict) --* 

          In terms of implementation, a Bucket is a resource.

          
          

          - **Name** *(string) --* 

            The name of the bucket.

            
          

          - **CreationDate** *(datetime) --* 

            Date the bucket was created. This date can change when making changes to your bucket, such as editing its bucket policy.

            
          

          - **BucketRegion** *(string) --* 

            ``BucketRegion`` indicates the Amazon Web Services region where the bucket is located. If the request contains at least one valid parameter, it is included in the response.

            
          

          - **BucketArn** *(string) --* 

            The Amazon Resource Name (ARN) of the S3 bucket. ARNs uniquely identify Amazon Web Services resources across all of Amazon Web Services.

             

            .. note::

              

              This parameter is only supported for S3 directory buckets. For more information, see `Using tags with directory buckets <https://docs.aws.amazon.com/AmazonS3/latest/userguide/directory-buckets-tagging.html>`__.

              

            
      
    
      

      - **ContinuationToken** *(string) --* 

        If ``ContinuationToken`` was sent with the request, it is included in the response. You can use the returned ``ContinuationToken`` for pagination of the list response.

        
  