:doc:`EMR <../../emr>` / Client / set_unhealthy_node_replacement

******************************
set_unhealthy_node_replacement
******************************



.. py:method:: EMR.Client.set_unhealthy_node_replacement(**kwargs)

  

  Specify whether to enable unhealthy node replacement, which lets Amazon EMR gracefully replace core nodes on a cluster if any nodes become unhealthy. For example, a node becomes unhealthy if disk usage is above 90%. If unhealthy node replacement is on and ``TerminationProtected`` are off, Amazon EMR immediately terminates the unhealthy core nodes. To use unhealthy node replacement and retain unhealthy core nodes, use to turn on termination protection. In such cases, Amazon EMR adds the unhealthy nodes to a denylist, reducing job interruptions and failures.

   

  If unhealthy node replacement is on, Amazon EMR notifies YARN and other applications on the cluster to stop scheduling tasks with these nodes, moves the data, and then terminates the nodes.

   

  For more information, see `graceful node replacement <https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-plan-node-replacement.html>`__ in the *Amazon EMR Management Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/elasticmapreduce-2009-03-31/SetUnhealthyNodeReplacement>`_  


  **Request Syntax**
  ::

    response = client.set_unhealthy_node_replacement(
        JobFlowIds=[
            'string',
        ],
        UnhealthyNodeReplacement=True|False
    )
    
  :type JobFlowIds: list
  :param JobFlowIds: **[REQUIRED]** 

    The list of strings that uniquely identify the clusters for which to turn on unhealthy node replacement. You can get these identifiers by running the  RunJobFlow or the  DescribeJobFlows operations.

    

  
    - *(string) --* 

    

  :type UnhealthyNodeReplacement: boolean
  :param UnhealthyNodeReplacement: **[REQUIRED]** 

    Indicates whether to turn on or turn off graceful unhealthy node replacement.

    

  
  
  :returns: None
  **Exceptions**
  
  *   :py:class:`EMR.Client.exceptions.InternalServerError`

  