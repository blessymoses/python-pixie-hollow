:doc:`Inspector <../../inspector>` / Client / list_assessment_run_agents

**************************
list_assessment_run_agents
**************************



.. py:method:: Inspector.Client.list_assessment_run_agents(**kwargs)

  

  Lists the agents of the assessment runs that are specified by the ARNs of the assessment runs.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/inspector-2016-02-16/ListAssessmentRunAgents>`_  


  **Request Syntax**
  ::

    response = client.list_assessment_run_agents(
        assessmentRunArn='string',
        filter={
            'agentHealths': [
                'HEALTHY'|'UNHEALTHY'|'UNKNOWN',
            ],
            'agentHealthCodes': [
                'IDLE'|'RUNNING'|'SHUTDOWN'|'UNHEALTHY'|'THROTTLED'|'UNKNOWN',
            ]
        },
        nextToken='string',
        maxResults=123
    )
    
  :type assessmentRunArn: string
  :param assessmentRunArn: **[REQUIRED]** 

    The ARN that specifies the assessment run whose agents you want to list.

    

  
  :type filter: dict
  :param filter: 

    You can use this parameter to specify a subset of data to be included in the action's response.

     

    For a record to match a filter, all specified filter attributes must match. When multiple values are specified for a filter attribute, any of the values can match.

    

  
    - **agentHealths** *(list) --* **[REQUIRED]** 

      The current health state of the agent. Values can be set to **HEALTHY** or **UNHEALTHY**.

      

    
      - *(string) --* 

      
  
    - **agentHealthCodes** *(list) --* **[REQUIRED]** 

      The detailed health state of the agent. Values can be set to **IDLE**, **RUNNING**, **SHUTDOWN**, **UNHEALTHY**, **THROTTLED**, and **UNKNOWN**.

      

    
      - *(string) --* 

      
  
  
  :type nextToken: string
  :param nextToken: 

    You can use this parameter when paginating results. Set the value of this parameter to null on your first call to the **ListAssessmentRunAgents** action. Subsequent calls to the action fill **nextToken** in the request with the value of **NextToken** from the previous response to continue listing data.

    

  
  :type maxResults: integer
  :param maxResults: 

    You can use this parameter to indicate the maximum number of items that you want in the response. The default value is 10. The maximum value is 500.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'assessmentRunAgents': [
              {
                  'agentId': 'string',
                  'assessmentRunArn': 'string',
                  'agentHealth': 'HEALTHY'|'UNHEALTHY'|'UNKNOWN',
                  'agentHealthCode': 'IDLE'|'RUNNING'|'SHUTDOWN'|'UNHEALTHY'|'THROTTLED'|'UNKNOWN',
                  'agentHealthDetails': 'string',
                  'autoScalingGroup': 'string',
                  'telemetryMetadata': [
                      {
                          'messageType': 'string',
                          'count': 123,
                          'dataSize': 123
                      },
                  ]
              },
          ],
          'nextToken': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **assessmentRunAgents** *(list) --* 

        A list of ARNs that specifies the agents returned by the action.

        
        

        - *(dict) --* 

          Contains information about an Amazon Inspector agent. This data type is used as a response element in the  ListAssessmentRunAgents action.

          
          

          - **agentId** *(string) --* 

            The AWS account of the EC2 instance where the agent is installed.

            
          

          - **assessmentRunArn** *(string) --* 

            The ARN of the assessment run that is associated with the agent.

            
          

          - **agentHealth** *(string) --* 

            The current health state of the agent.

            
          

          - **agentHealthCode** *(string) --* 

            The detailed health state of the agent.

            
          

          - **agentHealthDetails** *(string) --* 

            The description for the agent health code.

            
          

          - **autoScalingGroup** *(string) --* 

            The Auto Scaling group of the EC2 instance that is specified by the agent ID.

            
          

          - **telemetryMetadata** *(list) --* 

            The Amazon Inspector application data metrics that are collected by the agent.

            
            

            - *(dict) --* 

              The metadata about the Amazon Inspector application data metrics collected by the agent. This data type is used as the response element in the  GetTelemetryMetadata action.

              
              

              - **messageType** *(string) --* 

                A specific type of behavioral data that is collected by the agent.

                
              

              - **count** *(integer) --* 

                The count of messages that the agent sends to the Amazon Inspector service.

                
              

              - **dataSize** *(integer) --* 

                The data size of messages that the agent sends to the Amazon Inspector service.

                
          
        
      
    
      

      - **nextToken** *(string) --* 

        When a response is generated, if there is more data to be listed, this parameter is present in the response and contains the value to use for the **nextToken** parameter in a subsequent pagination request. If there is no more data to be listed, this parameter is set to null.

        
  
  **Exceptions**
  
  *   :py:class:`Inspector.Client.exceptions.InternalException`

  
  *   :py:class:`Inspector.Client.exceptions.InvalidInputException`

  
  *   :py:class:`Inspector.Client.exceptions.AccessDeniedException`

  
  *   :py:class:`Inspector.Client.exceptions.NoSuchEntityException`

  

  **Examples**

  Lists the agents of the assessment runs that are specified by the ARNs of the assessment runs.
  ::

    response = client.list_assessment_run_agents(
        assessmentRunArn='arn:aws:inspector:us-west-2:123456789012:target/0-0kFIPusq/template/0-4r1V2mAw/run/0-MKkpXXPE',
        maxResults=123,
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'assessmentRunAgents': [
            {
                'agentHealth': 'HEALTHY',
                'agentHealthCode': 'RUNNING',
                'agentId': 'i-49113b93',
                'assessmentRunArn': 'arn:aws:inspector:us-west-2:123456789012:target/0-0kFIPusq/template/0-4r1V2mAw/run/0-MKkpXXPE',
                'telemetryMetadata': [
                    {
                        'count': 2,
                        'dataSize': 345,
                        'messageType': 'InspectorDuplicateProcess',
                    },
                    {
                        'count': 3,
                        'dataSize': 255,
                        'messageType': 'InspectorTimeEventMsg',
                    },
                    {
                        'count': 4,
                        'dataSize': 1082,
                        'messageType': 'InspectorNetworkInterface',
                    },
                    {
                        'count': 2,
                        'dataSize': 349,
                        'messageType': 'InspectorDnsEntry',
                    },
                    {
                        'count': 11,
                        'dataSize': 2514,
                        'messageType': 'InspectorDirectoryInfoMsg',
                    },
                    {
                        'count': 1,
                        'dataSize': 179,
                        'messageType': 'InspectorTcpV6ListeningPort',
                    },
                    {
                        'count': 101,
                        'dataSize': 10949,
                        'messageType': 'InspectorTerminal',
                    },
                    {
                        'count': 26,
                        'dataSize': 5916,
                        'messageType': 'InspectorUser',
                    },
                    {
                        'count': 282,
                        'dataSize': 32148,
                        'messageType': 'InspectorDynamicallyLoadedCodeModule',
                    },
                    {
                        'count': 18,
                        'dataSize': 10172,
                        'messageType': 'InspectorCreateProcess',
                    },
                    {
                        'count': 3,
                        'dataSize': 8001,
                        'messageType': 'InspectorProcessPerformance',
                    },
                    {
                        'count': 1,
                        'dataSize': 360,
                        'messageType': 'InspectorOperatingSystem',
                    },
                    {
                        'count': 6,
                        'dataSize': 546,
                        'messageType': 'InspectorStopProcess',
                    },
                    {
                        'count': 1,
                        'dataSize': 1553,
                        'messageType': 'InspectorInstanceMetaData',
                    },
                    {
                        'count': 2,
                        'dataSize': 434,
                        'messageType': 'InspectorTcpV4Connection',
                    },
                    {
                        'count': 474,
                        'dataSize': 2960322,
                        'messageType': 'InspectorPackageInfo',
                    },
                    {
                        'count': 3,
                        'dataSize': 2235,
                        'messageType': 'InspectorSystemPerformance',
                    },
                    {
                        'count': 105,
                        'dataSize': 46048,
                        'messageType': 'InspectorCodeModule',
                    },
                    {
                        'count': 1,
                        'dataSize': 182,
                        'messageType': 'InspectorUdpV6ListeningPort',
                    },
                    {
                        'count': 2,
                        'dataSize': 371,
                        'messageType': 'InspectorUdpV4ListeningPort',
                    },
                    {
                        'count': 18,
                        'dataSize': 8362,
                        'messageType': 'InspectorKernelModule',
                    },
                    {
                        'count': 29,
                        'dataSize': 48788,
                        'messageType': 'InspectorConfigurationInfo',
                    },
                    {
                        'count': 1,
                        'dataSize': 79,
                        'messageType': 'InspectorMonitoringStart',
                    },
                    {
                        'count': 5,
                        'dataSize': 0,
                        'messageType': 'InspectorSplitMsgBegin',
                    },
                    {
                        'count': 51,
                        'dataSize': 4593,
                        'messageType': 'InspectorGroup',
                    },
                    {
                        'count': 1,
                        'dataSize': 184,
                        'messageType': 'InspectorTcpV4ListeningPort',
                    },
                    {
                        'count': 1159,
                        'dataSize': 3146579,
                        'messageType': 'Total',
                    },
                    {
                        'count': 5,
                        'dataSize': 0,
                        'messageType': 'InspectorSplitMsgEnd',
                    },
                    {
                        'count': 1,
                        'dataSize': 612,
                        'messageType': 'InspectorLoadImageInProcess',
                    },
                ],
            },
        ],
        'nextToken': '1',
        'ResponseMetadata': {
            '...': '...',
        },
    }

  