:doc:`PI <../../pi>` / Client / get_performance_analysis_report

*******************************
get_performance_analysis_report
*******************************



.. py:method:: PI.Client.get_performance_analysis_report(**kwargs)

  

  Retrieves the report including the report ID, status, time details, and the insights with recommendations. The report status can be ``RUNNING``, ``SUCCEEDED``, or ``FAILED``. The insights include the ``description`` and ``recommendation`` fields.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/pi-2018-02-27/GetPerformanceAnalysisReport>`_  


  **Request Syntax**
  ::

    response = client.get_performance_analysis_report(
        ServiceType='RDS'|'DOCDB',
        Identifier='string',
        AnalysisReportId='string',
        TextFormat='PLAIN_TEXT'|'MARKDOWN',
        AcceptLanguage='EN_US'
    )
    
  :type ServiceType: string
  :param ServiceType: **[REQUIRED]** 

    The Amazon Web Services service for which Performance Insights will return metrics. Valid value is ``RDS``.

    

  
  :type Identifier: string
  :param Identifier: **[REQUIRED]** 

    An immutable identifier for a data source that is unique for an Amazon Web Services Region. Performance Insights gathers metrics from this data source. In the console, the identifier is shown as *ResourceID*. When you call ``DescribeDBInstances``, the identifier is returned as ``DbiResourceId``.

     

    To use a DB instance as a data source, specify its ``DbiResourceId`` value. For example, specify ``db-ABCDEFGHIJKLMNOPQRSTU1VW2X``.

    

  
  :type AnalysisReportId: string
  :param AnalysisReportId: **[REQUIRED]** 

    A unique identifier of the created analysis report. For example, ``report-12345678901234567``

    

  
  :type TextFormat: string
  :param TextFormat: 

    Indicates the text format in the report. The options are ``PLAIN_TEXT`` or ``MARKDOWN``. The default value is ``plain text``.

    

  
  :type AcceptLanguage: string
  :param AcceptLanguage: 

    The text language in the report. The default language is ``EN_US`` (English).

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'AnalysisReport': {
              'AnalysisReportId': 'string',
              'Identifier': 'string',
              'ServiceType': 'RDS'|'DOCDB',
              'CreateTime': datetime(2015, 1, 1),
              'StartTime': datetime(2015, 1, 1),
              'EndTime': datetime(2015, 1, 1),
              'Status': 'RUNNING'|'SUCCEEDED'|'FAILED',
              'Insights': [
                  {
                      'InsightId': 'string',
                      'InsightType': 'string',
                      'Context': 'CAUSAL'|'CONTEXTUAL',
                      'StartTime': datetime(2015, 1, 1),
                      'EndTime': datetime(2015, 1, 1),
                      'Severity': 'LOW'|'MEDIUM'|'HIGH',
                      'SupportingInsights': {'... recursive ...'},
                      'Description': 'string',
                      'Recommendations': [
                          {
                              'RecommendationId': 'string',
                              'RecommendationDescription': 'string'
                          },
                      ],
                      'InsightData': [
                          {
                              'PerformanceInsightsMetric': {
                                  'Metric': 'string',
                                  'DisplayName': 'string',
                                  'Dimensions': {
                                      'string': 'string'
                                  },
                                  'Filter': {
                                      'string': 'string'
                                  },
                                  'Value': 123.0
                              }
                          },
                      ],
                      'BaselineData': [
                          {
                              'PerformanceInsightsMetric': {
                                  'Metric': 'string',
                                  'DisplayName': 'string',
                                  'Dimensions': {
                                      'string': 'string'
                                  },
                                  'Filter': {
                                      'string': 'string'
                                  },
                                  'Value': 123.0
                              }
                          },
                      ]
                  },
              ]
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **AnalysisReport** *(dict) --* 

        The summary of the performance analysis report created for a time period.

        
        

        - **AnalysisReportId** *(string) --* 

          The name of the analysis report.

          
        

        - **Identifier** *(string) --* 

          The unique identifier of the analysis report.

          
        

        - **ServiceType** *(string) --* 

          List the tags for the Amazon Web Services service for which Performance Insights returns metrics. Valid values are as follows:

           

          
          * ``RDS``
           
          * ``DOCDB``
          

          
        

        - **CreateTime** *(datetime) --* 

          The time you created the analysis report.

          
        

        - **StartTime** *(datetime) --* 

          The analysis start time in the report.

          
        

        - **EndTime** *(datetime) --* 

          The analysis end time in the report.

          
        

        - **Status** *(string) --* 

          The status of the created analysis report.

          
        

        - **Insights** *(list) --* 

          The list of identified insights in the analysis report.

          
          

          - *(dict) --* 

            Retrieves the list of performance issues which are identified.

            
            

            - **InsightId** *(string) --* 

              The unique identifier for the insight. For example, ``insight-12345678901234567``.

              
            

            - **InsightType** *(string) --* 

              The type of insight. For example, ``HighDBLoad``, ``HighCPU``, or ``DominatingSQLs``.

              
            

            - **Context** *(string) --* 

              Indicates if the insight is causal or correlated insight.

              
            

            - **StartTime** *(datetime) --* 

              The start time of the insight. For example, ``2018-10-30T00:00:00Z``.

              
            

            - **EndTime** *(datetime) --* 

              The end time of the insight. For example, ``2018-10-30T00:00:00Z``.

              
            

            - **Severity** *(string) --* 

              The severity of the insight. The values are: ``Low``, ``Medium``, or ``High``.

              
            

            - **SupportingInsights** *(list) --* 

              List of supporting insights that provide additional factors for the insight.

              
            

            - **Description** *(string) --* 

              Description of the insight. For example: ``A high severity Insight found between 02:00 to 02:30, where there was an unusually high DB load 600x above baseline. Likely performance impact``.

              
            

            - **Recommendations** *(list) --* 

              List of recommendations for the insight. For example, ``Investigate the following SQLs that contributed to 100% of the total DBLoad during that time period: sql-id``.

              
              

              - *(dict) --* 

                The list of recommendations for the insight.

                
                

                - **RecommendationId** *(string) --* 

                  The unique identifier for the recommendation.

                  
                

                - **RecommendationDescription** *(string) --* 

                  The recommendation details to help resolve the performance issue. For example, ``Investigate the following SQLs that contributed to 100% of the total DBLoad during that time period: sql-id``

                  
            
          
            

            - **InsightData** *(list) --* 

              List of data objects containing metrics and references from the time range while generating the insight.

              
              

              - *(dict) --* 

                List of data objects which provide details about source metrics. This field can be used to determine the PI metric to render for the insight. This data type also includes static values for the metrics for the Insight that were calculated and included in text and annotations on the DB load chart.

                
                

                - **PerformanceInsightsMetric** *(dict) --* 

                  This field determines the Performance Insights metric to render for the insight. The ``name`` field refers to a Performance Insights metric.

                  
                  

                  - **Metric** *(string) --* 

                    The Performance Insights metric.

                    
                  

                  - **DisplayName** *(string) --* 

                    The Performance Insights metric name.

                    
                  

                  - **Dimensions** *(dict) --* 

                    A dimension map that contains the dimensions for this partition.

                    
                    

                    - *(string) --* 
                      

                      - *(string) --* 
                
              
                  

                  - **Filter** *(dict) --* 

                    The filter for the Performance Insights metric.

                    
                    

                    - *(string) --* 
                      

                      - *(string) --* 
                
              
                  

                  - **Value** *(float) --* 

                    The value of the metric. For example, ``9`` for ``db.load.avg``.

                    
              
            
          
            

            - **BaselineData** *(list) --* 

              Metric names and values from the timeframe used as baseline to generate the insight.

              
              

              - *(dict) --* 

                List of data objects which provide details about source metrics. This field can be used to determine the PI metric to render for the insight. This data type also includes static values for the metrics for the Insight that were calculated and included in text and annotations on the DB load chart.

                
                

                - **PerformanceInsightsMetric** *(dict) --* 

                  This field determines the Performance Insights metric to render for the insight. The ``name`` field refers to a Performance Insights metric.

                  
                  

                  - **Metric** *(string) --* 

                    The Performance Insights metric.

                    
                  

                  - **DisplayName** *(string) --* 

                    The Performance Insights metric name.

                    
                  

                  - **Dimensions** *(dict) --* 

                    A dimension map that contains the dimensions for this partition.

                    
                    

                    - *(string) --* 
                      

                      - *(string) --* 
                
              
                  

                  - **Filter** *(dict) --* 

                    The filter for the Performance Insights metric.

                    
                    

                    - *(string) --* 
                      

                      - *(string) --* 
                
              
                  

                  - **Value** *(float) --* 

                    The value of the metric. For example, ``9`` for ``db.load.avg``.

                    
              
            
          
        
      
    
  
  **Exceptions**
  
  *   :py:class:`PI.Client.exceptions.InvalidArgumentException`

  
  *   :py:class:`PI.Client.exceptions.InternalServiceError`

  
  *   :py:class:`PI.Client.exceptions.NotAuthorizedException`

  