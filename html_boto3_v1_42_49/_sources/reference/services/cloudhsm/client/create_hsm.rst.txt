:doc:`CloudHSM <../../cloudhsm>` / Client / create_hsm

**********
create_hsm
**********



.. py:method:: CloudHSM.Client.create_hsm(**kwargs)

  

  This is documentation for **AWS CloudHSM Classic**. For more information, see `AWS CloudHSM Classic FAQs <http://aws.amazon.com/cloudhsm/faqs-classic/>`__, the `AWS CloudHSM Classic User Guide <https://docs.aws.amazon.com/cloudhsm/classic/userguide/>`__, and the `AWS CloudHSM Classic API Reference <https://docs.aws.amazon.com/cloudhsm/classic/APIReference/>`__.

   

  **For information about the current version of AWS CloudHSM**, see `AWS CloudHSM <http://aws.amazon.com/cloudhsm/>`__, the `AWS CloudHSM User Guide <https://docs.aws.amazon.com/cloudhsm/latest/userguide/>`__, and the `AWS CloudHSM API Reference <https://docs.aws.amazon.com/cloudhsm/latest/APIReference/>`__.

   

  Creates an uninitialized HSM instance.

   

  There is an upfront fee charged for each HSM instance that you create with the ``CreateHsm`` operation. If you accidentally provision an HSM and want to request a refund, delete the instance using the  DeleteHsm operation, go to the `AWS Support Center <https://console.aws.amazon.com/support/home>`__, create a new case, and select **Account and Billing Support**.

   

  .. warning::

     

    It can take up to 20 minutes to create and provision an HSM. You can monitor the status of the HSM with the  DescribeHsm operation. The HSM is ready to be initialized when the status changes to ``RUNNING``.

    

  

  .. danger::

        This operation is deprecated and may not function as expected. This operation should not be used going forward and is only kept for the purpose of backwards compatiblity.


  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/cloudhsm-2014-05-30/CreateHsm>`_  


  **Request Syntax**
  ::

    response = client.create_hsm(
        SubnetId='string',
        SshKey='string',
        EniIp='string',
        IamRoleArn='string',
        ExternalId='string',
        SubscriptionType='PRODUCTION',
        ClientToken='string',
        SyslogIp='string'
    )
    
  :type SubnetId: string
  :param SubnetId: **[REQUIRED]** 

    The identifier of the subnet in your VPC in which to place the HSM.

    

  
  :type SshKey: string
  :param SshKey: **[REQUIRED]** 

    The SSH public key to install on the HSM.

    

  
  :type EniIp: string
  :param EniIp: 

    The IP address to assign to the HSM's ENI.

     

    If an IP address is not specified, an IP address will be randomly chosen from the CIDR range of the subnet.

    

  
  :type IamRoleArn: string
  :param IamRoleArn: **[REQUIRED]** 

    The ARN of an IAM role to enable the AWS CloudHSM service to allocate an ENI on your behalf.

    

  
  :type ExternalId: string
  :param ExternalId: 

    The external ID from ``IamRoleArn``, if present.

    

  
  :type SubscriptionType: string
  :param SubscriptionType: **[REQUIRED]** 

    Specifies the type of subscription for the HSM.

     

    
    * **PRODUCTION** - The HSM is being used in a production environment.
     
    * **TRIAL** - The HSM is being used in a product trial.
    

    

  
  :type ClientToken: string
  :param ClientToken: 

    A user-defined token to ensure idempotence. Subsequent calls to this operation with the same token will be ignored.

    

  
  :type SyslogIp: string
  :param SyslogIp: 

    The IP address for the syslog monitoring server. The AWS CloudHSM service only supports one syslog monitoring server.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'HsmArn': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 

      Contains the output of the ``CreateHsm`` operation.

      
      

      - **HsmArn** *(string) --* 

        The ARN of the HSM.

        
  
  **Exceptions**
  
  *   :py:class:`CloudHSM.Client.exceptions.CloudHsmServiceException`

  
  *   :py:class:`CloudHSM.Client.exceptions.CloudHsmInternalException`

  
  *   :py:class:`CloudHSM.Client.exceptions.InvalidRequestException`

  