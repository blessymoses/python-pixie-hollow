:doc:`imagebuilder <../../imagebuilder>` / Client / get_image_pipeline

******************
get_image_pipeline
******************



.. py:method:: imagebuilder.Client.get_image_pipeline(**kwargs)

  

  Gets an image pipeline.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/imagebuilder-2019-12-02/GetImagePipeline>`_  


  **Request Syntax**
  ::

    response = client.get_image_pipeline(
        imagePipelineArn='string'
    )
    
  :type imagePipelineArn: string
  :param imagePipelineArn: **[REQUIRED]** 

    The Amazon Resource Name (ARN) of the image pipeline that you want to retrieve.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'requestId': 'string',
          'imagePipeline': {
              'arn': 'string',
              'name': 'string',
              'description': 'string',
              'platform': 'Windows'|'Linux'|'macOS',
              'enhancedImageMetadataEnabled': True|False,
              'imageRecipeArn': 'string',
              'containerRecipeArn': 'string',
              'infrastructureConfigurationArn': 'string',
              'distributionConfigurationArn': 'string',
              'imageTestsConfiguration': {
                  'imageTestsEnabled': True|False,
                  'timeoutMinutes': 123
              },
              'schedule': {
                  'scheduleExpression': 'string',
                  'timezone': 'string',
                  'pipelineExecutionStartCondition': 'EXPRESSION_MATCH_ONLY'|'EXPRESSION_MATCH_AND_DEPENDENCY_UPDATES_AVAILABLE',
                  'autoDisablePolicy': {
                      'failureCount': 123
                  }
              },
              'status': 'DISABLED'|'ENABLED',
              'dateCreated': 'string',
              'dateUpdated': 'string',
              'dateLastRun': 'string',
              'lastRunStatus': 'PENDING'|'CREATING'|'BUILDING'|'TESTING'|'DISTRIBUTING'|'INTEGRATING'|'AVAILABLE'|'CANCELLED'|'FAILED'|'DEPRECATED'|'DELETED'|'DISABLED',
              'dateNextRun': 'string',
              'tags': {
                  'string': 'string'
              },
              'imageScanningConfiguration': {
                  'imageScanningEnabled': True|False,
                  'ecrConfiguration': {
                      'repositoryName': 'string',
                      'containerTags': [
                          'string',
                      ]
                  }
              },
              'executionRole': 'string',
              'workflows': [
                  {
                      'workflowArn': 'string',
                      'parameters': [
                          {
                              'name': 'string',
                              'value': [
                                  'string',
                              ]
                          },
                      ],
                      'parallelGroup': 'string',
                      'onFailure': 'CONTINUE'|'ABORT'
                  },
              ],
              'loggingConfiguration': {
                  'imageLogGroupName': 'string',
                  'pipelineLogGroupName': 'string'
              },
              'consecutiveFailures': 123
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **requestId** *(string) --* 

        The request ID that uniquely identifies this request.

        
      

      - **imagePipeline** *(dict) --* 

        The image pipeline object.

        
        

        - **arn** *(string) --* 

          The Amazon Resource Name (ARN) of the image pipeline.

          
        

        - **name** *(string) --* 

          The name of the image pipeline.

          
        

        - **description** *(string) --* 

          The description of the image pipeline.

          
        

        - **platform** *(string) --* 

          The platform of the image pipeline.

          
        

        - **enhancedImageMetadataEnabled** *(boolean) --* 

          Collects additional information about the image being created, including the operating system (OS) version and package list. This information is used to enhance the overall experience of using EC2 Image Builder. Enabled by default.

          
        

        - **imageRecipeArn** *(string) --* 

          The Amazon Resource Name (ARN) of the image recipe associated with this image pipeline.

          
        

        - **containerRecipeArn** *(string) --* 

          The Amazon Resource Name (ARN) of the container recipe that is used for this pipeline.

          
        

        - **infrastructureConfigurationArn** *(string) --* 

          The Amazon Resource Name (ARN) of the infrastructure configuration associated with this image pipeline.

          
        

        - **distributionConfigurationArn** *(string) --* 

          The Amazon Resource Name (ARN) of the distribution configuration associated with this image pipeline.

          
        

        - **imageTestsConfiguration** *(dict) --* 

          The image tests configuration of the image pipeline.

          
          

          - **imageTestsEnabled** *(boolean) --* 

            Determines if tests should run after building the image. Image Builder defaults to enable tests to run following the image build, before image distribution.

            
          

          - **timeoutMinutes** *(integer) --* 

            The maximum time in minutes that tests are permitted to run.

             

            .. note::

              

              The timeout property is not currently active. This value is ignored.

              

            
      
        

        - **schedule** *(dict) --* 

          The schedule of the image pipeline.

          
          

          - **scheduleExpression** *(string) --* 

            The cron expression determines how often EC2 Image Builder evaluates your ``pipelineExecutionStartCondition``.

             

            For information on how to format a cron expression in Image Builder, see `Use cron expressions in EC2 Image Builder <https://docs.aws.amazon.com/imagebuilder/latest/userguide/image-builder-cron.html>`__.

            
          

          - **timezone** *(string) --* 

            The timezone that applies to the scheduling expression. For example, "Etc/UTC", "America/Los_Angeles" in the `IANA timezone format <https://www.joda.org/joda-time/timezones.html>`__. If not specified this defaults to UTC.

            
          

          - **pipelineExecutionStartCondition** *(string) --* 

            The start condition configures when the pipeline should trigger a new image build, as follows. If no value is set Image Builder defaults to ``EXPRESSION_MATCH_AND_DEPENDENCY_UPDATES_AVAILABLE``.

             

            
            * ``EXPRESSION_MATCH_AND_DEPENDENCY_UPDATES_AVAILABLE`` (default) – When you use semantic version filters on the base image or components in your image recipe, EC2 Image Builder builds a new image only when there are new versions of the base image or components in your recipe that match the filter. 

            .. note::

              For semantic version syntax, see `CreateComponent <https://docs.aws.amazon.com/imagebuilder/latest/APIReference/API_CreateComponent.html>`__.

            
             
            * ``EXPRESSION_MATCH_ONLY`` – This condition builds a new image every time the CRON expression matches the current time.
            

            
          

          - **autoDisablePolicy** *(dict) --* 

            The policy that configures when Image Builder should automatically disable a pipeline that is failing.

            
            

            - **failureCount** *(integer) --* 

              The number of consecutive scheduled image pipeline executions that must fail before Image Builder automatically disables the pipeline.

              
        
      
        

        - **status** *(string) --* 

          The status of the image pipeline.

          
        

        - **dateCreated** *(string) --* 

          The date on which this image pipeline was created.

          
        

        - **dateUpdated** *(string) --* 

          The date on which this image pipeline was last updated.

          
        

        - **dateLastRun** *(string) --* 

          This is no longer supported, and does not return a value.

          
        

        - **lastRunStatus** *(string) --* 

          The status of the last image that this pipeline built, such as ``BUILDING``, ``TESTING``, ``FAILED``, or ``AVAILABLE``.

          
        

        - **dateNextRun** *(string) --* 

          The next date when the pipeline is scheduled to run.

          
        

        - **tags** *(dict) --* 

          The tags of this image pipeline.

          
          

          - *(string) --* 
            

            - *(string) --* 
      
    
        

        - **imageScanningConfiguration** *(dict) --* 

          Contains settings for vulnerability scans.

          
          

          - **imageScanningEnabled** *(boolean) --* 

            A setting that indicates whether Image Builder keeps a snapshot of the vulnerability scans that Amazon Inspector runs against the build instance when you create a new image.

            
          

          - **ecrConfiguration** *(dict) --* 

            Contains Amazon ECR settings for vulnerability scans.

            
            

            - **repositoryName** *(string) --* 

              The name of the container repository that Amazon Inspector scans to identify findings for your container images. The name includes the path for the repository location. If you don’t provide this information, Image Builder creates a repository in your account named ``image-builder-image-scanning-repository`` for vulnerability scans of your output container images.

              
            

            - **containerTags** *(list) --* 

              Tags for Image Builder to apply to the output container image that Amazon Inspector scans. Tags can help you identify and manage your scanned images.

              
              

              - *(string) --* 
          
        
      
        

        - **executionRole** *(string) --* 

          The name or Amazon Resource Name (ARN) for the IAM role you create that grants Image Builder access to perform workflow actions.

          
        

        - **workflows** *(list) --* 

          Contains the workflows that run for the image pipeline.

          
          

          - *(dict) --* 

            Contains control settings and configurable inputs for a workflow resource.

            
            

            - **workflowArn** *(string) --* 

              The Amazon Resource Name (ARN) of the workflow resource.

              
            

            - **parameters** *(list) --* 

              Contains parameter values for each of the parameters that the workflow document defined for the workflow resource.

              
              

              - *(dict) --* 

                Contains a key/value pair that sets the named workflow parameter.

                
                

                - **name** *(string) --* 

                  The name of the workflow parameter to set.

                  
                

                - **value** *(list) --* 

                  Sets the value for the named workflow parameter.

                  
                  

                  - *(string) --* 
              
            
          
            

            - **parallelGroup** *(string) --* 

              Test workflows are defined within named runtime groups called parallel groups. The parallel group is the named group that contains this test workflow. Test workflows within a parallel group can run at the same time. Image Builder starts up to five test workflows in the group at the same time, and starts additional workflows as others complete, until all workflows in the group have completed. This field only applies for test workflows.

              
            

            - **onFailure** *(string) --* 

              The action to take if the workflow fails.

              
        
      
        

        - **loggingConfiguration** *(dict) --* 

          Defines logging configuration for the output image.

          
          

          - **imageLogGroupName** *(string) --* 

            The log group name that Image Builder uses for image creation. If not specified, the log group name defaults to ``/aws/imagebuilder/image-name``.

            
          

          - **pipelineLogGroupName** *(string) --* 

            The log group name that Image Builder uses for the log output during creation of a new pipeline. If not specified, the pipeline log group name defaults to ``/aws/imagebuilder/pipeline/pipeline-name``.

            
      
        

        - **consecutiveFailures** *(integer) --* 

          Image Builder tracks the number of consecutive failures for scheduled pipeline executions and takes one of the following actions each time it runs on a schedule:

           

          
          * If the pipeline execution is successful, the number of consecutive failures resets to zero.
           
          * If the pipeline execution fails, Image Builder increments the number of consecutive failures. If the failure count exceeds the limit defined in the ``AutoDisablePolicy``, Image Builder disables the pipeline.
          

           

          The consecutive failure count is also reset to zero under the following conditions:

           

          
          * The pipeline runs manually and succeeds.
           
          * The pipeline configuration is updated.
          

           

          If the pipeline runs manually and fails, the count remains the same. The next scheduled run continues to increment where it left off before.

          
    
  
  **Exceptions**
  
  *   :py:class:`imagebuilder.Client.exceptions.ServiceException`

  
  *   :py:class:`imagebuilder.Client.exceptions.ClientException`

  
  *   :py:class:`imagebuilder.Client.exceptions.ServiceUnavailableException`

  
  *   :py:class:`imagebuilder.Client.exceptions.InvalidRequestException`

  
  *   :py:class:`imagebuilder.Client.exceptions.ForbiddenException`

  
  *   :py:class:`imagebuilder.Client.exceptions.CallRateLimitExceededException`

  