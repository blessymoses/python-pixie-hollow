:doc:`EVS <../../evs>` / Client / get_environment

***************
get_environment
***************



.. py:method:: EVS.Client.get_environment(**kwargs)

  

  Returns a description of the specified environment.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/evs-2023-07-27/GetEnvironment>`_  


  **Request Syntax**
  ::

    response = client.get_environment(
        environmentId='string'
    )
    
  :type environmentId: string
  :param environmentId: **[REQUIRED]** 

    A unique ID for the environment.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'environment': {
              'environmentId': 'string',
              'environmentState': 'CREATING'|'CREATED'|'DELETING'|'DELETED'|'CREATE_FAILED',
              'stateDetails': 'string',
              'createdAt': datetime(2015, 1, 1),
              'modifiedAt': datetime(2015, 1, 1),
              'environmentArn': 'string',
              'environmentName': 'string',
              'vpcId': 'string',
              'serviceAccessSubnetId': 'string',
              'vcfVersion': 'VCF-5.2.1'|'VCF-5.2.2',
              'termsAccepted': True|False,
              'licenseInfo': [
                  {
                      'solutionKey': 'string',
                      'vsanKey': 'string'
                  },
              ],
              'siteId': 'string',
              'environmentStatus': 'PASSED'|'FAILED'|'UNKNOWN',
              'checks': [
                  {
                      'type': 'KEY_REUSE'|'KEY_COVERAGE'|'REACHABILITY'|'HOST_COUNT',
                      'result': 'PASSED'|'FAILED'|'UNKNOWN',
                      'impairedSince': datetime(2015, 1, 1)
                  },
              ],
              'connectivityInfo': {
                  'privateRouteServerPeerings': [
                      'string',
                  ]
              },
              'vcfHostnames': {
                  'vCenter': 'string',
                  'nsx': 'string',
                  'nsxManager1': 'string',
                  'nsxManager2': 'string',
                  'nsxManager3': 'string',
                  'nsxEdge1': 'string',
                  'nsxEdge2': 'string',
                  'sddcManager': 'string',
                  'cloudBuilder': 'string'
              },
              'kmsKeyId': 'string',
              'serviceAccessSecurityGroups': {
                  'securityGroups': [
                      'string',
                  ]
              },
              'credentials': [
                  {
                      'secretArn': 'string'
                  },
              ]
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **environment** *(dict) --* 

        A description of the requested environment.

        
        

        - **environmentId** *(string) --* 

          The unique ID for the environment.

          
        

        - **environmentState** *(string) --* 

          The state of an environment.

          
        

        - **stateDetails** *(string) --* 

          A detailed description of the ``environmentState`` of an environment.

          
        

        - **createdAt** *(datetime) --* 

          The date and time that the environment was created.

          
        

        - **modifiedAt** *(datetime) --* 

          The date and time that the environment was modified.

          
        

        - **environmentArn** *(string) --* 

          The Amazon Resource Name (ARN) that is associated with the environment.

          
        

        - **environmentName** *(string) --* 

          The name of the environment.

          
        

        - **vpcId** *(string) --* 

          The VPC associated with the environment.

          
        

        - **serviceAccessSubnetId** *(string) --* 

          The subnet that is used to establish connectivity between the Amazon EVS control plane and VPC. Amazon EVS uses this subnet to perform validations and create the environment.

          
        

        - **vcfVersion** *(string) --* 

          The VCF version of the environment.

          
        

        - **termsAccepted** *(boolean) --* 

          Customer confirmation that the customer has purchased and will continue to maintain the required number of VCF software licenses to cover all physical processor cores in the Amazon EVS environment. Information about your VCF software in Amazon EVS will be shared with Broadcom to verify license compliance. Amazon EVS does not validate license keys. To validate license keys, visit the Broadcom support portal.

          
        

        - **licenseInfo** *(list) --* 

          The license information that Amazon EVS requires to create an environment. Amazon EVS requires two license keys: a VCF solution key and a vSAN license key. The VCF solution key must cover a minimum of 256 cores. The vSAN license key must provide at least 110 TiB of vSAN capacity.

          
          

          - *(dict) --* 

            The license information that Amazon EVS requires to create an environment. Amazon EVS requires two license keys: a VCF solution key and a vSAN license key.

            
            

            - **solutionKey** *(string) --* 

              The VCF solution key. This license unlocks VMware VCF product features, including vSphere, NSX, SDDC Manager, and vCenter Server. The VCF solution key must cover a minimum of 256 cores.

              
            

            - **vsanKey** *(string) --* 

              The VSAN license key. This license unlocks vSAN features. The vSAN license key must provide at least 110 TiB of vSAN capacity.

              
        
      
        

        - **siteId** *(string) --* 

          The Broadcom Site ID that is associated with your Amazon EVS environment. Amazon EVS uses the Broadcom Site ID that you provide to meet Broadcom VCF license usage reporting requirements for Amazon EVS.

          
        

        - **environmentStatus** *(string) --* 

          Reports impaired functionality that stems from issues internal to the environment, such as impaired reachability.

          
        

        - **checks** *(list) --* 

          A check on the environment to identify instance health and VMware VCF licensing issues.

          
          

          - *(dict) --* 

            A check on the environment to identify environment health and validate VMware VCF licensing compliance.

            
            

            - **type** *(string) --* 

              The check type. Amazon EVS performs the following checks.

               

              
              * ``KEY_REUSE``: checks that the VCF license key is not used by another Amazon EVS environment. This check fails if a used license is added to the environment.
               
              * ``KEY_COVERAGE``: checks that your VCF license key allocates sufficient vCPU cores for all deployed hosts. The check fails when any assigned hosts in the EVS environment are not covered by license keys, or when any unassigned hosts cannot be covered by available vCPU cores in keys.
               
              * ``REACHABILITY``: checks that the Amazon EVS control plane has a persistent connection to SDDC Manager. If Amazon EVS cannot reach the environment, this check fails.
               
              * ``HOST_COUNT``: Checks that your environment has a minimum of 4 hosts. If this check fails, you will need to add hosts so that your environment meets this minimum requirement. Amazon EVS only supports environments with 4-16 hosts.
              

              
            

            - **result** *(string) --* 

              The check result.

              
            

            - **impairedSince** *(datetime) --* 

              The time when environment health began to be impaired.

              
        
      
        

        - **connectivityInfo** *(dict) --* 

          The connectivity configuration for the environment. Amazon EVS requires that you specify two route server peer IDs. During environment creation, the route server endpoints peer with the NSX uplink VLAN for connectivity to the NSX overlay network.

          
          

          - **privateRouteServerPeerings** *(list) --* 

            The unique IDs for private route server peers.

            
            

            - *(string) --* 
        
      
        

        - **vcfHostnames** *(dict) --* 

          The DNS hostnames to be used by the VCF management appliances in your environment.

           

          For environment creation to be successful, each hostname entry must resolve to a domain name that you've registered in your DNS service of choice and configured in the DHCP option set of your VPC. DNS hostnames cannot be changed after environment creation has started.

          
          

          - **vCenter** *(string) --* 

            The VMware vCenter hostname.

            
          

          - **nsx** *(string) --* 

            The VMware NSX hostname.

            
          

          - **nsxManager1** *(string) --* 

            The hostname for the first VMware NSX Manager virtual machine (VM).

            
          

          - **nsxManager2** *(string) --* 

            The hostname for the second VMware NSX Manager virtual machine (VM).

            
          

          - **nsxManager3** *(string) --* 

            The hostname for the third VMware NSX Manager virtual machine (VM).

            
          

          - **nsxEdge1** *(string) --* 

            The hostname for the first NSX Edge node.

            
          

          - **nsxEdge2** *(string) --* 

            The hostname for the second NSX Edge node.

            
          

          - **sddcManager** *(string) --* 

            The hostname for SDDC Manager.

            
          

          - **cloudBuilder** *(string) --* 

            The hostname for VMware Cloud Builder.

            
      
        

        - **kmsKeyId** *(string) --* 

          The Amazon Web Services KMS key ID that Amazon Web Services Secrets Manager uses to encrypt secrets that are associated with the environment. These secrets contain the VCF credentials that are needed to install vCenter Server, NSX, and SDDC Manager.

           

          By default, Amazon EVS use the Amazon Web Services Secrets Manager managed key ``aws/secretsmanager``. You can also specify a customer managed key.

          
        

        - **serviceAccessSecurityGroups** *(dict) --* 

          The security groups that allow traffic between the Amazon EVS control plane and your VPC for service access. If a security group is not specified, Amazon EVS uses the default security group in your account for service access.

          
          

          - **securityGroups** *(list) --* 

            The security groups that allow service access.

            
            

            - *(string) --* 
        
      
        

        - **credentials** *(list) --* 

          The VCF credentials that are stored as Amazon EVS managed secrets in Amazon Web Services Secrets Manager.

           

          Amazon EVS stores credentials that are needed to install vCenter Server, NSX, and SDDC Manager.

          
          

          - *(dict) --* 

            A managed secret that contains the credentials for installing vCenter Server, NSX, and SDDC Manager. During environment creation, the Amazon EVS control plane uses Amazon Web Services Secrets Manager to create, encrypt, validate, and store secrets. If you choose to delete your environment, Amazon EVS also deletes the secrets that are associated with your environment. Amazon EVS does not provide managed rotation of secrets. We recommend that you rotate secrets regularly to ensure that secrets are not long-lived.

            
            

            - **secretArn** *(string) --* 

              The Amazon Resource Name (ARN) of the secret.

              
        
      
    
  
  **Exceptions**
  
  *   :py:class:`EVS.Client.exceptions.ValidationException`

  
  *   :py:class:`EVS.Client.exceptions.ResourceNotFoundException`

  