:doc:`AutoScaling <../../autoscaling>` / Client / attach_load_balancer_target_groups

**********************************
attach_load_balancer_target_groups
**********************************



.. py:method:: AutoScaling.Client.attach_load_balancer_target_groups(**kwargs)

  

  .. note::

    

    This API operation is superseded by `AttachTrafficSources <https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_AttachTrafficSources.html>`__, which can attach multiple traffic sources types. We recommend using ``AttachTrafficSources`` to simplify how you manage traffic sources. However, we continue to support ``AttachLoadBalancerTargetGroups``. You can use both the original ``AttachLoadBalancerTargetGroups`` API operation and ``AttachTrafficSources`` on the same Auto Scaling group.

    

   

  Attaches one or more target groups to the specified Auto Scaling group.

   

  This operation is used with the following load balancer types:

   

  
  * Application Load Balancer - Operates at the application layer (layer 7) and supports HTTP and HTTPS.
   
  * Network Load Balancer - Operates at the transport layer (layer 4) and supports TCP, TLS, and UDP.
   
  * Gateway Load Balancer - Operates at the network layer (layer 3).
  

   

  To describe the target groups for an Auto Scaling group, call the `DescribeLoadBalancerTargetGroups <https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_DescribeLoadBalancerTargetGroups.html>`__ API. To detach the target group from the Auto Scaling group, call the `DetachLoadBalancerTargetGroups <https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_DetachLoadBalancerTargetGroups.html>`__ API.

   

  This operation is additive and does not detach existing target groups or Classic Load Balancers from the Auto Scaling group.

   

  For more information, see `Use Elastic Load Balancing to distribute traffic across the instances in your Auto Scaling group <https://docs.aws.amazon.com/autoscaling/ec2/userguide/autoscaling-load-balancer.html>`__ in the *Amazon EC2 Auto Scaling User Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/autoscaling-2011-01-01/AttachLoadBalancerTargetGroups>`_  


  **Request Syntax**
  ::

    response = client.attach_load_balancer_target_groups(
        AutoScalingGroupName='string',
        TargetGroupARNs=[
            'string',
        ]
    )
    
  :type AutoScalingGroupName: string
  :param AutoScalingGroupName: **[REQUIRED]** 

    The name of the Auto Scaling group.

    

  
  :type TargetGroupARNs: list
  :param TargetGroupARNs: **[REQUIRED]** 

    The Amazon Resource Names (ARNs) of the target groups. You can specify up to 10 target groups. To get the ARN of a target group, use the Elastic Load Balancing `DescribeTargetGroups <https://docs.aws.amazon.com/elasticloadbalancing/latest/APIReference/API_DescribeTargetGroups.html>`__ API operation.

    

  
    - *(string) --* 

    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {}
      
    **Response Structure**

    

    - *(dict) --* 
  
  **Exceptions**
  
  *   :py:class:`AutoScaling.Client.exceptions.ResourceContentionFault`

  
  *   :py:class:`AutoScaling.Client.exceptions.ServiceLinkedRoleFailure`

  
  *   :py:class:`AutoScaling.Client.exceptions.InstanceRefreshInProgressFault`

  

  **Examples**

  This example attaches the specified target group to the specified Auto Scaling group.
  ::

    response = client.attach_load_balancer_target_groups(
        AutoScalingGroupName='my-auto-scaling-group',
        TargetGroupARNs=[
            'arn:aws:elasticloadbalancing:us-west-2:123456789012:targetgroup/my-targets/73e2d6bc24d8a067',
        ],
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'ResponseMetadata': {
            '...': '...',
        },
    }

  