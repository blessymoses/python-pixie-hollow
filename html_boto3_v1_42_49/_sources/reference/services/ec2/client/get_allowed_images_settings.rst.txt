:doc:`EC2 <../../ec2>` / Client / get_allowed_images_settings

***************************
get_allowed_images_settings
***************************



.. py:method:: EC2.Client.get_allowed_images_settings(**kwargs)

  

  Gets the current state of the Allowed AMIs setting and the list of Allowed AMIs criteria at the account level in the specified Region.

   

  .. note::

    

    The Allowed AMIs feature does not restrict the AMIs owned by your account. Regardless of the criteria you set, the AMIs created by your account will always be discoverable and usable by users in your account.

    

   

  For more information, see `Control the discovery and use of AMIs in Amazon EC2 with Allowed AMIs <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html>`__ in *Amazon EC2 User Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/GetAllowedImagesSettings>`_  


  **Request Syntax**
  ::

    response = client.get_allowed_images_settings(
        DryRun=True|False
    )
    
  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'State': 'string',
          'ImageCriteria': [
              {
                  'ImageProviders': [
                      'string',
                  ],
                  'MarketplaceProductCodes': [
                      'string',
                  ],
                  'ImageNames': [
                      'string',
                  ],
                  'DeprecationTimeCondition': {
                      'MaximumDaysSinceDeprecated': 123
                  },
                  'CreationDateCondition': {
                      'MaximumDaysSinceCreated': 123
                  }
              },
          ],
          'ManagedBy': 'account'|'declarative-policy'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **State** *(string) --* 

        The current state of the Allowed AMIs setting at the account level in the specified Amazon Web Services Region.

         

        Possible values:

         

        
        * ``disabled``: All AMIs are allowed.
         
        * ``audit-mode``: All AMIs are allowed, but the ``ImageAllowed`` field is set to ``true`` if the AMI would be allowed with the current list of criteria if allowed AMIs was enabled.
         
        * ``enabled``: Only AMIs matching the image criteria are discoverable and available for use.
        

        
      

      - **ImageCriteria** *(list) --* 

        The list of criteria for images that are discoverable and usable in the account in the specified Amazon Web Services Region.

        
        

        - *(dict) --* 

          The criteria that are evaluated to determine which AMIs are discoverable and usable in your account for the specified Amazon Web Services Region.

           

          For more information, see `How Allowed AMIs works <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html#how-allowed-amis-works>`__ in the *Amazon EC2 User Guide*.

          
          

          - **ImageProviders** *(list) --* 

            The image providers whose images are allowed.

             

            Possible values:

             

            
            * ``amazon``: Allow AMIs created by Amazon or verified providers.
             
            * ``aws-marketplace``: Allow AMIs created by verified providers in the Amazon Web Services Marketplace.
             
            * ``aws-backup-vault``: Allow AMIs created by Amazon Web Services Backup.
             
            * 12-digit account ID: Allow AMIs created by this account. One or more account IDs can be specified.
             
            * ``none``: Allow AMIs created by your own account only.
            

             

            Maximum: 200 values

            
            

            - *(string) --* 
        
          

          - **MarketplaceProductCodes** *(list) --* 

            The Amazon Web Services Marketplace product codes for allowed images.

             

            Length: 1-25 characters

             

            Valid characters: Letters ( ``A–Z, a–z``) and numbers ( ``0–9``)

             

            Maximum: 50 values

            
            

            - *(string) --* 
        
          

          - **ImageNames** *(list) --* 

            The names of allowed images. Names can include wildcards ( ``?`` and ``*``).

             

            Length: 1–128 characters. With ``?``, the minimum is 3 characters.

             

            Valid characters:

             

            
            * Letters: ``A–Z, a–z``
             
            * Numbers: ``0–9``
             
            * Special characters: ``( ) [ ] . / - ' @ _ * ?``
             
            * Spaces
            

             

            Maximum: 50 values

            
            

            - *(string) --* 
        
          

          - **DeprecationTimeCondition** *(dict) --* 

            The maximum period since deprecation for allowed images.

            
            

            - **MaximumDaysSinceDeprecated** *(integer) --* 

              The maximum number of days that have elapsed since the image was deprecated. When set to ``0``, no deprecated images are allowed.

              
        
          

          - **CreationDateCondition** *(dict) --* 

            The maximum age for allowed images.

            
            

            - **MaximumDaysSinceCreated** *(integer) --* 

              The maximum number of days that have elapsed since the image was created. For example, a value of ``300`` allows images that were created within the last 300 days.

              
        
      
    
      

      - **ManagedBy** *(string) --* 

        The entity that manages the Allowed AMIs settings. Possible values include:

         

        
        * ``account`` - The Allowed AMIs settings is managed by the account.
         
        * ``declarative-policy`` - The Allowed AMIs settings is managed by a declarative policy and can't be modified by the account.
        

        
  