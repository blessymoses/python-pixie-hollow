:doc:`EC2 <../../ec2>` / Client / modify_volume

*************
modify_volume
*************



.. py:method:: EC2.Client.modify_volume(**kwargs)

  

  You can modify several parameters of an existing EBS volume, including volume size, volume type, and IOPS capacity. If your EBS volume is attached to a current-generation EC2 instance type, you might be able to apply these changes without stopping the instance or detaching the volume from it. For more information about modifying EBS volumes, see `Amazon EBS Elastic Volumes <https://docs.aws.amazon.com/ebs/latest/userguide/ebs-modify-volume.html>`__ in the *Amazon EBS User Guide*.

   

  When you complete a resize operation on your volume, you need to extend the volume's file-system size to take advantage of the new storage capacity. For more information, see `Extend the file system <https://docs.aws.amazon.com/ebs/latest/userguide/recognize-expanded-volume-linux.html>`__.

   

  For more information, see `Monitor the progress of volume modifications <https://docs.aws.amazon.com/ebs/latest/userguide/monitoring-volume-modifications.html>`__ in the *Amazon EBS User Guide*.

   

  With previous-generation instance types, resizing an EBS volume might require detaching and reattaching the volume or stopping and restarting the instance.

   

  After you initiate a volume modification, you must wait for that modification to reach the ``completed`` state before you can initiate another modification for the same volume. You can modify a volume up to four times within a rolling 24-hour period, as long as the volume is in the ``in-use`` or ``available`` state, and all previous modifications for that volume are ``completed``. If you exceed this limit, you get an error message that indicates when you can perform your next modification.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/ModifyVolume>`_  


  **Request Syntax**
  ::

    response = client.modify_volume(
        DryRun=True|False,
        VolumeId='string',
        Size=123,
        VolumeType='standard'|'io1'|'io2'|'gp2'|'sc1'|'st1'|'gp3',
        Iops=123,
        Throughput=123,
        MultiAttachEnabled=True|False
    )
    
  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  :type VolumeId: string
  :param VolumeId: **[REQUIRED]** 

    The ID of the volume.

    

  
  :type Size: integer
  :param Size: 

    The target size of the volume, in GiB. The target volume size must be greater than or equal to the existing size of the volume.

     

    The following are the supported volumes sizes for each volume type:

     

    
    * ``gp2``: 1 - 16,384 GiB
     
    * ``gp3``: 1 - 65,536 GiB
     
    * ``io1``: 4 - 16,384 GiB
     
    * ``io2``: 4 - 65,536 GiB
     
    * ``st1`` and ``sc1``: 125 - 16,384 GiB
     
    * ``standard``: 1 - 1024 GiB
    

     

    Default: The existing size is retained.

    

  
  :type VolumeType: string
  :param VolumeType: 

    The target EBS volume type of the volume. For more information, see `Amazon EBS volume types <https://docs.aws.amazon.com/ebs/latest/userguide/ebs-volume-types.html>`__ in the *Amazon EBS User Guide*.

     

    Default: The existing type is retained.

    

  
  :type Iops: integer
  :param Iops: 

    The target IOPS rate of the volume. This parameter is valid only for ``gp3``, ``io1``, and ``io2`` volumes.

     

    The following are the supported values for each volume type:

     

    
    * ``gp3``: 3,000 - 80,000 IOPS
     
    * ``io1``: 100 - 64,000 IOPS
     
    * ``io2``: 100 - 256,000 IOPS
    

     

    .. note::

      

      `Instances built on the Nitro System <https://docs.aws.amazon.com/ec2/latest/instancetypes/ec2-nitro-instances.html>`__ can support up to 256,000 IOPS. Other instances can support up to 32,000 IOPS.

      

     

    Default: The existing value is retained if you keep the same volume type. If you change the volume type to ``io1``, ``io2``, or ``gp3``, the default is 3,000.

    

  
  :type Throughput: integer
  :param Throughput: 

    The target throughput of the volume, in MiB/s. This parameter is valid only for ``gp3`` volumes. The maximum value is 2,000.

     

    Default: The existing value is retained if the source and target volume type is ``gp3``. Otherwise, the default value is 125.

     

    Valid Range: Minimum value of 125. Maximum value of 2,000.

    

  
  :type MultiAttachEnabled: boolean
  :param MultiAttachEnabled: 

    Specifies whether to enable Amazon EBS Multi-Attach. If you enable Multi-Attach, you can attach the volume to up to 16 `Nitro-based instances <https://docs.aws.amazon.com/ec2/latest/instancetypes/ec2-nitro-instances.html>`__ in the same Availability Zone. This parameter is supported with ``io1`` and ``io2`` volumes only. For more information, see `Amazon EBS Multi-Attach <https://docs.aws.amazon.com/ebs/latest/userguide/ebs-volumes-multi.html>`__ in the *Amazon EBS User Guide*.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'VolumeModification': {
              'VolumeId': 'string',
              'ModificationState': 'modifying'|'optimizing'|'completed'|'failed',
              'StatusMessage': 'string',
              'TargetSize': 123,
              'TargetIops': 123,
              'TargetVolumeType': 'standard'|'io1'|'io2'|'gp2'|'sc1'|'st1'|'gp3',
              'TargetThroughput': 123,
              'TargetMultiAttachEnabled': True|False,
              'OriginalSize': 123,
              'OriginalIops': 123,
              'OriginalVolumeType': 'standard'|'io1'|'io2'|'gp2'|'sc1'|'st1'|'gp3',
              'OriginalThroughput': 123,
              'OriginalMultiAttachEnabled': True|False,
              'Progress': 123,
              'StartTime': datetime(2015, 1, 1),
              'EndTime': datetime(2015, 1, 1)
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **VolumeModification** *(dict) --* 

        Information about the volume modification.

        
        

        - **VolumeId** *(string) --* 

          The ID of the volume.

          
        

        - **ModificationState** *(string) --* 

          The current modification state.

          
        

        - **StatusMessage** *(string) --* 

          A status message about the modification progress or failure.

          
        

        - **TargetSize** *(integer) --* 

          The target size of the volume, in GiB.

          
        

        - **TargetIops** *(integer) --* 

          The target IOPS rate of the volume.

          
        

        - **TargetVolumeType** *(string) --* 

          The target EBS volume type of the volume.

          
        

        - **TargetThroughput** *(integer) --* 

          The target throughput of the volume, in MiB/s.

          
        

        - **TargetMultiAttachEnabled** *(boolean) --* 

          The target setting for Amazon EBS Multi-Attach.

          
        

        - **OriginalSize** *(integer) --* 

          The original size of the volume, in GiB.

          
        

        - **OriginalIops** *(integer) --* 

          The original IOPS rate of the volume.

          
        

        - **OriginalVolumeType** *(string) --* 

          The original EBS volume type of the volume.

          
        

        - **OriginalThroughput** *(integer) --* 

          The original throughput of the volume, in MiB/s.

          
        

        - **OriginalMultiAttachEnabled** *(boolean) --* 

          The original setting for Amazon EBS Multi-Attach.

          
        

        - **Progress** *(integer) --* 

          The modification progress, from 0 to 100 percent complete.

          
        

        - **StartTime** *(datetime) --* 

          The modification start time.

          
        

        - **EndTime** *(datetime) --* 

          The modification completion or failure time.

          
    
  