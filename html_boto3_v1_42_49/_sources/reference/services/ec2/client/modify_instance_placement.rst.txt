:doc:`EC2 <../../ec2>` / Client / modify_instance_placement

*************************
modify_instance_placement
*************************



.. py:method:: EC2.Client.modify_instance_placement(**kwargs)

  

  Modifies the placement attributes for a specified instance. You can do the following:

   

  
  * Modify the affinity between an instance and a `Dedicated Host <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-hosts-overview.html>`__. When affinity is set to ``host`` and the instance is not associated with a specific Dedicated Host, the next time the instance is started, it is automatically associated with the host on which it lands. If the instance is restarted or rebooted, this relationship persists.
   
  * Change the Dedicated Host with which an instance is associated.
   
  * Change the instance tenancy of an instance.
   
  * Move an instance to or from a `placement group <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html>`__.
  

   

  At least one attribute for affinity, host ID, tenancy, or placement group name must be specified in the request. Affinity and tenancy can be modified in the same request.

   

  To modify the host ID, tenancy, placement group, or partition for an instance, the instance must be in the ``stopped`` state.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/ModifyInstancePlacement>`_  


  **Request Syntax**
  ::

    response = client.modify_instance_placement(
        GroupName='string',
        PartitionNumber=123,
        HostResourceGroupArn='string',
        GroupId='string',
        InstanceId='string',
        Tenancy='default'|'dedicated'|'host',
        Affinity='default'|'host',
        HostId='string'
    )
    
  :type GroupName: string
  :param GroupName: 

    The name of the placement group in which to place the instance. For spread placement groups, the instance must have a tenancy of ``default``. For cluster and partition placement groups, the instance must have a tenancy of ``default`` or ``dedicated``.

     

    To remove an instance from a placement group, specify an empty string ("").

    

  
  :type PartitionNumber: integer
  :param PartitionNumber: 

    The number of the partition in which to place the instance. Valid only if the placement group strategy is set to ``partition``.

    

  
  :type HostResourceGroupArn: string
  :param HostResourceGroupArn: 

    The ARN of the host resource group in which to place the instance. The instance must have a tenancy of ``host`` to specify this parameter.

    

  
  :type GroupId: string
  :param GroupId: 

    The Group Id of a placement group. You must specify the Placement Group **Group Id** to launch an instance in a shared placement group.

    

  
  :type InstanceId: string
  :param InstanceId: **[REQUIRED]** 

    The ID of the instance that you are modifying.

    

  
  :type Tenancy: string
  :param Tenancy: 

    The tenancy for the instance.

     

    .. note::

      

      For T3 instances, you must launch the instance on a Dedicated Host to use a tenancy of ``host``. You can't change the tenancy from ``host`` to ``dedicated`` or ``default``. Attempting to make one of these unsupported tenancy changes results in an ``InvalidRequest`` error code.

      

    

  
  :type Affinity: string
  :param Affinity: 

    The affinity setting for the instance. For more information, see `Host affinity <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-dedicated-hosts-work.html#dedicated-hosts-affinity>`__ in the *Amazon EC2 User Guide*.

    

  
  :type HostId: string
  :param HostId: 

    The ID of the Dedicated Host with which to associate the instance.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Return': True|False
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Return** *(boolean) --* 

        Is ``true`` if the request succeeds, and an error otherwise.

        
  