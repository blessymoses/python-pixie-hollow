:doc:`EC2 <../../ec2>` / Client / enable_allowed_images_settings

******************************
enable_allowed_images_settings
******************************



.. py:method:: EC2.Client.enable_allowed_images_settings(**kwargs)

  

  Enables Allowed AMIs for your account in the specified Amazon Web Services Region. Two values are accepted:

   

  
  * ``enabled``: The image criteria in your Allowed AMIs settings are applied. As a result, only AMIs matching these criteria are discoverable and can be used by your account to launch instances.
   
  * ``audit-mode``: The image criteria in your Allowed AMIs settings are not applied. No restrictions are placed on AMI discoverability or usage. Users in your account can launch instances using any public AMI or AMI shared with your account. The purpose of ``audit-mode`` is to indicate which AMIs will be affected when Allowed AMIs is ``enabled``. In ``audit-mode``, each AMI displays either ``"ImageAllowed": true`` or ``"ImageAllowed": false`` to indicate whether the AMI will be discoverable and available to users in the account when Allowed AMIs is enabled.
  

   

  .. note::

    

    The Allowed AMIs feature does not restrict the AMIs owned by your account. Regardless of the criteria you set, the AMIs created by your account will always be discoverable and usable by users in your account.

    

   

  For more information, see `Control the discovery and use of AMIs in Amazon EC2 with Allowed AMIs <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html>`__ in *Amazon EC2 User Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/EnableAllowedImagesSettings>`_  


  **Request Syntax**
  ::

    response = client.enable_allowed_images_settings(
        AllowedImagesSettingsState='enabled'|'audit-mode',
        DryRun=True|False
    )
    
  :type AllowedImagesSettingsState: string
  :param AllowedImagesSettingsState: **[REQUIRED]** 

    Specify ``enabled`` to apply the image criteria specified by the Allowed AMIs settings. Specify ``audit-mode`` so that you can check which AMIs will be allowed or not allowed by the image criteria.

    

  
  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'AllowedImagesSettingsState': 'enabled'|'audit-mode'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **AllowedImagesSettingsState** *(string) --* 

        Returns ``enabled`` or ``audit-mode`` if the request succeeds; otherwise, it returns an error.

        
  