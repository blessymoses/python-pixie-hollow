:doc:`EC2 <../../ec2>` / Client / modify_capacity_reservation

***************************
modify_capacity_reservation
***************************



.. py:method:: EC2.Client.modify_capacity_reservation(**kwargs)

  

  Modifies a Capacity Reservation's capacity, instance eligibility, and the conditions under which it is to be released. You can't modify a Capacity Reservation's instance type, EBS optimization, platform, instance store settings, Availability Zone, or tenancy. If you need to modify any of these attributes, we recommend that you cancel the Capacity Reservation, and then create a new one with the required attributes. For more information, see `Modify an active Capacity Reservation <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/capacity-reservations-modify.html>`__.

   

  The allowed modifications depend on the state of the Capacity Reservation:

   

  
  * ``assessing`` or ``scheduled`` state - You can modify the tags only.
   
  * ``pending`` state - You can't modify the Capacity Reservation in any way.
   
  * ``active`` state but still within the commitment duration - You can't decrease the instance count or set an end date that is within the commitment duration. All other modifications are allowed.
   
  * ``active`` state with no commitment duration or elapsed commitment duration - All modifications are allowed.
   
  * ``expired``, ``cancelled``, ``unsupported``, or ``failed`` state - You can't modify the Capacity Reservation in any way.
  

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/ModifyCapacityReservation>`_  


  **Request Syntax**
  ::

    response = client.modify_capacity_reservation(
        CapacityReservationId='string',
        InstanceCount=123,
        EndDate=datetime(2015, 1, 1),
        EndDateType='unlimited'|'limited',
        Accept=True|False,
        DryRun=True|False,
        AdditionalInfo='string',
        InstanceMatchCriteria='open'|'targeted'
    )
    
  :type CapacityReservationId: string
  :param CapacityReservationId: **[REQUIRED]** 

    The ID of the Capacity Reservation.

    

  
  :type InstanceCount: integer
  :param InstanceCount: 

    The number of instances for which to reserve capacity. The number of instances can't be increased or decreased by more than ``1000`` in a single request.

    

  
  :type EndDate: datetime
  :param EndDate: 

    The date and time at which the Capacity Reservation expires. When a Capacity Reservation expires, the reserved capacity is released and you can no longer launch instances into it. The Capacity Reservation's state changes to ``expired`` when it reaches its end date and time.

     

    The Capacity Reservation is cancelled within an hour from the specified time. For example, if you specify 5/31/2019, 13:30:55, the Capacity Reservation is guaranteed to end between 13:30:55 and 14:30:55 on 5/31/2019.

     

    You must provide an ``EndDate`` value if ``EndDateType`` is ``limited``. Omit ``EndDate`` if ``EndDateType`` is ``unlimited``.

    

  
  :type EndDateType: string
  :param EndDateType: 

    Indicates the way in which the Capacity Reservation ends. A Capacity Reservation can have one of the following end types:

     

    
    * ``unlimited`` - The Capacity Reservation remains active until you explicitly cancel it. Do not provide an ``EndDate`` value if ``EndDateType`` is ``unlimited``.
     
    * ``limited`` - The Capacity Reservation expires automatically at a specified date and time. You must provide an ``EndDate`` value if ``EndDateType`` is ``limited``.
    

    

  
  :type Accept: boolean
  :param Accept: 

    Reserved. Capacity Reservations you have created are accepted by default.

    

  
  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  :type AdditionalInfo: string
  :param AdditionalInfo: 

    Reserved for future use.

    

  
  :type InstanceMatchCriteria: string
  :param InstanceMatchCriteria: 

    The matching criteria (instance eligibility) that you want to use in the modified Capacity Reservation. If you change the instance eligibility of an existing Capacity Reservation from ``targeted`` to ``open``, any running instances that match the attributes of the Capacity Reservation, have the ``CapacityReservationPreference`` set to ``open``, and are not yet running in the Capacity Reservation, will automatically use the modified Capacity Reservation.

     

    To modify the instance eligibility, the Capacity Reservation must be completely idle (zero usage).

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'Return': True|False
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **Return** *(boolean) --* 

        Returns ``true`` if the request succeeds; otherwise, it returns an error.

        
  