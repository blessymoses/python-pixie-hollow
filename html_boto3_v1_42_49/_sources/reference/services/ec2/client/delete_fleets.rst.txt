:doc:`EC2 <../../ec2>` / Client / delete_fleets

*************
delete_fleets
*************



.. py:method:: EC2.Client.delete_fleets(**kwargs)

  

  Deletes the specified EC2 Fleet request.

   

  After you delete an EC2 Fleet request, it launches no new instances.

   

  You must also specify whether a deleted EC2 Fleet request should terminate its instances. If you choose to terminate the instances, the EC2 Fleet request enters the ``deleted_terminating`` state. Otherwise, it enters the ``deleted_running`` state, and the instances continue to run until they are interrupted or you terminate them manually.

   

  A deleted ``instant`` fleet with running instances is not supported. When you delete an ``instant`` fleet, Amazon EC2 automatically terminates all its instances. For fleets with more than 1000 instances, the deletion request might fail. If your fleet has more than 1000 instances, first terminate most of the instances manually, leaving 1000 or fewer. Then delete the fleet, and the remaining instances will be terminated automatically.

   

  .. warning::

     

    **Terminating an instance is permanent and irreversible.**

     

    After you terminate an instance, you can no longer connect to it, and it can't be recovered. All attached Amazon EBS volumes that are configured to be deleted on termination are also permanently deleted and can't be recovered. All data stored on instance store volumes is permanently lost. For more information, see `How instance termination works <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/how-ec2-instance-termination-works.html>`__.

     

    Before you terminate an instance, ensure that you have backed up all data that you need to retain after the termination to persistent storage.

     

   

  **Restrictions**

   

  
  * You can delete up to 25 fleets of type ``instant`` in a single request.
   
  * You can delete up to 100 fleets of type ``maintain`` or ``request`` in a single request.
   
  * You can delete up to 125 fleets in a single request, provided you do not exceed the quota for each fleet type, as specified above.
   
  * If you exceed the specified number of fleets to delete, no fleets are deleted.
  

   

  For more information, see `Delete an EC2 Fleet request and the instances in the fleet <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/delete-fleet.html>`__ in the *Amazon EC2 User Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/DeleteFleets>`_  


  **Request Syntax**
  ::

    response = client.delete_fleets(
        DryRun=True|False,
        FleetIds=[
            'string',
        ],
        TerminateInstances=True|False
    )
    
  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  :type FleetIds: list
  :param FleetIds: **[REQUIRED]** 

    The IDs of the EC2 Fleets.

     

    Constraints: In a single request, you can specify up to 25 ``instant`` fleet IDs and up to 100 ``maintain`` or ``request`` fleet IDs.

    

  
    - *(string) --* 

    

  :type TerminateInstances: boolean
  :param TerminateInstances: **[REQUIRED]** 

    Indicates whether to terminate the associated instances when the EC2 Fleet is deleted. The default is to terminate the instances.

     

    To let the instances continue to run after the EC2 Fleet is deleted, specify ``no-terminate-instances``. Supported only for fleets of type ``maintain`` and ``request``.

     

    For ``instant`` fleets, you cannot specify ``NoTerminateInstances``. A deleted ``instant`` fleet with running instances is not supported.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'SuccessfulFleetDeletions': [
              {
                  'CurrentFleetState': 'submitted'|'active'|'deleted'|'failed'|'deleted_running'|'deleted_terminating'|'modifying',
                  'PreviousFleetState': 'submitted'|'active'|'deleted'|'failed'|'deleted_running'|'deleted_terminating'|'modifying',
                  'FleetId': 'string'
              },
          ],
          'UnsuccessfulFleetDeletions': [
              {
                  'Error': {
                      'Code': 'fleetIdDoesNotExist'|'fleetIdMalformed'|'fleetNotInDeletableState'|'unexpectedError',
                      'Message': 'string'
                  },
                  'FleetId': 'string'
              },
          ]
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **SuccessfulFleetDeletions** *(list) --* 

        Information about the EC2 Fleets that are successfully deleted.

        
        

        - *(dict) --* 

          Describes an EC2 Fleet that was successfully deleted.

          
          

          - **CurrentFleetState** *(string) --* 

            The current state of the EC2 Fleet.

            
          

          - **PreviousFleetState** *(string) --* 

            The previous state of the EC2 Fleet.

            
          

          - **FleetId** *(string) --* 

            The ID of the EC2 Fleet.

            
      
    
      

      - **UnsuccessfulFleetDeletions** *(list) --* 

        Information about the EC2 Fleets that are not successfully deleted.

        
        

        - *(dict) --* 

          Describes an EC2 Fleet that was not successfully deleted.

          
          

          - **Error** *(dict) --* 

            The error.

            
            

            - **Code** *(string) --* 

              The error code.

              
            

            - **Message** *(string) --* 

              The description for the error code.

              
        
          

          - **FleetId** *(string) --* 

            The ID of the EC2 Fleet.

            
      
    
  