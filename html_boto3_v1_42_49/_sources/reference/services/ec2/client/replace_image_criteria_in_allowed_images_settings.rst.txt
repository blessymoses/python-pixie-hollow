:doc:`EC2 <../../ec2>` / Client / replace_image_criteria_in_allowed_images_settings

*************************************************
replace_image_criteria_in_allowed_images_settings
*************************************************



.. py:method:: EC2.Client.replace_image_criteria_in_allowed_images_settings(**kwargs)

  

  Sets or replaces the criteria for Allowed AMIs.

   

  .. note::

    

    The Allowed AMIs feature does not restrict the AMIs owned by your account. Regardless of the criteria you set, the AMIs created by your account will always be discoverable and usable by users in your account.

    

   

  For more information, see `Control the discovery and use of AMIs in Amazon EC2 with Allowed AMIs <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html>`__ in *Amazon EC2 User Guide*.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/ReplaceImageCriteriaInAllowedImagesSettings>`_  


  **Request Syntax**
  ::

    response = client.replace_image_criteria_in_allowed_images_settings(
        ImageCriteria=[
            {
                'ImageProviders': [
                    'string',
                ],
                'MarketplaceProductCodes': [
                    'string',
                ],
                'ImageNames': [
                    'string',
                ],
                'DeprecationTimeCondition': {
                    'MaximumDaysSinceDeprecated': 123
                },
                'CreationDateCondition': {
                    'MaximumDaysSinceCreated': 123
                }
            },
        ],
        DryRun=True|False
    )
    
  :type ImageCriteria: list
  :param ImageCriteria: 

    The list of criteria that are evaluated to determine whether AMIs are discoverable and usable in the account in the specified Amazon Web Services Region.

    

  
    - *(dict) --* 

      The criteria that are evaluated to determine which AMIs are discoverable and usable in your account for the specified Amazon Web Services Region.

       

      The ``ImageCriteria`` can include up to:

       

      
      * 10 ``ImageCriterion``
      

       

      Each ``ImageCriterion`` can include up to:

       

      
      * 200 values for ``ImageProviders``
       
      * 50 values for ``ImageNames``
       
      * 50 values for ``MarketplaceProductCodes``
      

       

      For more information, see `How Allowed AMIs works <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-allowed-amis.html#how-allowed-amis-works>`__ in the *Amazon EC2 User Guide*.

      

    
      - **ImageProviders** *(list) --* 

        The image providers whose images are allowed.

         

        Possible values:

         

        
        * ``amazon``: Allow AMIs created by Amazon or verified providers.
         
        * ``aws-marketplace``: Allow AMIs created by verified providers in the Amazon Web Services Marketplace.
         
        * ``aws-backup-vault``: Allow AMIs created by Amazon Web Services Backup.
         
        * 12-digit account ID: Allow AMIs created by the specified accounts. One or more account IDs can be specified.
         
        * ``none``: Allow AMIs created by your own account only. When ``none`` is specified, no other values can be specified.
        

         

        Maximum: 200 values

        

      
        - *(string) --* 

        
    
      - **MarketplaceProductCodes** *(list) --* 

        The Amazon Web Services Marketplace product codes for allowed images.

         

        Length: 1-25 characters

         

        Valid characters: Letters ( ``A–Z, a–z``) and numbers ( ``0–9``)

         

        Maximum: 50 values

        

      
        - *(string) --* 

        
    
      - **ImageNames** *(list) --* 

        The names of allowed images. Names can include wildcards ( ``?`` and ``*``).

         

        Length: 1–128 characters. With ``?``, the minimum is 3 characters.

         

        Valid characters:

         

        
        * Letters: ``A–Z, a–z``
         
        * Numbers: ``0–9``
         
        * Special characters: ``( ) [ ] . / - ' @ _ * ?``
         
        * Spaces
        

         

        Maximum: 50 values

        

      
        - *(string) --* 

        
    
      - **DeprecationTimeCondition** *(dict) --* 

        The maximum period since deprecation for allowed images.

        

      
        - **MaximumDaysSinceDeprecated** *(integer) --* 

          The maximum number of days that have elapsed since the image was deprecated. Set to ``0`` to exclude all deprecated images.

          

        
      
      - **CreationDateCondition** *(dict) --* 

        The maximum age for allowed images.

        

      
        - **MaximumDaysSinceCreated** *(integer) --* 

          The maximum number of days that have elapsed since the image was created. For example, a value of ``300`` allows images that were created within the last 300 days.

          

        
      
    

  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ReturnValue': True|False
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ReturnValue** *(boolean) --* 

        Returns ``true`` if the request succeeds; otherwise, it returns an error.

        
  