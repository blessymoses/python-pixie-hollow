:doc:`EC2 <../../ec2>` / Client / modify_traffic_mirror_filter_network_services

*********************************************
modify_traffic_mirror_filter_network_services
*********************************************



.. py:method:: EC2.Client.modify_traffic_mirror_filter_network_services(**kwargs)

  

  Allows or restricts mirroring network services.

   

  By default, Amazon DNS network services are not eligible for Traffic Mirror. Use ``AddNetworkServices`` to add network services to a Traffic Mirror filter. When a network service is added to the Traffic Mirror filter, all traffic related to that network service will be mirrored. When you no longer want to mirror network services, use ``RemoveNetworkServices`` to remove the network services from the Traffic Mirror filter.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/ec2-2016-11-15/ModifyTrafficMirrorFilterNetworkServices>`_  


  **Request Syntax**
  ::

    response = client.modify_traffic_mirror_filter_network_services(
        TrafficMirrorFilterId='string',
        AddNetworkServices=[
            'amazon-dns',
        ],
        RemoveNetworkServices=[
            'amazon-dns',
        ],
        DryRun=True|False
    )
    
  :type TrafficMirrorFilterId: string
  :param TrafficMirrorFilterId: **[REQUIRED]** 

    The ID of the Traffic Mirror filter.

    

  
  :type AddNetworkServices: list
  :param AddNetworkServices: 

    The network service, for example Amazon DNS, that you want to mirror.

    

  
    - *(string) --* 

    

  :type RemoveNetworkServices: list
  :param RemoveNetworkServices: 

    The network service, for example Amazon DNS, that you no longer want to mirror.

    

  
    - *(string) --* 

    

  :type DryRun: boolean
  :param DryRun: 

    Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is ``DryRunOperation``. Otherwise, it is ``UnauthorizedOperation``.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'TrafficMirrorFilter': {
              'TrafficMirrorFilterId': 'string',
              'IngressFilterRules': [
                  {
                      'TrafficMirrorFilterRuleId': 'string',
                      'TrafficMirrorFilterId': 'string',
                      'TrafficDirection': 'ingress'|'egress',
                      'RuleNumber': 123,
                      'RuleAction': 'accept'|'reject',
                      'Protocol': 123,
                      'DestinationPortRange': {
                          'FromPort': 123,
                          'ToPort': 123
                      },
                      'SourcePortRange': {
                          'FromPort': 123,
                          'ToPort': 123
                      },
                      'DestinationCidrBlock': 'string',
                      'SourceCidrBlock': 'string',
                      'Description': 'string',
                      'Tags': [
                          {
                              'Key': 'string',
                              'Value': 'string'
                          },
                      ]
                  },
              ],
              'EgressFilterRules': [
                  {
                      'TrafficMirrorFilterRuleId': 'string',
                      'TrafficMirrorFilterId': 'string',
                      'TrafficDirection': 'ingress'|'egress',
                      'RuleNumber': 123,
                      'RuleAction': 'accept'|'reject',
                      'Protocol': 123,
                      'DestinationPortRange': {
                          'FromPort': 123,
                          'ToPort': 123
                      },
                      'SourcePortRange': {
                          'FromPort': 123,
                          'ToPort': 123
                      },
                      'DestinationCidrBlock': 'string',
                      'SourceCidrBlock': 'string',
                      'Description': 'string',
                      'Tags': [
                          {
                              'Key': 'string',
                              'Value': 'string'
                          },
                      ]
                  },
              ],
              'NetworkServices': [
                  'amazon-dns',
              ],
              'Description': 'string',
              'Tags': [
                  {
                      'Key': 'string',
                      'Value': 'string'
                  },
              ]
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **TrafficMirrorFilter** *(dict) --* 

        The Traffic Mirror filter that the network service is associated with.

        
        

        - **TrafficMirrorFilterId** *(string) --* 

          The ID of the Traffic Mirror filter.

          
        

        - **IngressFilterRules** *(list) --* 

          Information about the ingress rules that are associated with the Traffic Mirror filter.

          
          

          - *(dict) --* 

            Describes the Traffic Mirror rule.

            
            

            - **TrafficMirrorFilterRuleId** *(string) --* 

              The ID of the Traffic Mirror rule.

              
            

            - **TrafficMirrorFilterId** *(string) --* 

              The ID of the Traffic Mirror filter that the rule is associated with.

              
            

            - **TrafficDirection** *(string) --* 

              The traffic direction assigned to the Traffic Mirror rule.

              
            

            - **RuleNumber** *(integer) --* 

              The rule number of the Traffic Mirror rule.

              
            

            - **RuleAction** *(string) --* 

              The action assigned to the Traffic Mirror rule.

              
            

            - **Protocol** *(integer) --* 

              The protocol assigned to the Traffic Mirror rule.

              
            

            - **DestinationPortRange** *(dict) --* 

              The destination port range assigned to the Traffic Mirror rule.

              
              

              - **FromPort** *(integer) --* 

                The start of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
              

              - **ToPort** *(integer) --* 

                The end of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
          
            

            - **SourcePortRange** *(dict) --* 

              The source port range assigned to the Traffic Mirror rule.

              
              

              - **FromPort** *(integer) --* 

                The start of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
              

              - **ToPort** *(integer) --* 

                The end of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
          
            

            - **DestinationCidrBlock** *(string) --* 

              The destination CIDR block assigned to the Traffic Mirror rule.

              
            

            - **SourceCidrBlock** *(string) --* 

              The source CIDR block assigned to the Traffic Mirror rule.

              
            

            - **Description** *(string) --* 

              The description of the Traffic Mirror rule.

              
            

            - **Tags** *(list) --* 

              Tags on Traffic Mirroring filter rules.

              
              

              - *(dict) --* 

                Describes a tag.

                
                

                - **Key** *(string) --* 

                  The key of the tag.

                   

                  Constraints: Tag keys are case-sensitive and accept a maximum of 127 Unicode characters. May not begin with ``aws:``.

                  
                

                - **Value** *(string) --* 

                  The value of the tag.

                   

                  Constraints: Tag values are case-sensitive and accept a maximum of 256 Unicode characters.

                  
            
          
        
      
        

        - **EgressFilterRules** *(list) --* 

          Information about the egress rules that are associated with the Traffic Mirror filter.

          
          

          - *(dict) --* 

            Describes the Traffic Mirror rule.

            
            

            - **TrafficMirrorFilterRuleId** *(string) --* 

              The ID of the Traffic Mirror rule.

              
            

            - **TrafficMirrorFilterId** *(string) --* 

              The ID of the Traffic Mirror filter that the rule is associated with.

              
            

            - **TrafficDirection** *(string) --* 

              The traffic direction assigned to the Traffic Mirror rule.

              
            

            - **RuleNumber** *(integer) --* 

              The rule number of the Traffic Mirror rule.

              
            

            - **RuleAction** *(string) --* 

              The action assigned to the Traffic Mirror rule.

              
            

            - **Protocol** *(integer) --* 

              The protocol assigned to the Traffic Mirror rule.

              
            

            - **DestinationPortRange** *(dict) --* 

              The destination port range assigned to the Traffic Mirror rule.

              
              

              - **FromPort** *(integer) --* 

                The start of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
              

              - **ToPort** *(integer) --* 

                The end of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
          
            

            - **SourcePortRange** *(dict) --* 

              The source port range assigned to the Traffic Mirror rule.

              
              

              - **FromPort** *(integer) --* 

                The start of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
              

              - **ToPort** *(integer) --* 

                The end of the Traffic Mirror port range. This applies to the TCP and UDP protocols.

                
          
            

            - **DestinationCidrBlock** *(string) --* 

              The destination CIDR block assigned to the Traffic Mirror rule.

              
            

            - **SourceCidrBlock** *(string) --* 

              The source CIDR block assigned to the Traffic Mirror rule.

              
            

            - **Description** *(string) --* 

              The description of the Traffic Mirror rule.

              
            

            - **Tags** *(list) --* 

              Tags on Traffic Mirroring filter rules.

              
              

              - *(dict) --* 

                Describes a tag.

                
                

                - **Key** *(string) --* 

                  The key of the tag.

                   

                  Constraints: Tag keys are case-sensitive and accept a maximum of 127 Unicode characters. May not begin with ``aws:``.

                  
                

                - **Value** *(string) --* 

                  The value of the tag.

                   

                  Constraints: Tag values are case-sensitive and accept a maximum of 256 Unicode characters.

                  
            
          
        
      
        

        - **NetworkServices** *(list) --* 

          The network service traffic that is associated with the Traffic Mirror filter.

          
          

          - *(string) --* 
      
        

        - **Description** *(string) --* 

          The description of the Traffic Mirror filter.

          
        

        - **Tags** *(list) --* 

          The tags assigned to the Traffic Mirror filter.

          
          

          - *(dict) --* 

            Describes a tag.

            
            

            - **Key** *(string) --* 

              The key of the tag.

               

              Constraints: Tag keys are case-sensitive and accept a maximum of 127 Unicode characters. May not begin with ``aws:``.

              
            

            - **Value** *(string) --* 

              The value of the tag.

               

              Constraints: Tag values are case-sensitive and accept a maximum of 256 Unicode characters.

              
        
      
    
  