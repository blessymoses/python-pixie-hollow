:doc:`Personalize <../../personalize>` / Client / update_metric_attribution

*************************
update_metric_attribution
*************************



.. py:method:: Personalize.Client.update_metric_attribution(**kwargs)

  

  Updates a metric attribution.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/personalize-2018-05-22/UpdateMetricAttribution>`_  


  **Request Syntax**
  ::

    response = client.update_metric_attribution(
        addMetrics=[
            {
                'eventType': 'string',
                'metricName': 'string',
                'expression': 'string'
            },
        ],
        removeMetrics=[
            'string',
        ],
        metricsOutputConfig={
            's3DataDestination': {
                'path': 'string',
                'kmsKeyArn': 'string'
            },
            'roleArn': 'string'
        },
        metricAttributionArn='string'
    )
    
  :type addMetrics: list
  :param addMetrics: 

    Add new metric attributes to the metric attribution.

    

  
    - *(dict) --* 

      Contains information on a metric that a metric attribution reports on. For more information, see `Measuring impact of recommendations <https://docs.aws.amazon.com/personalize/latest/dg/measuring-recommendation-impact.html>`__.

      

    
      - **eventType** *(string) --* **[REQUIRED]** 

        The metric's event type.

        

      
      - **metricName** *(string) --* **[REQUIRED]** 

        The metric's name. The name helps you identify the metric in Amazon CloudWatch or Amazon S3.

        

      
      - **expression** *(string) --* **[REQUIRED]** 

        The attribute's expression. Available functions are ``SUM()`` or ``SAMPLECOUNT()``. For SUM() functions, provide the dataset type (either Interactions or Items) and column to sum as a parameter. For example SUM(Items.PRICE).

        

      
    

  :type removeMetrics: list
  :param removeMetrics: 

    Remove metric attributes from the metric attribution.

    

  
    - *(string) --* 

    

  :type metricsOutputConfig: dict
  :param metricsOutputConfig: 

    An output config for the metric attribution.

    

  
    - **s3DataDestination** *(dict) --* 

      The configuration details of an Amazon S3 input or output bucket.

      

    
      - **path** *(string) --* **[REQUIRED]** 

        The file path of the Amazon S3 bucket.

        

      
      - **kmsKeyArn** *(string) --* 

        The Amazon Resource Name (ARN) of the Key Management Service (KMS) key that Amazon Personalize uses to encrypt or decrypt the input and output files.

        

      
    
    - **roleArn** *(string) --* **[REQUIRED]** 

      The Amazon Resource Name (ARN) of the IAM service role that has permissions to add data to your output Amazon S3 bucket and add metrics to Amazon CloudWatch. For more information, see `Measuring impact of recommendations <https://docs.aws.amazon.com/personalize/latest/dg/measuring-recommendation-impact.html>`__.

      

    
  
  :type metricAttributionArn: string
  :param metricAttributionArn: 

    The Amazon Resource Name (ARN) for the metric attribution to update.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'metricAttributionArn': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **metricAttributionArn** *(string) --* 

        The Amazon Resource Name (ARN) for the metric attribution that you updated.

        
  
  **Exceptions**
  
  *   :py:class:`Personalize.Client.exceptions.InvalidInputException`

  
  *   :py:class:`Personalize.Client.exceptions.ResourceNotFoundException`

  
  *   :py:class:`Personalize.Client.exceptions.ResourceInUseException`

  
  *   :py:class:`Personalize.Client.exceptions.ResourceAlreadyExistsException`

  