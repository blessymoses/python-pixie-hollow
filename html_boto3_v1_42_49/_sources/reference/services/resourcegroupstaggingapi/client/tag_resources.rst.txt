:doc:`ResourceGroupsTaggingAPI <../../resourcegroupstaggingapi>` / Client / tag_resources

*************
tag_resources
*************



.. py:method:: ResourceGroupsTaggingAPI.Client.tag_resources(**kwargs)

  

  Applies one or more tags to the specified resources. Note the following:

   

  
  * Not all resources can have tags. For a list of services with resources that support tagging using this operation, see `Services that support the Resource Groups Tagging API <https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/supported-services.html>`__. If the resource doesn't yet support this operation, the resource's service might support tagging using its own API operations. For more information, refer to the documentation for that service.
   
  * Each resource can have up to 50 tags. For other limits, see `Tag Naming and Usage Conventions <https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html#tag-conventions>`__ in the *Amazon Web Services General Reference.*
   
  * You can only tag resources that are located in the specified Amazon Web Services Region for the Amazon Web Services account.
   
  * To add tags to a resource, you need the necessary permissions for the service that the resource belongs to as well as permissions for adding tags. For more information, see the documentation for each service.
   
  * When you use the `Amazon Web Services Resource Groups Tagging API <https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/overview.html>`__ to update tags for Amazon Web Services CloudFormation stack sets, Amazon Web Services calls the `Amazon Web Services CloudFormation UpdateStack <https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html>`__ operation. This operation may initiate additional resource property updates in addition to the desired tag updates. To avoid unexpected resource updates, Amazon Web Services recommends that you only apply or update tags to your CloudFormation stack sets using Amazon Web Services CloudFormation.
  

   

  .. warning::

     

    Do not store personally identifiable information (PII) or other confidential or sensitive information in tags. We use tags to provide you with billing and administration services. Tags are not intended to be used for private or sensitive data.

     

   

  **Minimum permissions**

   

  In addition to the ``tag:TagResources`` permission required by this operation, you must also have the tagging permission defined by the service that created the resource. For example, to tag an Amazon EC2 instance using the ``TagResources`` operation, you must have both of the following permissions:

   

  
  * ``tag:TagResources``
   
  * ``ec2:CreateTags``
  

   

  .. note::

    

    In addition, some services might have specific requirements for tagging some types of resources. For example, to tag an Amazon S3 bucket, you must also have the ``s3:GetBucketTagging`` permission. If the expected minimum permissions don't work, check the documentation for that service's tagging APIs for more information.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/resourcegroupstaggingapi-2017-01-26/TagResources>`_  


  **Request Syntax**
  ::

    response = client.tag_resources(
        ResourceARNList=[
            'string',
        ],
        Tags={
            'string': 'string'
        }
    )
    
  :type ResourceARNList: list
  :param ResourceARNList: **[REQUIRED]** 

    Specifies the list of ARNs of the resources that you want to apply tags to.

     

    An ARN (Amazon Resource Name) uniquely identifies a resource. For more information, see `Amazon Resource Names (ARNs) and Amazon Web Services Service Namespaces <https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html>`__ in the *Amazon Web Services General Reference*.

    

  
    - *(string) --* 

    

  :type Tags: dict
  :param Tags: **[REQUIRED]** 

    Specifies a list of tags that you want to add to the specified resources. A tag consists of a key and a value that you define.

    

  
    - *(string) --* 

    
      - *(string) --* 

      


  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'FailedResourcesMap': {
              'string': {
                  'StatusCode': 123,
                  'ErrorCode': 'InternalServiceException'|'InvalidParameterException',
                  'ErrorMessage': 'string'
              }
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **FailedResourcesMap** *(dict) --* 

        A map containing a key-value pair for each failed item that couldn't be tagged. The key is the ARN of the failed resource. The value is a ``FailureInfo`` object that contains an error code, a status code, and an error message. If there are no errors, the ``FailedResourcesMap`` is empty.

        
        

        - *(string) --* 
          

          - *(dict) --* 

            Information about the errors that are returned for each failed resource. This information can include ``InternalServiceException`` and ``InvalidParameterException`` errors. It can also include any valid error code returned by the Amazon Web Services service that hosts the resource that the ARN key represents.

             

            The following are common error codes that you might receive from other Amazon Web Services services:

             

            
            * **InternalServiceException** – This can mean that the Resource Groups Tagging API didn't receive a response from another Amazon Web Services service. It can also mean that the resource type in the request is not supported by the Resource Groups Tagging API. In these cases, it's safe to retry the request and then call `GetResources <https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/API_GetResources.html>`__ to verify the changes.
             
            * **AccessDeniedException** – This can mean that you need permission to call the tagging operations in the Amazon Web Services service that contains the resource. For example, to use the Resource Groups Tagging API to tag a Amazon CloudWatch alarm resource, you need permission to call both `TagResources <https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/API_TagResources.html>`__ *and* `TagResource <https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_TagResource.html>`__ in the CloudWatch API.
            

             

            For more information on errors that are generated from other Amazon Web Services services, see the documentation for that service.

            
            

            - **StatusCode** *(integer) --* 

              The HTTP status code of the common error.

              
            

            - **ErrorCode** *(string) --* 

              The code of the common error. Valid values include ``InternalServiceException``, ``InvalidParameterException``, and any valid error code returned by the Amazon Web Services service that hosts the resource that you want to tag.

              
            

            - **ErrorMessage** *(string) --* 

              The message of the common error.

              
        
    
  
  
  **Exceptions**
  
  *   :py:class:`ResourceGroupsTaggingAPI.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`ResourceGroupsTaggingAPI.Client.exceptions.ThrottledException`

  
  *   :py:class:`ResourceGroupsTaggingAPI.Client.exceptions.InternalServiceException`

  