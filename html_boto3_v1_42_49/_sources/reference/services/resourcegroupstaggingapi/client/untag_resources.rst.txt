:doc:`ResourceGroupsTaggingAPI <../../resourcegroupstaggingapi>` / Client / untag_resources

***************
untag_resources
***************



.. py:method:: ResourceGroupsTaggingAPI.Client.untag_resources(**kwargs)

  

  Removes the specified tags from the specified resources. When you specify a tag key, the action removes both that key and its associated value. The operation succeeds even if you attempt to remove tags from a resource that were already removed. Note the following:

   

  
  * To remove tags from a resource, you need the necessary permissions for the service that the resource belongs to as well as permissions for removing tags. For more information, see the documentation for the service whose resource you want to untag.
   
  * You can only tag resources that are located in the specified Amazon Web Services Region for the calling Amazon Web Services account.
  

   

  **Minimum permissions**

   

  In addition to the ``tag:UntagResources`` permission required by this operation, you must also have the remove tags permission defined by the service that created the resource. For example, to remove the tags from an Amazon EC2 instance using the ``UntagResources`` operation, you must have both of the following permissions:

   

  
  * ``tag:UntagResources``
   
  * ``ec2:DeleteTags``
  

   

  .. note::

    

    In addition, some services might have specific requirements for untagging some types of resources. For example, to untag Amazon Web Services Glue Connection, you must also have the ``glue:GetConnection`` permission. If the expected minimum permissions don't work, check the documentation for that service's tagging APIs for more information.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/resourcegroupstaggingapi-2017-01-26/UntagResources>`_  


  **Request Syntax**
  ::

    response = client.untag_resources(
        ResourceARNList=[
            'string',
        ],
        TagKeys=[
            'string',
        ]
    )
    
  :type ResourceARNList: list
  :param ResourceARNList: **[REQUIRED]** 

    Specifies a list of ARNs of the resources that you want to remove tags from.

     

    An ARN (Amazon Resource Name) uniquely identifies a resource. For more information, see `Amazon Resource Names (ARNs) and Amazon Web Services Service Namespaces <https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html>`__ in the *Amazon Web Services General Reference*.

    

  
    - *(string) --* 

    

  :type TagKeys: list
  :param TagKeys: **[REQUIRED]** 

    Specifies a list of tag keys that you want to remove from the specified resources.

    

  
    - *(string) --* 

    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'FailedResourcesMap': {
              'string': {
                  'StatusCode': 123,
                  'ErrorCode': 'InternalServiceException'|'InvalidParameterException',
                  'ErrorMessage': 'string'
              }
          }
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **FailedResourcesMap** *(dict) --* 

        A map containing a key-value pair for each failed item that couldn't be untagged. The key is the ARN of the failed resource. The value is a ``FailureInfo`` object that contains an error code, a status code, and an error message. If there are no errors, the ``FailedResourcesMap`` is empty.

        
        

        - *(string) --* 
          

          - *(dict) --* 

            Information about the errors that are returned for each failed resource. This information can include ``InternalServiceException`` and ``InvalidParameterException`` errors. It can also include any valid error code returned by the Amazon Web Services service that hosts the resource that the ARN key represents.

             

            The following are common error codes that you might receive from other Amazon Web Services services:

             

            
            * **InternalServiceException** – This can mean that the Resource Groups Tagging API didn't receive a response from another Amazon Web Services service. It can also mean that the resource type in the request is not supported by the Resource Groups Tagging API. In these cases, it's safe to retry the request and then call `GetResources <https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/API_GetResources.html>`__ to verify the changes.
             
            * **AccessDeniedException** – This can mean that you need permission to call the tagging operations in the Amazon Web Services service that contains the resource. For example, to use the Resource Groups Tagging API to tag a Amazon CloudWatch alarm resource, you need permission to call both `TagResources <https://docs.aws.amazon.com/resourcegroupstagging/latest/APIReference/API_TagResources.html>`__ *and* `TagResource <https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_TagResource.html>`__ in the CloudWatch API.
            

             

            For more information on errors that are generated from other Amazon Web Services services, see the documentation for that service.

            
            

            - **StatusCode** *(integer) --* 

              The HTTP status code of the common error.

              
            

            - **ErrorCode** *(string) --* 

              The code of the common error. Valid values include ``InternalServiceException``, ``InvalidParameterException``, and any valid error code returned by the Amazon Web Services service that hosts the resource that you want to tag.

              
            

            - **ErrorMessage** *(string) --* 

              The message of the common error.

              
        
    
  
  
  **Exceptions**
  
  *   :py:class:`ResourceGroupsTaggingAPI.Client.exceptions.InvalidParameterException`

  
  *   :py:class:`ResourceGroupsTaggingAPI.Client.exceptions.ThrottledException`

  
  *   :py:class:`ResourceGroupsTaggingAPI.Client.exceptions.InternalServiceException`

  