:doc:`IAM <../../iam>` / Client / upload_server_certificate

*************************
upload_server_certificate
*************************



.. py:method:: IAM.Client.upload_server_certificate(**kwargs)

  

  Uploads a server certificate entity for the Amazon Web Services account. The server certificate entity includes a public key certificate, a private key, and an optional certificate chain, which should all be PEM-encoded.

   

  We recommend that you use `Certificate Manager <https://docs.aws.amazon.com/acm/>`__ to provision, manage, and deploy your server certificates. With ACM you can request a certificate, deploy it to Amazon Web Services resources, and let ACM handle certificate renewals for you. Certificates provided by ACM are free. For more information about using ACM, see the `Certificate Manager User Guide <https://docs.aws.amazon.com/acm/latest/userguide/>`__.

   

  For more information about working with server certificates, see `Working with server certificates <https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_server-certs.html>`__ in the *IAM User Guide*. This topic includes a list of Amazon Web Services services that can use the server certificates that you manage with IAM.

   

  For information about the number of server certificates you can upload, see `IAM and STS quotas <https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_iam-quotas.html>`__ in the *IAM User Guide*.

   

  .. note::

    

    Because the body of the public key certificate, private key, and the certificate chain can be large, you should use POST rather than GET when calling ``UploadServerCertificate``. For information about setting up signatures and authorization through the API, see `Signing Amazon Web Services API requests <https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html>`__ in the *Amazon Web Services General Reference*. For general information about using the Query API with IAM, see `Calling the API by making HTTP query requests <https://docs.aws.amazon.com/IAM/latest/UserGuide/programming.html>`__ in the *IAM User Guide*.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/iam-2010-05-08/UploadServerCertificate>`_  


  **Request Syntax**
  ::

    response = client.upload_server_certificate(
        Path='string',
        ServerCertificateName='string',
        CertificateBody='string',
        PrivateKey='string',
        CertificateChain='string',
        Tags=[
            {
                'Key': 'string',
                'Value': 'string'
            },
        ]
    )
    
  :type Path: string
  :param Path: 

    The path for the server certificate. For more information about paths, see `IAM identifiers <https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_Identifiers.html>`__ in the *IAM User Guide*.

     

    This parameter is optional. If it is not included, it defaults to a slash (/). This parameter allows (through its `regex pattern <http://wikipedia.org/wiki/regex>`__) a string of characters consisting of either a forward slash (/) by itself or a string that must begin and end with forward slashes. In addition, it can contain any ASCII character from the ! ( ``\u0021``) through the DEL character ( ``\u007F``), including most punctuation characters, digits, and upper and lowercased letters.

     

    .. note::

      

      If you are uploading a server certificate specifically for use with Amazon CloudFront distributions, you must specify a path using the ``path`` parameter. The path must begin with ``/cloudfront`` and must include a trailing slash (for example, ``/cloudfront/test/``).

      

    

  
  :type ServerCertificateName: string
  :param ServerCertificateName: **[REQUIRED]** 

    The name for the server certificate. Do not include the path in this value. The name of the certificate cannot contain any spaces.

     

    This parameter allows (through its `regex pattern <http://wikipedia.org/wiki/regex>`__) a string of characters consisting of upper and lowercase alphanumeric characters with no spaces. You can also include any of the following characters: _+=,.@-

    

  
  :type CertificateBody: string
  :param CertificateBody: **[REQUIRED]** 

    The contents of the public key certificate in PEM-encoded format.

     

    The `regex pattern <http://wikipedia.org/wiki/regex>`__ used to validate this parameter is a string of characters consisting of the following:

     

    
    * Any printable ASCII character ranging from the space character ( ``\u0020``) through the end of the ASCII character range
     
    * The printable characters in the Basic Latin and Latin-1 Supplement character set (through ``\u00FF``)
     
    * The special characters tab ( ``\u0009``), line feed ( ``\u000A``), and carriage return ( ``\u000D``)
    

    

  
  :type PrivateKey: string
  :param PrivateKey: **[REQUIRED]** 

    The contents of the private key in PEM-encoded format.

     

    The `regex pattern <http://wikipedia.org/wiki/regex>`__ used to validate this parameter is a string of characters consisting of the following:

     

    
    * Any printable ASCII character ranging from the space character ( ``\u0020``) through the end of the ASCII character range
     
    * The printable characters in the Basic Latin and Latin-1 Supplement character set (through ``\u00FF``)
     
    * The special characters tab ( ``\u0009``), line feed ( ``\u000A``), and carriage return ( ``\u000D``)
    

    

  
  :type CertificateChain: string
  :param CertificateChain: 

    The contents of the certificate chain. This is typically a concatenation of the PEM-encoded public key certificates of the chain.

     

    The `regex pattern <http://wikipedia.org/wiki/regex>`__ used to validate this parameter is a string of characters consisting of the following:

     

    
    * Any printable ASCII character ranging from the space character ( ``\u0020``) through the end of the ASCII character range
     
    * The printable characters in the Basic Latin and Latin-1 Supplement character set (through ``\u00FF``)
     
    * The special characters tab ( ``\u0009``), line feed ( ``\u000A``), and carriage return ( ``\u000D``)
    

    

  
  :type Tags: list
  :param Tags: 

    A list of tags that you want to attach to the new IAM server certificate resource. Each tag consists of a key name and an associated value. For more information about tagging, see `Tagging IAM resources <https://docs.aws.amazon.com/IAM/latest/UserGuide/id_tags.html>`__ in the *IAM User Guide*.

     

    .. note::

      

      If any one of the tags is invalid or if you exceed the allowed maximum number of tags, then the entire request fails and the resource is not created.

      

    

  
    - *(dict) --* 

      A structure that represents user-provided metadata that can be associated with an IAM resource. For more information about tagging, see `Tagging IAM resources <https://docs.aws.amazon.com/IAM/latest/UserGuide/id_tags.html>`__ in the *IAM User Guide*.

      

    
      - **Key** *(string) --* **[REQUIRED]** 

        The key name that can be used to look up or retrieve the associated value. For example, ``Department`` or ``Cost Center`` are common choices.

        

      
      - **Value** *(string) --* **[REQUIRED]** 

        The value associated with this tag. For example, tags with a key name of ``Department`` could have values such as ``Human Resources``, ``Accounting``, and ``Support``. Tags with a key name of ``Cost Center`` might have values that consist of the number associated with the different cost centers in your company. Typically, many resources have tags with the same key name but with different values.

        

      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ServerCertificateMetadata': {
              'Path': 'string',
              'ServerCertificateName': 'string',
              'ServerCertificateId': 'string',
              'Arn': 'string',
              'UploadDate': datetime(2015, 1, 1),
              'Expiration': datetime(2015, 1, 1)
          },
          'Tags': [
              {
                  'Key': 'string',
                  'Value': 'string'
              },
          ]
      }
      
    **Response Structure**

    

    - *(dict) --* 

      Contains the response to a successful `UploadServerCertificate <https://docs.aws.amazon.com/IAM/latest/APIReference/API_UploadServerCertificate.html>`__ request.

      
      

      - **ServerCertificateMetadata** *(dict) --* 

        The meta information of the uploaded server certificate without its certificate body, certificate chain, and private key.

        
        

        - **Path** *(string) --* 

          The path to the server certificate. For more information about paths, see `IAM identifiers <https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_Identifiers.html>`__ in the *IAM User Guide*.

          
        

        - **ServerCertificateName** *(string) --* 

          The name that identifies the server certificate.

          
        

        - **ServerCertificateId** *(string) --* 

          The stable and unique string identifying the server certificate. For more information about IDs, see `IAM identifiers <https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_Identifiers.html>`__ in the *IAM User Guide*.

          
        

        - **Arn** *(string) --* 

          The Amazon Resource Name (ARN) specifying the server certificate. For more information about ARNs and how to use them in policies, see `IAM identifiers <https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_Identifiers.html>`__ in the *IAM User Guide*.

          
        

        - **UploadDate** *(datetime) --* 

          The date when the server certificate was uploaded.

          
        

        - **Expiration** *(datetime) --* 

          The date on which the certificate is set to expire.

          
    
      

      - **Tags** *(list) --* 

        A list of tags that are attached to the new IAM server certificate. The returned list of tags is sorted by tag key. For more information about tagging, see `Tagging IAM resources <https://docs.aws.amazon.com/IAM/latest/UserGuide/id_tags.html>`__ in the *IAM User Guide*.

        
        

        - *(dict) --* 

          A structure that represents user-provided metadata that can be associated with an IAM resource. For more information about tagging, see `Tagging IAM resources <https://docs.aws.amazon.com/IAM/latest/UserGuide/id_tags.html>`__ in the *IAM User Guide*.

          
          

          - **Key** *(string) --* 

            The key name that can be used to look up or retrieve the associated value. For example, ``Department`` or ``Cost Center`` are common choices.

            
          

          - **Value** *(string) --* 

            The value associated with this tag. For example, tags with a key name of ``Department`` could have values such as ``Human Resources``, ``Accounting``, and ``Support``. Tags with a key name of ``Cost Center`` might have values that consist of the number associated with the different cost centers in your company. Typically, many resources have tags with the same key name but with different values.

            
      
    
  
  **Exceptions**
  
  *   :py:class:`IAM.Client.exceptions.LimitExceededException`

  
  *   :py:class:`IAM.Client.exceptions.InvalidInputException`

  
  *   :py:class:`IAM.Client.exceptions.EntityAlreadyExistsException`

  
  *   :py:class:`IAM.Client.exceptions.MalformedCertificateException`

  
  *   :py:class:`IAM.Client.exceptions.KeyPairMismatchException`

  
  *   :py:class:`IAM.Client.exceptions.ConcurrentModificationException`

  
  *   :py:class:`IAM.Client.exceptions.ServiceFailureException`

  

  **Examples**

  The following upload-server-certificate command uploads a server certificate to your AWS account:
  ::

    response = client.upload_server_certificate(
        CertificateBody='-----BEGIN CERTIFICATE-----<a very long certificate text string>-----END CERTIFICATE-----',
        Path='/company/servercerts/',
        PrivateKey='-----BEGIN DSA PRIVATE KEY-----<a very long private key string>-----END DSA PRIVATE KEY-----',
        ServerCertificateName='ProdServerCert',
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'ServerCertificateMetadata': {
            'Arn': 'arn:aws:iam::123456789012:server-certificate/company/servercerts/ProdServerCert',
            'Expiration': datetime(2012, 5, 8, 1, 2, 3, 1, 129, 0),
            'Path': '/company/servercerts/',
            'ServerCertificateId': 'ASCA1111111111EXAMPLE',
            'ServerCertificateName': 'ProdServerCert',
            'UploadDate': datetime(2010, 5, 8, 1, 2, 3, 5, 128, 0),
        },
        'ResponseMetadata': {
            '...': '...',
        },
    }

  