:doc:`KMS <../../kms>` / Client / disable_key_rotation

********************
disable_key_rotation
********************



.. py:method:: KMS.Client.disable_key_rotation(**kwargs)

  

  Disables `automatic rotation of the key material <https://docs.aws.amazon.com/kms/latest/developerguide/rotating-keys-enable-disable.html>`__ of the specified symmetric encryption KMS key.

   

  Automatic key rotation is supported only on symmetric encryption KMS keys. You cannot enable automatic rotation of `asymmetric KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html>`__, `HMAC KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html>`__, KMS keys with `imported key material <https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html>`__, or KMS keys in a `custom key store <https://docs.aws.amazon.com/kms/latest/developerguide/key-store-overview.html>`__. To enable or disable automatic rotation of a set of related `multi-Region keys <https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html#multi-region-rotate>`__, set the property on the primary key.

   

  You can enable (  EnableKeyRotation) and disable automatic rotation of the key material in `customer managed KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-mgn-key>`__. Key material rotation of `Amazon Web Services managed KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-key>`__ is not configurable. KMS always rotates the key material for every year. Rotation of `Amazon Web Services owned KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-owned-key>`__ varies.

   

  .. note::

    

    In May 2022, KMS changed the rotation schedule for Amazon Web Services managed keys from every three years to every year. For details, see  EnableKeyRotation.

    

   

  The KMS key that you use for this operation must be in a compatible key state. For details, see `Key states of KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html>`__ in the *Key Management Service Developer Guide*.

   

  **Cross-account use**: No. You cannot perform this operation on a KMS key in a different Amazon Web Services account.

   

  **Required permissions**: `kms\:DisableKeyRotation <https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html>`__ (key policy)

   

  **Related operations:**

   

  
  *  EnableKeyRotation
   
  *  GetKeyRotationStatus
   
  *  ListKeyRotations
   
  *  RotateKeyOnDemand
  

   

  **Eventual consistency**: The KMS API follows an eventual consistency model. For more information, see `KMS eventual consistency <https://docs.aws.amazon.com/kms/latest/developerguide/accessing-kms.html#programming-eventual-consistency>`__.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/kms-2014-11-01/DisableKeyRotation>`_  


  **Request Syntax**
  ::

    response = client.disable_key_rotation(
        KeyId='string'
    )
    
  :type KeyId: string
  :param KeyId: **[REQUIRED]** 

    Identifies a symmetric encryption KMS key. You cannot enable or disable automatic rotation of `asymmetric KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/symmetric-asymmetric.html#asymmetric-cmks>`__, `HMAC KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/hmac.html>`__, KMS keys with `imported key material <https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html>`__, or KMS keys in a `custom key store <https://docs.aws.amazon.com/kms/latest/developerguide/key-store-overview.html>`__.

     

    Specify the key ID or key ARN of the KMS key.

     

    For example:

     

    
    * Key ID: ``1234abcd-12ab-34cd-56ef-1234567890ab``
     
    * Key ARN: ``arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab``
    

     

    To get the key ID and key ARN for a KMS key, use  ListKeys or  DescribeKey.

    

  
  
  :returns: None
  **Exceptions**
  
  *   :py:class:`KMS.Client.exceptions.NotFoundException`

  
  *   :py:class:`KMS.Client.exceptions.DisabledException`

  
  *   :py:class:`KMS.Client.exceptions.InvalidArnException`

  
  *   :py:class:`KMS.Client.exceptions.DependencyTimeoutException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInternalException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInvalidStateException`

  
  *   :py:class:`KMS.Client.exceptions.UnsupportedOperationException`

  

  **Examples**

  The following example disables automatic annual rotation of the key material for the specified KMS key.
  ::

    response = client.disable_key_rotation(
        # The identifier of the KMS key whose key material will no longer be rotated. You can use the key ID or the Amazon Resource Name (ARN) of the KMS key.
        KeyId='1234abcd-12ab-34cd-56ef-1234567890ab',
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'ResponseMetadata': {
            '...': '...',
        },
    }

  