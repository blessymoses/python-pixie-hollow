:doc:`KMS <../../kms>` / Client / delete_imported_key_material

****************************
delete_imported_key_material
****************************



.. py:method:: KMS.Client.delete_imported_key_material(**kwargs)

  

  Deletes key material that was previously imported. This operation makes the specified KMS key temporarily unusable. To restore the usability of the KMS key, reimport the same key material. For more information about importing key material into KMS, see `Importing Key Material <https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html>`__ in the *Key Management Service Developer Guide*.

   

  When the specified KMS key is in the ``PendingDeletion`` state, this operation does not change the KMS key's state. Otherwise, it changes the KMS key's state to ``PendingImport``.

   

  **Considerations for multi-Region symmetric encryption keys**

   

  
  * When you delete the key material of a primary Region key that is in ``PENDING_ROTATION`` or ``PENDING_MULTI_REGION_IMPORT_AND_ROTATION``state, you'll also be deleting the key materials for the replica Region keys.
   
  * If you delete any key material of a replica Region key, the primary Region key and other replica Region keys remain unchanged.
  

   

  The KMS key that you use for this operation must be in a compatible key state. For details, see `Key states of KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html>`__ in the *Key Management Service Developer Guide*.

   

  **Cross-account use**: No. You cannot perform this operation on a KMS key in a different Amazon Web Services account.

   

  **Required permissions**: `kms\:DeleteImportedKeyMaterial <https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html>`__ (key policy)

   

  **Related operations:**

   

  
  *  GetParametersForImport
   
  *  ListKeyRotations
   
  *  ImportKeyMaterial
  

   

  **Eventual consistency**: The KMS API follows an eventual consistency model. For more information, see `KMS eventual consistency <https://docs.aws.amazon.com/kms/latest/developerguide/accessing-kms.html#programming-eventual-consistency>`__.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/kms-2014-11-01/DeleteImportedKeyMaterial>`_  


  **Request Syntax**
  ::

    response = client.delete_imported_key_material(
        KeyId='string',
        KeyMaterialId='string'
    )
    
  :type KeyId: string
  :param KeyId: **[REQUIRED]** 

    Identifies the KMS key from which you are deleting imported key material. The ``Origin`` of the KMS key must be ``EXTERNAL``.

     

    Specify the key ID or key ARN of the KMS key.

     

    For example:

     

    
    * Key ID: ``1234abcd-12ab-34cd-56ef-1234567890ab``
     
    * Key ARN: ``arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab``
    

     

    To get the key ID and key ARN for a KMS key, use  ListKeys or  DescribeKey.

    

  
  :type KeyMaterialId: string
  :param KeyMaterialId: 

    Identifies the imported key material you are deleting.

     

    .. warning::

       

      If no KeyMaterialId is specified, KMS deletes the current key material.

       

     

    To get the list of key material IDs associated with a KMS key, use  ListKeyRotations.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'KeyId': 'string',
          'KeyMaterialId': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **KeyId** *(string) --* 

        The Amazon Resource Name ( `key ARN <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#key-id-key-ARN>`__) of the KMS key from which the key material was deleted.

        
      

      - **KeyMaterialId** *(string) --* 

        Identifies the deleted key material.

        
  
  **Exceptions**
  
  *   :py:class:`KMS.Client.exceptions.InvalidArnException`

  
  *   :py:class:`KMS.Client.exceptions.UnsupportedOperationException`

  
  *   :py:class:`KMS.Client.exceptions.DependencyTimeoutException`

  
  *   :py:class:`KMS.Client.exceptions.NotFoundException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInternalException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInvalidStateException`

  

  **Examples**

  The following example deletes the imported key material from the specified KMS key.
  ::

    response = client.delete_imported_key_material(
        # The identifier of the KMS key whose imported key material you are deleting. You can use the key ID or the Amazon Resource Name (ARN) of the KMS key.
        KeyId='1234abcd-12ab-34cd-56ef-1234567890ab',
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'ResponseMetadata': {
            '...': '...',
        },
    }

  