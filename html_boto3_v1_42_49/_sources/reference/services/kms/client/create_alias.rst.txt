:doc:`KMS <../../kms>` / Client / create_alias

************
create_alias
************



.. py:method:: KMS.Client.create_alias(**kwargs)

  

  Creates a friendly name for a KMS key.

   

  .. note::

    

    Adding, deleting, or updating an alias can allow or deny permission to the KMS key. For details, see `ABAC for KMS <https://docs.aws.amazon.com/kms/latest/developerguide/abac.html>`__ in the *Key Management Service Developer Guide*.

    

   

  You can use an alias to identify a KMS key in the KMS console, in the  DescribeKey operation and in `cryptographic operations <https://docs.aws.amazon.com/kms/latest/developerguide/kms-cryptography.html#cryptographic-operations>`__, such as  Encrypt and  GenerateDataKey. You can also change the KMS key that's associated with the alias (  UpdateAlias) or delete the alias (  DeleteAlias) at any time. These operations don't affect the underlying KMS key.

   

  You can associate the alias with any customer managed key in the same Amazon Web Services Region. Each alias is associated with only one KMS key at a time, but a KMS key can have multiple aliases. A valid KMS key is required. You can't create an alias without a KMS key.

   

  The alias must be unique in the account and Region, but you can have aliases with the same name in different Regions. For detailed information about aliases, see `Aliases in KMS <https://docs.aws.amazon.com/kms/latest/developerguide/kms-alias.html>`__ in the *Key Management Service Developer Guide*.

   

  This operation does not return a response. To get the alias that you created, use the  ListAliases operation.

   

  The KMS key that you use for this operation must be in a compatible key state. For details, see `Key states of KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html>`__ in the *Key Management Service Developer Guide*.

   

  **Cross-account use**: No. You cannot perform this operation on an alias in a different Amazon Web Services account.

   

  **Required permissions**

   

  
  * `kms\:CreateAlias <https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html>`__ on the alias (IAM policy).
   
  * `kms\:CreateAlias <https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html>`__ on the KMS key (key policy).
  

   

  For details, see `Controlling access to aliases <https://docs.aws.amazon.com/kms/latest/developerguide/alias-access.html>`__ in the *Key Management Service Developer Guide*.

   

  **Related operations:**

   

  
  *  DeleteAlias
   
  *  ListAliases
   
  *  UpdateAlias
  

   

  **Eventual consistency**: The KMS API follows an eventual consistency model. For more information, see `KMS eventual consistency <https://docs.aws.amazon.com/kms/latest/developerguide/accessing-kms.html#programming-eventual-consistency>`__.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/kms-2014-11-01/CreateAlias>`_  


  **Request Syntax**
  ::

    response = client.create_alias(
        AliasName='string',
        TargetKeyId='string'
    )
    
  :type AliasName: string
  :param AliasName: **[REQUIRED]** 

    Specifies the alias name. This value must begin with ``alias/`` followed by a name, such as ``alias/ExampleAlias``.

     

    .. warning::

       

      Do not include confidential or sensitive information in this field. This field may be displayed in plaintext in CloudTrail logs and other output.

       

     

    The ``AliasName`` value must be string of 1-256 characters. It can contain only alphanumeric characters, forward slashes (/), underscores (_), and dashes (-). The alias name cannot begin with ``alias/aws/``. The ``alias/aws/`` prefix is reserved for `Amazon Web Services managed keys <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-key>`__.

    

  
  :type TargetKeyId: string
  :param TargetKeyId: **[REQUIRED]** 

    Associates the alias with the specified `customer managed key <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-mgn-key>`__. The KMS key must be in the same Amazon Web Services Region.

     

    A valid key ID is required. If you supply a null or empty string value, this operation returns an error.

     

    For help finding the key ID and ARN, see `Find the key ID and key ARN <https://docs.aws.amazon.com/kms/latest/developerguide/find-cmk-id-arn.html>`__ in the *Key Management Service Developer Guide* .

     

    Specify the key ID or key ARN of the KMS key.

     

    For example:

     

    
    * Key ID: ``1234abcd-12ab-34cd-56ef-1234567890ab``
     
    * Key ARN: ``arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab``
    

     

    To get the key ID and key ARN for a KMS key, use  ListKeys or  DescribeKey.

    

  
  
  :returns: None
  **Exceptions**
  
  *   :py:class:`KMS.Client.exceptions.DependencyTimeoutException`

  
  *   :py:class:`KMS.Client.exceptions.AlreadyExistsException`

  
  *   :py:class:`KMS.Client.exceptions.NotFoundException`

  
  *   :py:class:`KMS.Client.exceptions.InvalidAliasNameException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInternalException`

  
  *   :py:class:`KMS.Client.exceptions.LimitExceededException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInvalidStateException`

  

  **Examples**

  The following example creates an alias for the specified KMS key.
  ::

    response = client.create_alias(
        # The alias to create. Aliases must begin with 'alias/'. Do not use aliases that begin with 'alias/aws' because they are reserved for use by AWS.
        AliasName='alias/ExampleAlias',
        # The identifier of the KMS key whose alias you are creating. You can use the key ID or the Amazon Resource Name (ARN) of the KMS key.
        TargetKeyId='1234abcd-12ab-34cd-56ef-1234567890ab',
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'ResponseMetadata': {
            '...': '...',
        },
    }

  