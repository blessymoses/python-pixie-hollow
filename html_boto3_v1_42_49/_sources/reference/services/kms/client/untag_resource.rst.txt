:doc:`KMS <../../kms>` / Client / untag_resource

**************
untag_resource
**************



.. py:method:: KMS.Client.untag_resource(**kwargs)

  

  Deletes tags from a `customer managed key <https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-mgn-key>`__. To delete a tag, specify the tag key and the KMS key.

   

  .. note::

    

    Tagging or untagging a KMS key can allow or deny permission to the KMS key. For details, see `ABAC for KMS <https://docs.aws.amazon.com/kms/latest/developerguide/abac.html>`__ in the *Key Management Service Developer Guide*.

    

   

  When it succeeds, the ``UntagResource`` operation doesn't return any output. Also, if the specified tag key isn't found on the KMS key, it doesn't throw an exception or return a response. To confirm that the operation worked, use the  ListResourceTags operation.

   

  For information about using tags in KMS, see `Tagging keys <https://docs.aws.amazon.com/kms/latest/developerguide/tagging-keys.html>`__. For general information about tags, including the format and syntax, see `Tagging Amazon Web Services resources <https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html>`__ in the *Amazon Web Services General Reference*.

   

  The KMS key that you use for this operation must be in a compatible key state. For details, see `Key states of KMS keys <https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html>`__ in the *Key Management Service Developer Guide*.

   

  **Cross-account use**: No. You cannot perform this operation on a KMS key in a different Amazon Web Services account.

   

  **Required permissions**: `kms\:UntagResource <https://docs.aws.amazon.com/kms/latest/developerguide/kms-api-permissions-reference.html>`__ (key policy)

   

  **Related operations**

   

  
  *  CreateKey
   
  *  ListResourceTags
   
  *  ReplicateKey
   
  *  TagResource
  

   

  **Eventual consistency**: The KMS API follows an eventual consistency model. For more information, see `KMS eventual consistency <https://docs.aws.amazon.com/kms/latest/developerguide/accessing-kms.html#programming-eventual-consistency>`__.

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/kms-2014-11-01/UntagResource>`_  


  **Request Syntax**
  ::

    response = client.untag_resource(
        KeyId='string',
        TagKeys=[
            'string',
        ]
    )
    
  :type KeyId: string
  :param KeyId: **[REQUIRED]** 

    Identifies the KMS key from which you are removing tags.

     

    Specify the key ID or key ARN of the KMS key.

     

    For example:

     

    
    * Key ID: ``1234abcd-12ab-34cd-56ef-1234567890ab``
     
    * Key ARN: ``arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab``
    

     

    To get the key ID and key ARN for a KMS key, use  ListKeys or  DescribeKey.

    

  
  :type TagKeys: list
  :param TagKeys: **[REQUIRED]** 

    One or more tag keys. Specify only the tag keys, not the tag values.

    

  
    - *(string) --* 

    

  
  :returns: None
  **Exceptions**
  
  *   :py:class:`KMS.Client.exceptions.KMSInternalException`

  
  *   :py:class:`KMS.Client.exceptions.NotFoundException`

  
  *   :py:class:`KMS.Client.exceptions.InvalidArnException`

  
  *   :py:class:`KMS.Client.exceptions.KMSInvalidStateException`

  
  *   :py:class:`KMS.Client.exceptions.TagException`

  

  **Examples**

  The following example removes tags from a KMS key.
  ::

    response = client.untag_resource(
        # The identifier of the KMS key whose tags you are removing.
        KeyId='1234abcd-12ab-34cd-56ef-1234567890ab',
        # A list of tag keys. Provide only the tag keys, not the tag values.
        TagKeys=[
            'Purpose',
            'CostCenter',
        ],
    )
    
    print(response)

  
  Expected Output:
  ::

    {
        'ResponseMetadata': {
            '...': '...',
        },
    }

  