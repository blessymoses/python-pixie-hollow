:doc:`KMS <../../kms>` / Paginator / ListKeyRotations

****************
ListKeyRotations
****************



.. py:class:: KMS.Paginator.ListKeyRotations

  ::

    
    paginator = client.get_paginator('list_key_rotations')

  
  

  .. py:method:: paginate(**kwargs)

    Creates an iterator that will paginate through responses from :py:meth:`KMS.Client.list_key_rotations`.

    See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/kms-2014-11-01/ListKeyRotations>`_    


    **Request Syntax**
    ::

      response_iterator = paginator.paginate(
          KeyId='string',
          IncludeKeyMaterial='ALL_KEY_MATERIAL'|'ROTATIONS_ONLY',
          PaginationConfig={
              'MaxItems': 123,
              'PageSize': 123,
              'StartingToken': 'string'
          }
      )
      
    :type KeyId: string
    :param KeyId: **[REQUIRED]** 

      Gets the key rotations for the specified KMS key.

       

      Specify the key ID or key ARN of the KMS key.

       

      For example:

       

      
      * Key ID: ``1234abcd-12ab-34cd-56ef-1234567890ab``
       
      * Key ARN: ``arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab``
      

       

      To get the key ID and key ARN for a KMS key, use  ListKeys or  DescribeKey.

      

    
    :type IncludeKeyMaterial: string
    :param IncludeKeyMaterial: 

      Use this optional parameter to control which key materials associated with this key are listed in the response. The default value of this parameter is ``ROTATIONS_ONLY``. If you omit this parameter, KMS returns information on the key materials created by automatic or on-demand key rotation. When you specify a value of ``ALL_KEY_MATERIAL``, KMS adds the first key material and any imported key material pending rotation to the response. This parameter can only be used with KMS keys that support automatic or on-demand key rotation.

      

    
    :type PaginationConfig: dict
    :param PaginationConfig: 

      A dictionary that provides parameters to control pagination.

      

    
      - **MaxItems** *(integer) --* 

        The total number of items to return. If the total number of items available is more than the value specified in max-items then a ``NextToken`` will be provided in the output that you can use to resume pagination.

        

      
      - **PageSize** *(integer) --* 

        The size of each page.

        

      
      - **StartingToken** *(string) --* 

        A token to specify where to start paginating. This is the ``NextToken`` from a previous response.

        

      
    
    
    :rtype: dict
    :returns: 
      
      **Response Syntax**

      
      ::

        {
            'Rotations': [
                {
                    'KeyId': 'string',
                    'KeyMaterialId': 'string',
                    'KeyMaterialDescription': 'string',
                    'ImportState': 'IMPORTED'|'PENDING_IMPORT',
                    'KeyMaterialState': 'NON_CURRENT'|'CURRENT'|'PENDING_ROTATION'|'PENDING_MULTI_REGION_IMPORT_AND_ROTATION',
                    'ExpirationModel': 'KEY_MATERIAL_EXPIRES'|'KEY_MATERIAL_DOES_NOT_EXPIRE',
                    'ValidTo': datetime(2015, 1, 1),
                    'RotationDate': datetime(2015, 1, 1),
                    'RotationType': 'AUTOMATIC'|'ON_DEMAND'
                },
            ],
            'Truncated': True|False,
            'NextToken': 'string'
        }
        
      **Response Structure**

      

      - *(dict) --* 
        

        - **Rotations** *(list) --* 

          A list of completed key material rotations. When the optional input parameter ``IncludeKeyMaterial`` is specified with a value of ``ALL_KEY_MATERIAL``, this list includes the first key material and any imported key material pending rotation.

          
          

          - *(dict) --* 

            Each entry contains information about one of the key materials associated with a KMS key.

            
            

            - **KeyId** *(string) --* 

              Unique identifier of the key.

              
            

            - **KeyMaterialId** *(string) --* 

              Unique identifier of the key material.

              
            

            - **KeyMaterialDescription** *(string) --* 

              User-specified description of the key material. This field is only present for symmetric encryption KMS keys with ``EXTERNAL`` origin.

              
            

            - **ImportState** *(string) --* 

              Indicates if the key material is currently imported into KMS. It has two possible values: ``IMPORTED`` or ``PENDING_IMPORT``. This field is only present for symmetric encryption KMS keys with ``EXTERNAL`` origin.

              
            

            - **KeyMaterialState** *(string) --* 

              There are four possible values for this field: ``CURRENT``, ``NON_CURRENT``, ``PENDING_MULTI_REGION_IMPORT_AND_ROTATION`` and ``PENDING_ROTATION``. KMS uses ``CURRENT`` key material for both encryption and decryption and ``NON_CURRENT`` key material only for decryption. ``PENDING_ROTATION`` identifies key material that has been imported for on-demand key rotation but the rotation hasn't completed. The key material state ``PENDING_MULTI_REGION_IMPORT_AND_ROTATION`` is unique to multi-region, symmetric encryption keys with imported key material. It indicates key material that has been imported into the primary Region key but not all of the replica Region keys. When this key material is imported in to all of the replica Region keys, the key material state will change to ``PENDING_ROTATION``. Key material in ``PENDING_MULTI_REGION_IMPORT_AND_ROTATION`` or ``PENDING_ROTATION`` state is not permanently associated with the KMS key. You can delete this key material and import different key material in its place. The ``PENDING_MULTI_REGION_IMPORT_AND_ROTATION`` and ``PENDING_ROTATION`` values are only used in symmetric encryption keys with imported key material. The other values, ``CURRENT`` and ``NON_CURRENT``, are used for all KMS keys that support automatic or on-demand key rotation.

              
            

            - **ExpirationModel** *(string) --* 

              Indicates if the key material is configured to automatically expire. There are two possible values for this field: ``KEY_MATERIAL_EXPIRES`` and ``KEY_MATERIAL_DOES_NOT_EXPIRE``. For any key material that expires, the expiration date and time is indicated in ``ValidTo``. This field is only present for symmetric encryption KMS keys with ``EXTERNAL`` origin.

              
            

            - **ValidTo** *(datetime) --* 

              Date and time at which the key material expires. This field is only present for symmetric encryption KMS keys with ``EXTERNAL`` origin in rotation list entries with an ``ExpirationModel`` value of ``KEY_MATERIAL_EXPIRES``.

              
            

            - **RotationDate** *(datetime) --* 

              Date and time that the key material rotation completed. Formatted as Unix time. This field is not present for the first key material or an imported key material in ``PENDING_ROTATION`` state.

              
            

            - **RotationType** *(string) --* 

              Identifies whether the key material rotation was a scheduled `automatic rotation <https://docs.aws.amazon.com/kms/latest/developerguide/rotating-keys-enable-disable.html>`__ or an `on-demand rotation <https://docs.aws.amazon.com/kms/latest/developerguide/rotating-keys-on-demand.html>`__. This field is not present for the first key material or an imported key material in ``PENDING_ROTATION`` state.

              
        
      
        

        - **Truncated** *(boolean) --* 

          A flag that indicates whether there are more items in the list. When this value is true, the list in this response is truncated. To get more items, pass the value of the ``NextMarker`` element in this response to the ``Marker`` parameter in a subsequent request.

          
        

        - **NextToken** *(string) --* 

          A token to resume pagination.

          
    