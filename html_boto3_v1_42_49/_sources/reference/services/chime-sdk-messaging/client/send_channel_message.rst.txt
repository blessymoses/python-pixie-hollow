:doc:`ChimeSDKMessaging <../../chime-sdk-messaging>` / Client / send_channel_message

********************
send_channel_message
********************



.. py:method:: ChimeSDKMessaging.Client.send_channel_message(**kwargs)

  

  Sends a message to a particular channel that the member is a part of.

   

  .. note::

    

    The ``x-amz-chime-bearer`` request header is mandatory. Use the ARN of the ``AppInstanceUser`` or ``AppInstanceBot`` that makes the API call as the value in the header.

     

    Also, ``STANDARD`` messages can be up to 4KB in size and contain metadata. Metadata is arbitrary, and you can use it in a variety of ways, such as containing a link to an attachment.

     

    ``CONTROL`` messages are limited to 30 bytes and do not contain metadata.

    

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/chime-sdk-messaging-2021-05-15/SendChannelMessage>`_  


  **Request Syntax**
  ::

    response = client.send_channel_message(
        ChannelArn='string',
        Content='string',
        Type='STANDARD'|'CONTROL',
        Persistence='PERSISTENT'|'NON_PERSISTENT',
        Metadata='string',
        ClientRequestToken='string',
        ChimeBearer='string',
        PushNotification={
            'Title': 'string',
            'Body': 'string',
            'Type': 'DEFAULT'|'VOIP'
        },
        MessageAttributes={
            'string': {
                'StringValues': [
                    'string',
                ]
            }
        },
        SubChannelId='string',
        ContentType='string',
        Target=[
            {
                'MemberArn': 'string'
            },
        ]
    )
    
  :type ChannelArn: string
  :param ChannelArn: **[REQUIRED]** 

    The ARN of the channel.

    

  
  :type Content: string
  :param Content: **[REQUIRED]** 

    The content of the channel message.

    

  
  :type Type: string
  :param Type: **[REQUIRED]** 

    The type of message, ``STANDARD`` or ``CONTROL``.

     

    ``STANDARD`` messages can be up to 4KB in size and contain metadata. Metadata is arbitrary, and you can use it in a variety of ways, such as containing a link to an attachment.

     

    ``CONTROL`` messages are limited to 30 bytes and do not contain metadata.

    

  
  :type Persistence: string
  :param Persistence: **[REQUIRED]** 

    Boolean that controls whether the message is persisted on the back end. Required.

    

  
  :type Metadata: string
  :param Metadata: 

    The optional metadata for each message.

    

  
  :type ClientRequestToken: string
  :param ClientRequestToken: **[REQUIRED]** 

    The ``Idempotency`` token for each client request.

    This field is autopopulated if not provided.

  
  :type ChimeBearer: string
  :param ChimeBearer: **[REQUIRED]** 

    The ARN of the ``AppInstanceUser`` or ``AppInstanceBot`` that makes the API call.

    

  
  :type PushNotification: dict
  :param PushNotification: 

    The push notification configuration of the message.

    

  
    - **Title** *(string) --* 

      The title of the push notification.

      

    
    - **Body** *(string) --* 

      The body of the push notification.

      

    
    - **Type** *(string) --* 

      Enum value that indicates the type of the push notification for a message. ``DEFAULT``: Normal mobile push notification. ``VOIP``: VOIP mobile push notification.

      

    
  
  :type MessageAttributes: dict
  :param MessageAttributes: 

    The attributes for the message, used for message filtering along with a ``FilterRule`` defined in the ``PushNotificationPreferences``.

    

  
    - *(string) --* 

    
      - *(dict) --* 

        A list of message attribute values.

        

      
        - **StringValues** *(list) --* 

          The strings in a message attribute value.

          

        
          - *(string) --* 

          
      
      


  :type SubChannelId: string
  :param SubChannelId: 

    The ID of the SubChannel in the request.

    

  
  :type ContentType: string
  :param ContentType: 

    The content type of the channel message.

    

  
  :type Target: list
  :param Target: 

    The target of a message. Must be a member of the channel, such as another user, a bot, or the sender. Only the target and the sender can view targeted messages. Only users who can see targeted messages can take actions on them. However, administrators can delete targeted messages that they can’t see.

    

  
    - *(dict) --* 

      The target of a message, a sender, a user, or a bot. Only the target and the sender can view targeted messages. Only users who can see targeted messages can take actions on them. However, administrators can delete targeted messages that they can’t see.

      

    
      - **MemberArn** *(string) --* 

        The ARN of the target channel member.

        

      
    

  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'ChannelArn': 'string',
          'MessageId': 'string',
          'Status': {
              'Value': 'SENT'|'PENDING'|'FAILED'|'DENIED',
              'Detail': 'string'
          },
          'SubChannelId': 'string'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **ChannelArn** *(string) --* 

        The ARN of the channel.

        
      

      - **MessageId** *(string) --* 

        The ID string assigned to each message.

        
      

      - **Status** *(dict) --* 

        The status of the channel message.

        
        

        - **Value** *(string) --* 

          The message status value.

          
        

        - **Detail** *(string) --* 

          Contains more details about the message status.

          
    
      

      - **SubChannelId** *(string) --* 

        The ID of the SubChannel in the response.

        
  
  **Exceptions**
  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.BadRequestException`

  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.ConflictException`

  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.ForbiddenException`

  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.UnauthorizedClientException`

  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.ThrottledClientException`

  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.ServiceUnavailableException`

  
  *   :py:class:`ChimeSDKMessaging.Client.exceptions.ServiceFailureException`

  